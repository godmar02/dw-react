{"version":3,"sources":["components/ErrorPage.js","services/firebase.js","components/homepage/HomepageHeader.js","components/contexts/HomepageState.js","components/contexts/AuthState.js","components/homepage/HomepageDetails.js","components/homepage/Homepage.js","components/contexts/ProfileState.js","components/profile/ProfilePicture.js","components/profile/ProfileDetails.js","components/profile/UserProfile.js","components/AppHeader.js","components/contexts/CharacterState.js","components/character/CharacterSheetHeader.js","components/character/CharacterBasicDetails.js","components/character/CharacterDamage.js","components/character/CharacterArmour.js","components/character/CharacterFunds.js","components/character/CharacterHP.js","components/character/CharacterLevel.js","components/character/CharacterXP.js","components/character/CharacterBasicStats.js","components/character/CharacterAbilities.js","components/contexts/AddBondState.js","components/character/AddBond.js","components/character/CharacterBonds.js","components/contexts/AddItemState.js","components/character/AddItem.js","components/character/CharacterGear.js","components/character/CharacterClassFeatures.js","components/character/CharacterStandardMoves.js","components/character/CharacterAdvancedMoves.js","components/contexts/AddMoveState.js","components/character/AddMove.js","components/character/CharacterClassMoves.js","components/character/CharacterMoves.js","components/other/DiceRoller.js","components/character/CharacterSheet.js","components/contexts/CampaignState.js","components/campaign/CampaignHeader.js","components/campaign/CampaignDetails.js","components/campaign/Campaign.js","components/character/CreateCharacter.js","components/App.js","index.js"],"names":["ErrorPage","firebase","initializeApp","apiKey","process","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","provider","GoogleAuthProvider","SignInWithGoogle","signInWithPopup","saveCharacter","campaign","character","data","collection","doc","set","setCustomParameters","prompt","HomepageHeader","Breadcrumbs","aria-label","HomepageState","createContext","AuthState","useStyles","makeStyles","table","minWidth","HomepageDetails","classes","currentUser","useContext","useState","open","setOpen","campaignName","setCampaignName","campaigns","handleCancel","saveCampaign","owner","email","then","console","info","catch","error","alert","deleteCampaign","delete","TableContainer","component","Paper","Table","className","TableHead","TableRow","TableCell","IconButton","onClick","Add","TableBody","map","index","to","id","Delete","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","fullWidth","onChange","event","target","value","DialogActions","Button","color","Homepage","setCampaigns","useEffect","observer","next","querySnapshot","updatedCampaignList","docs","docSnapshot","onSnapshot","ctx","useMemo","Provider","ProfileState","ProfilePicture","show","setShow","Avatar","src","photoURL","alt","ProfileDetails","style","border","WebkitBorderRadius","borderRadius","display","position","top","right","backgroundColor","textAlign","font","letterSpacing","lineHeight","fontWeight","padding","displayName","variant","FirebaseService","signOut","UserProfile","theme","root","flexGrow","menuButton","marginRight","spacing","title","AppHeader","AppBar","Toolbar","edge","Menu","Typography","CharacterState","CharacterSheetHeader","useParams","campaignURL","characterURL","dw_class","level","smallTextField","width","CharacterBasicDetails","setCharacter","dwc","alig","alignment","handleCharacterChange","name","size","multiline","placeholder","full_name","backstory","class_details","suggested_look","suggestedLook","look","readOnly","race","race_move","alignments","find","x","attribute","textField","CharacterDamage","InputProps","damage","CharacterArmour","type","inputProps","min","armour","CharacterFunds","funds","CharacterHP","maxHp","abilities","base_hp","parseInt","category","score","hp","endAdornment","InputAdornment","input","CharacterLevel","CharacterXP","maxXp","xp","CharacterBasicStats","Grid","item","xs","container","justify","card","button","fontSize","CharacterAbilities","updateAbilityScore","e","newAbilities","abilityModifier","abilityScore","abilityAffliction","baseModifier","indexOf","modifier","Card","CardContent","reduce","totalScore","max","afflicted","newAffliction","updateAbilityAfflicted","ability","log","ability_afflictions","AddBondState","formControl","AddBond","bond","setBond","addBond","newBonds","bonds","FormControl","RadioGroup","FormControlLabel","control","Radio","suggested_bonds","CharacterBonds","updateBond","splice","deleteBond","align","colSpan","AddItemState","AddItem","setItem","addItem","newItem","items","Object","assign","checkbox","newItems","Autocomplete","freeSolo","options","option","renderInput","params","chips","flexWrap","chip","maxWidth","borderBottom","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","Row","props","openRow","setOpenRow","updateItem","KeyboardArrowUp","KeyboardArrowDown","Checkbox","checked","updateItemCheckbox","uses","Select","multiple","tags","Input","renderValue","selected","Chip","itemTags","MenuItem","weight","deleteItem","paddingBottom","paddingTop","Collapse","in","timeout","unmountOnExit","Box","tabIndex","itemTypes","description","cost","CharacterGear","totalLoad","maxLoad","affliction","str","base_load","CharacterClassFeatures","updateFeatureCheckbox","newFeatures","class_features","updateFeature","feature","deleteFeatureRow","addFeatureRow","CharacterStandardMoves","standard_moves","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","dangerouslySetInnerHTML","__html","CharacterAdvancedMoves","advanced_moves","AddMoveState","AddMove","move","setMove","addMove","newMove","moves","newMoves","filter","CharacterClassStartingMoves","source","TabPanel","children","other","role","hidden","p","a11yProps","palette","background","paper","CharacterMoves","React","setValue","Tabs","newValue","Tab","DiceRoller","dice","setDice","diceNum","setDiceNum","rollResult","setRollResult","singleRoll","sides","Math","floor","random","InputLabel","defaultValue","disabled","total","i","rollDice","CharacterSheet","documentSnapshot","debouncedSave","useCallback","callback","delay","timer","args","clearTimeout","setTimeout","debounce","keys","length","CampaignState","CampaignHeader","CampaignDetails","deleteCharacter","CardHeader","action","subheader","characterData","CampaignSheet","setCampaign","updatedCharacterList","resetButton","cancelButton","backButton","instructions","marginTop","marginBottom","history","useHistory","charaName","setCharaName","charaFullName","setCharaFullName","charaClass","setCharaClass","charaRace","setCharaRace","charaAlignment","setCharaAlignment","charaRaceMove","setCharaRaceMove","charaMoveOption","setCharaMoveOption","charaGearOptions","setCharaGearOptions","charaBonds","setCharaBonds","activeStep","setActiveStep","setError","steps","handleNext","prevActiveStep","handleBack","handleBondChange","handleReset","push","handleSave","gearDescription","gear","count","attributes","item_description","singleInput","replace","Number","isFinite","join","Boolean","gearOptions","gearChoices","starting_gear_options","gearChoice","choiceGroup","multiplicity","Fragment","FormLabel","newGear","addCharaGearOptions","toString","FormGroup","v","addCharaGearMultiOptions","moveOptions","moveChoices","moveNext","startingFunds","String","starting_funds","startingMoves","concat","startingGear","starting_gear","choice","Array","isArray","flat","singleItem","coins","ammount","match","singleObject","Stepper","alternativeLabel","Step","StepLabel","direction","alignItems","stepIndex","dw_classes","intro","race_moves","suggested_names","starting_gear_details","includes","undefined","getStepContent","App","Container","exact","path","Campaign","CreateCharacter","Index","setCurrentUser","onAuthStateChanged","user","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.023a2961.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function ErrorPage() {\n  return <h1>Oops! Page not found!</h1>;\n}\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\n// Initialise Firebase and setting up firestore and auth for use later\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const db = firebase.firestore();\n\n// Authenticate with Firebase-auth using the Google provider object\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({\n  prompt: 'select_account',\n});\nexport function SignInWithGoogle() {\n  auth.signInWithPopup(provider);\n}\n\n// Firestore operations\n\n// Create new campaign\nexport function createCampaign(campaign, owner) {\n  return db.collection('campaigns').doc(campaign).set({ owner: owner });\n}\n\n// Save/Create Character\nexport function saveCharacter(campaign, character, data) {\n  return db\n    .collection('campaigns')\n    .doc(campaign)\n    .collection('characters')\n    .doc(character)\n    .set(data);\n}\n\n// Stream Campaign Data (all Campaigns)\nexport function streamCampaigns(observer) {\n  return db.collection('campaigns').onSnapshot(observer);\n}\n\n// Stream Character Data (all Characters)\nexport function streamCharacters(campaign, observer) {\n  return db\n    .collection('campaigns')\n    .doc(campaign)\n    .collection('characters')\n    .onSnapshot(observer);\n}\n\n// Stream Character Data (selected Characters)\nexport function streamCharacter(campaign, character, observer) {\n  return db\n    .collection('campaigns')\n    .doc(campaign)\n    .collection('characters')\n    .doc(character)\n    .onSnapshot(observer);\n}\n\n// Delete Campaign\nexport function deleteCampaign(campaign) {\n  return db.collection('campaigns').doc(campaign).delete();\n}\n\n// Delete Characters\nexport function deleteCharacter(campaign, character) {\n  return db\n    .collection('campaigns')\n    .doc(campaign)\n    .collection('characters')\n    .doc(character)\n    .delete();\n}\n\n// Default Export\nexport default firebase;\n","import React from 'react';\nimport { Breadcrumbs } from '@material-ui/core';\n\nexport default function HomepageHeader() {\n  return (\n    <div>\n      <Breadcrumbs aria-label='breadcrumb'>\n        <p>Home</p>\n      </Breadcrumbs>\n      <h1>Campaigns Homepage</h1>\n    </div>\n  );\n}\n","import { createContext } from 'react';\n\nconst HomepageState = createContext();\n\nexport default HomepageState;\n","import { createContext } from 'react';\n\nconst AuthState = createContext();\n\nexport default AuthState;\n","import React, { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as FirebaseService from 'services/firebase';\nimport HomepageState from 'components/contexts/HomepageState';\nimport AuthState from 'components/contexts/AuthState';\nimport { Add, Delete } from '@material-ui/icons';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport default function HomepageDetails() {\n  const classes = useStyles();\n  const { currentUser } = useContext(AuthState);\n  const [open, setOpen] = useState(false);\n  const [campaignName, setCampaignName] = useState('');\n  const { campaigns } = useContext(HomepageState);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCancel = () => {\n    setOpen(false);\n  };\n\n  const handleSave = () => {\n    setOpen(false);\n    saveCampaign();\n  };\n\n  // Create New Campaign\n  const saveCampaign = () => {\n    if (campaignName) {\n      //don't save unless details present\n      FirebaseService.createCampaign(campaignName, currentUser.email)\n        .then(() => {\n          console.info('Created Campaign:', campaignName);\n        })\n        .catch((error) => {\n          alert('Failed to create campaign, see console error');\n          console.error('Error creating document:', error);\n        });\n    } else {\n      alert('Cannot save blank campaign');\n    }\n  };\n\n  // Delete Campaign\n  const deleteCampaign = (campaignName) => {\n    if (campaignName) {\n      //don't save unless details present\n      FirebaseService.deleteCampaign(campaignName)\n        .then(() => {\n          console.info('Deleted Campaign:', campaignName);\n        })\n        .catch((error) => {\n          alert('Failed to delete campaign, see console error');\n          console.error('Error deleting document:', error);\n        });\n    } else {\n      alert('Cannot delete blank campaign');\n    }\n  };\n\n  return (\n    <>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell>Campaign</TableCell>\n              <TableCell>Owner</TableCell>\n              <TableCell>\n                <IconButton aria-label='add' onClick={handleClickOpen}>\n                  <Add />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {campaigns.campaigns &&\n              campaigns.campaigns.map((campaign, index) => {\n                return (\n                  <TableRow key={index}>\n                    <TableCell>\n                      <Link to={'/dw-react/' + campaign.id}>{campaign.id}</Link>\n                    </TableCell>\n                    <TableCell>{campaign.owner}</TableCell>\n                    <TableCell>\n                      <IconButton\n                        aria-label='delete'\n                        onClick={() => deleteCampaign(campaign.id)}>\n                        <Delete />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Dialog\n        open={open}\n        onClose={handleCancel}\n        aria-labelledby='form-dialog-title'>\n        <DialogTitle id='form-dialog-title'>Create new campaign</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            To create a campaign, please enter the new campaign name here. You\n            will not be able to change this once saved.\n          </DialogContentText>\n          <TextField\n            autoFocus={true}\n            margin='dense'\n            id='name'\n            label='Campaign Name'\n            fullWidth\n            onChange={(event) => setCampaignName(event.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCancel} color='primary'>\n            Cancel\n          </Button>\n          <Button onClick={handleSave} color='primary'>\n            Create Campaign\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useState, useEffect, useMemo } from 'react';\nimport * as FirebaseService from 'services/firebase';\nimport HomepageHeader from 'components/homepage/HomepageHeader';\nimport HomepageDetails from 'components/homepage/HomepageDetails';\nimport HomepageState from 'components/contexts/HomepageState';\n\nexport default function Homepage() {\n  const [campaigns, setCampaigns] = useState({});\n\n  // Use an effect hook to subscribe to the campaign stream and\n  // automatically unsubscribe when the component unmounts.\n  useEffect(() => {\n    const unsubscribe = FirebaseService.streamCampaigns({\n      next: (querySnapshot) => {\n        const updatedCampaignList = querySnapshot.docs.map((docSnapshot) => {\n          return { id: docSnapshot.id, owner: docSnapshot.data().owner };\n        });\n        setCampaigns((campaign) => ({ campaigns: updatedCampaignList }));\n      },\n      error: (error) => {\n        alert('Failed to load data correctly, see console error');\n        console.error('Error loading data:', error);\n      },\n    });\n    return unsubscribe;\n  }, [setCampaigns]);\n\n  useEffect(() => {\n    console.info('Campaigns State:', campaigns);\n  }, [campaigns]); //Only log to console if state actually changes\n\n  const ctx = useMemo(() => ({ campaigns }), [campaigns]); //Memo-ised state for performance\n\n  return (\n    <HomepageState.Provider value={ctx}>\n      <HomepageHeader />\n      <br />\n      <HomepageDetails />\n    </HomepageState.Provider>\n  );\n}\n","import { createContext } from 'react';\n\nconst ProfileState = createContext();\n\nexport default ProfileState;\n","import React, { useContext } from \"react\";\nimport AuthState from \"components/contexts/AuthState\";\nimport ProfileState from \"components/contexts/ProfileState\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nexport default function ProfilePicture() {\n  const { currentUser } = useContext(AuthState);\n  const { show, setShow } = useContext(ProfileState);\n  const toggleSetShow = () => setShow(!show);\n\n  return (\n    <Avatar\n      src={currentUser.photoURL}\n      alt=\"Google Profile\"\n      onClick={() => toggleSetShow()}\n    />\n  );\n}\n","import React, { useContext } from 'react';\nimport AuthState from 'components/contexts/AuthState';\nimport * as FirebaseService from 'services/firebase';\nimport { Button } from '@material-ui/core';\n\nexport default function ProfileDetails() {\n  const { currentUser } = useContext(AuthState);\n\n  return (\n    <div\n      style={{\n        border: '0',\n        WebkitBorderRadius: '50%',\n        borderRadius: '5px',\n        display: 'inline-block',\n        margin: '0',\n        position: 'absolute',\n        top: '50px',\n        right: '20px',\n        color: '#bdc1c6',\n        backgroundColor: 'rgba(60, 64, 67, 0.9)',\n        textAlign: 'left',\n        font: \"500 12px 'Roboto', arial, sans-serif\",\n        letterSpacing: '0.8px',\n        lineHeight: '16px',\n        fontWeight: 'bold',\n        padding: '8px 8px',\n      }}>\n      <div\n        style={{\n          color: 'white',\n        }}>\n        Google Account\n      </div>\n      <div>{currentUser.displayName}</div>\n      <div>{currentUser.email}</div>\n      <Button\n        variant='contained'\n        color='primary'\n        onClick={() => FirebaseService.auth.signOut()}>\n        LOG OUT\n      </Button>\n    </div>\n  );\n}\n","import React, { useState, useMemo } from 'react';\nimport ProfilePicture from 'components/profile/ProfilePicture';\nimport ProfileDetails from 'components/profile/ProfileDetails';\nimport ProfileState from 'components/contexts/ProfileState';\n\nexport default function UserProfile() {\n  const [show, setShow] = useState(false);\n  const ctx = useMemo(() => ({ show, setShow }), [show]); //Memo-ised state for performance\n\n  return (\n    <ProfileState.Provider value={ctx}>\n      <ProfilePicture /> {show ? <ProfileDetails /> : null}\n    </ProfileState.Provider>\n  );\n}\n","import React from 'react';\nimport { AppBar, IconButton, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Menu } from '@material-ui/icons';\nimport UserProfile from 'components/profile/UserProfile';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function AppHeader() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position='static'>\n        <Toolbar>\n          <IconButton\n            edge='start'\n            className={classes.menuButton}\n            color='inherit'\n            aria-label='menu'>\n            <Menu />\n          </IconButton>\n          <Typography component={'span'} variant='h6' className={classes.title}>\n            Dungeon World Character Sheet (by Godmar02)\n          </Typography>\n          <UserProfile />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import { createContext } from 'react';\n\nconst CharacterState = createContext();\n\nexport default CharacterState;\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport { Breadcrumbs } from '@material-ui/core';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { class_details } from 'data/classDetails';\n\nexport default function CharacterSheetHeader() {\n  const { campaignURL, characterURL } = useParams();\n  const { character } = useContext(CharacterState);\n\n  return (\n    <>\n      <Breadcrumbs aria-label='breadcrumb'>\n        <Link to='/dw-react'>Home</Link>\n        <Link to={'/dw-react/' + campaignURL}>{campaignURL}</Link>\n        <p>{characterURL}</p>\n      </Breadcrumbs>\n      <h1>{characterURL}</h1>\n      <p>\n        {character.dw_class} - Level {character.level}\n      </p>\n    </>\n  );\n}\n","import React, { useContext } from 'react';\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  TextField,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { class_details } from 'data/classDetails';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  smallTextField: {\n    width: 120,\n  },\n});\n\nexport default function CharacterBasicDetails() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const classes = useStyles();\n\n  const dwc = character.dw_class;\n  const alig = character.alignment;\n  const alignmentAttribute = () => {\n    if (character.dw_class && character.alignment) {\n      return class_details[dwc].alignments.find((x) => x.alignment === alig)\n        .attribute;\n    } else {\n      return '';\n    }\n  };\n\n  const handleCharacterChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setCharacter((character) => ({ ...character, [name]: value }));\n  };\n\n  const suggestedLook = () => {\n    if (character.dw_class) {\n      let dwc = character.dw_class;\n      return class_details[dwc].suggested_look;\n    } else {\n      return '';\n    }\n  };\n\n  return (\n    <>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} size='small' aria-label='simple table'>\n          <TableBody>\n            <TableRow>\n              <TableCell>FULL NAME</TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  variant='outlined'\n                  aria-label='empty textarea'\n                  placeholder=\"Your character's full name, titles and all\"\n                  value={character.full_name}\n                  name='full_name'\n                  onChange={handleCharacterChange}\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>BACKSTORY</TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  variant='outlined'\n                  aria-label='empty textarea'\n                  placeholder=\"Describe your character's backstory and anything else about your characters identity here\"\n                  value={character.backstory}\n                  name='backstory'\n                  onChange={handleCharacterChange}\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>LOOK</TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  variant='outlined'\n                  aria-label='empty textarea'\n                  placeholder={suggestedLook()}\n                  name='look'\n                  value={character.look}\n                  onChange={handleCharacterChange}\n                />\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <br />\n      <TableContainer component={Paper}>\n        <Table className={classes.table} size='small' aria-label='simple table'>\n          <TableBody>\n            <TableRow>\n              <TableCell>CLASS</TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  readOnly\n                  className={classes.smallTextField}\n                  variant='outlined'\n                  name='dwClass'\n                  value={character.dw_class}\n                />\n              </TableCell>\n              <TableCell></TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>RACE</TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  readOnly\n                  className={classes.smallTextField}\n                  variant='outlined'\n                  name='race'\n                  value={character.race}\n                />\n              </TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  readOnly\n                  variant='outlined'\n                  name='race_move'\n                  value={character.race_move}\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>ALIGNMENT</TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  readOnly\n                  className={classes.smallTextField}\n                  variant='outlined'\n                  name='alignment'\n                  value={character.alignment}\n                />\n              </TableCell>\n              <TableCell>\n                <TextField\n                  multiline\n                  fullWidth\n                  readOnly\n                  variant='outlined'\n                  name='alignment_move'\n                  value={alignmentAttribute()}\n                />\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { class_details } from 'data/classDetails';\nimport { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: 80,\n    '& input': {\n      textAlign: 'center',\n    },\n  },\n}));\n\nexport default function CharacterDamage() {\n  const { character } = useContext(CharacterState);\n  const dwc = character.dw_class;\n  const classes = useStyles();\n\n  const damage = () => {\n    if (character.dw_class) {\n      return class_details[dwc].damage;\n    } else {\n      return '';\n    }\n  };\n\n  return (\n    <TextField\n      variant='outlined'\n      size='small'\n      className={classes.textField}\n      name='damage'\n      label='Damage'\n      InputProps={{\n        readOnly: true,\n      }}\n      value={damage()}\n    />\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: 80,\n  },\n}));\n\nexport default function CharacterArmour() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const classes = useStyles();\n\n  const handleCharacterChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setCharacter((character) => ({ ...character, [name]: value }));\n  };\n\n  return (\n    <TextField\n      type='number'\n      variant='outlined'\n      size='small'\n      label='Armour'\n      inputProps={{\n        style: { textAlign: 'center' },\n        min: 0,\n      }}\n      name='armour'\n      className={classes.textField}\n      value={character.armour || ''}\n      onChange={handleCharacterChange}\n    />\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: 80,\n  },\n}));\n\nexport default function CharacterFunds() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const classes = useStyles();\n\n  const handleCharacterChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setCharacter((character) => ({ ...character, [name]: value }));\n  };\n\n  return (\n    <TextField\n      type='number'\n      variant='outlined'\n      size='small'\n      className={classes.textField}\n      name='funds'\n      label='Funds'\n      inputProps={{\n        style: { textAlign: 'center' },\n        min: 0,\n      }}\n      value={character.funds || ''}\n      onChange={handleCharacterChange}\n    />\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { class_details } from 'data/classDetails';\nimport { InputAdornment, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: 100,\n  },\n}));\n\nexport default function CharacterHP() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const dwc = character.dw_class;\n  const classes = useStyles();\n\n  const maxHp = () => {\n    if (character.dw_class && character.abilities) {\n      return (\n        class_details[dwc].base_hp +\n        parseInt(\n          character.abilities.find((x) => x.category === 'CON').score,\n          10\n        )\n      );\n    } else {\n      return '';\n    }\n  };\n\n  // Validate XP\n  const validateHp = () => {\n    if (parseInt(character.hp, 10) > maxHp()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleCharacterChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setCharacter((character) => ({ ...character, [name]: value }));\n  };\n\n  return (\n    <>\n      <TextField\n        type='number'\n        variant='outlined'\n        label='HP'\n        error={validateHp()}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position='end'>{' / ' + maxHp()}</InputAdornment>\n          ),\n          className: classes.input,\n        }}\n        size='small'\n        className={classes.textField}\n        inputProps={{\n          style: { textAlign: 'center' },\n          min: 0,\n        }}\n        name='hp'\n        value={character.hp || ''}\n        onChange={handleCharacterChange}\n      />\n    </>\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: 80,\n  },\n}));\n\nexport default function CharacterLevel() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const classes = useStyles();\n\n  const handleCharacterChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setCharacter((character) => ({ ...character, [name]: value }));\n  };\n\n  return (\n    <TextField\n      type='number'\n      variant='outlined'\n      size='small'\n      label='Level'\n      className={classes.textField}\n      inputProps={{\n        style: { textAlign: 'center' },\n        min: 1,\n      }}\n      name='level'\n      value={character.level || ''}\n      onChange={handleCharacterChange}\n    />\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { InputAdornment, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: 100,\n  },\n}));\n\nexport default function CharacterXP() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const classes = useStyles();\n\n  // Total Load\n  const maxXp = () => {\n    if (character.level) {\n      return parseInt(character.level, 10) + 7;\n    } else {\n      return '';\n    }\n  };\n\n  // Validate XP\n  const validateXp = () => {\n    if (parseInt(character.xp, 10) > maxXp()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleCharacterChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setCharacter((character) => ({ ...character, [name]: value }));\n  };\n\n  return (\n    <>\n      <TextField\n        type='number'\n        variant='outlined'\n        label='XP'\n        error={validateXp()}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position='end'>{' / ' + maxXp()}</InputAdornment>\n          ),\n          className: classes.input,\n        }}\n        size='small'\n        className={classes.textField}\n        inputProps={{\n          style: { textAlign: 'center' },\n          min: 0,\n        }}\n        name='xp'\n        value={character.xp || ''}\n        onChange={handleCharacterChange}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CharacterDamage from 'components/character/CharacterDamage';\nimport CharacterArmour from 'components/character/CharacterArmour';\nimport CharacterFunds from 'components/character/CharacterFunds';\nimport CharacterHP from 'components/character/CharacterHP';\nimport CharacterLevel from 'components/character/CharacterLevel';\nimport CharacterXP from 'components/character/CharacterXP';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth: 275,\n  },\n}));\n\nexport default function CharacterBasicStats() {\n  const classes = useStyles();\n\n  return (\n    <Grid className={classes.root}>\n      <Grid item xs={12}>\n        <Grid container justify='center' spacing={1}>\n          <Grid item>\n            <CharacterLevel />\n          </Grid>\n          <Grid item>\n            <CharacterHP />\n          </Grid>\n          <Grid item>\n            <CharacterXP />\n          </Grid>\n          <Grid item>\n            <CharacterDamage />\n          </Grid>\n          <Grid item>\n            <CharacterArmour />\n          </Grid>\n          <Grid item>\n            <CharacterFunds />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { ability_afflictions } from 'data/abilityAfflictions';\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Grid,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    margin: 0,\n    padding: 0,\n    width: 109,\n  },\n  title: {\n    margin: 0,\n    padding: 0,\n    textAlign: 'center',\n    fontWeight: 'bold',\n  },\n  textField: {\n    margin: 0,\n    padding: 0,\n    width: 85,\n  },\n  button: {\n    margin: 0,\n    padding: 0,\n    width: 85,\n    fontSize: 11,\n    fontWeight: 'bold',\n  },\n}));\n\nexport default function CharacterAbilities() {\n  const classes = useStyles();\n  const { character, setCharacter } = useContext(CharacterState);\n\n  const updateAbilityScore = (index) => (e) => {\n    let newAbilities = [...character.abilities]; // copying the old array\n    newAbilities[index] = {\n      ...character.abilities[index],\n      score: e.target.value,\n    }; // replace value\n    setCharacter((character) => ({\n      ...character,\n      abilities: newAbilities,\n    })); // set array back\n  };\n\n  const afflictedValue = (ability, afflicted) => {\n    console.log('ability', ability);\n    console.log('afflicted', afflicted);\n    if (afflicted) {\n      return ability_afflictions[ability];\n    } else {\n      return 'Unafflicted';\n    }\n  };\n\n  const updateAbilityAfflicted = (index) => {\n    const newAffliction = !character.abilities[index].afflicted; //switching boolean\n    let newAbilities = [...character.abilities]; // copying the old array\n    newAbilities[index] = {\n      ...character.abilities[index],\n      afflicted: newAffliction,\n    }; // replace value\n    setCharacter((character) => ({\n      ...character,\n      abilities: newAbilities,\n    })); // set array back\n  };\n\n  const abilityModifier = (abilityScore, abilityAffliction) => {\n    if (abilityScore) {\n      let baseModifier;\n      let afflicted;\n\n      abilityScore = parseInt(abilityScore, 10);\n\n      if ([1, 2, 3].indexOf(abilityScore) > -1) {\n        baseModifier = -3;\n      } else if ([4, 5].indexOf(abilityScore) > -1) {\n        baseModifier = -2;\n      } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\n        baseModifier = -1;\n      } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\n        baseModifier = 0;\n      } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\n        baseModifier = 1;\n      } else if ([16, 17].indexOf(abilityScore) > -1) {\n        baseModifier = 2;\n      } else if (abilityScore === 18) {\n        baseModifier = 3;\n      }\n\n      /* -1 if afflicted */\n      if (abilityAffliction) {\n        afflicted = 1;\n      } else {\n        afflicted = 0;\n      }\n\n      let modifier = baseModifier - afflicted;\n\n      if (modifier > 0) {\n        return '+' + modifier;\n      } else {\n        return modifier;\n      }\n    } else {\n      return '';\n    }\n  };\n\n  // Validate Score\n  const validateScore = () => {\n    const totalScore = character.abilities.reduce(\n      (totalScore, data) => totalScore + parseInt(data.score || 0, 10),\n      0\n    );\n    if (totalScore !== 73) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return (\n    <Grid className={classes.root}>\n      <Grid item xs={12}>\n        <Grid container justify='center' spacing={1}>\n          {character.abilities &&\n            character.abilities.map((abilities, index) => {\n              return (\n                <Grid item key={index}>\n                  <Card className={classes.card}>\n                    <CardContent>\n                      <Typography className={classes.title}>\n                        {abilities.category}\n                      </Typography>\n                      <TextField\n                        type='number'\n                        variant='outlined'\n                        error={validateScore()}\n                        size='small'\n                        margin='none'\n                        name={abilities.category + 'Score'}\n                        value={abilities.score}\n                        className={classes.textField}\n                        inputProps={{\n                          style: { textAlign: 'center' },\n                          min: 1,\n                          max: 18,\n                        }}\n                        onChange={updateAbilityScore(index)}\n                      />\n                      <TextField\n                        variant='outlined'\n                        name={abilities.category + 'Modifier'}\n                        value={abilityModifier(\n                          abilities.score,\n                          abilities.afflicted\n                        )}\n                        InputProps={{ readOnly: true }}\n                        inputProps={{\n                          style: {\n                            textAlign: 'center',\n                            fontWeight: 'bold',\n                            fontSize: 25,\n                          },\n                        }}\n                        className={classes.textField}\n                      />\n                      <Button\n                        onClick={() => updateAbilityAfflicted(index)}\n                        className={classes.button}>\n                        {afflictedValue(\n                          abilities.category,\n                          abilities.afflicted\n                        )}\n                      </Button>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              );\n            })}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import { createContext } from 'react';\n\nconst AddBondState = createContext();\n\nexport default AddBondState;\n","import React, { useContext, useState } from 'react';\nimport AddBondState from 'components/contexts/AddBondState';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { class_details } from 'data/classDetails';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControl,\n  FormControlLabel,\n  RadioGroup,\n  Radio,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nexport default function AddBond() {\n  const classes = useStyles();\n  const { open, setOpen } = useContext(AddBondState);\n  const { character, setCharacter } = useContext(CharacterState);\n  const [bond, setBond] = useState('');\n  const dwc = character.dw_class;\n\n  const handleCancel = () => {\n    setBond('');\n    setOpen(false);\n  };\n\n  const handleSave = () => {\n    addBond();\n    setBond('');\n    setOpen(false);\n  };\n\n  const addBond = () => {\n    const newBonds = [...character.bonds, bond]; // copying the old array and adding new bond depending upon selection\n    setCharacter((character) => ({ ...character, bonds: newBonds })); // set array back\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleCancel}\n      aria-labelledby='form-dialog-title'>\n      <DialogTitle id='form-dialog-title'>Add new bond</DialogTitle>{' '}\n      <DialogContent>\n        <DialogContentText>\n          Choose a suggested bond to add. If you wish to create your own choose\n          'CUSTOM'.\n        </DialogContentText>\n        <FormControl component='fieldset' className={classes.formControl}>\n          <RadioGroup\n            aria-label='bond'\n            name='bond'\n            value={bond}\n            onChange={(event) => setBond(event.target.value)}>\n            <FormControlLabel value='' control={<Radio />} label='CUSTOM' />\n            {character.dw_class &&\n              class_details[dwc].suggested_bonds.map((data, index) => {\n                return (\n                  <FormControlLabel\n                    key={index}\n                    value={data}\n                    control={<Radio />}\n                    label={data}\n                  />\n                );\n              })}\n          </RadioGroup>\n        </FormControl>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCancel} color='primary'>\n          Cancel\n        </Button>\n        <Button onClick={handleSave} color='primary'>\n          Add Bond\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useContext, useMemo, useState } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport AddBondState from 'components/contexts/AddBondState';\nimport AddBond from 'components/character/AddBond';\nimport {\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Add, Delete } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n}));\n\nexport default function CharacterBonds() {\n  const classes = useStyles();\n  const { character, setCharacter } = useContext(CharacterState);\n  const [open, setOpen] = useState(false);\n  const ctx = useMemo(() => ({ open, setOpen }), [open]);\n\n  const updateBond = (index) => (e) => {\n    let newBonds = [...character.bonds]; // copying the old array\n    newBonds[index] = e.target.value; // replace value\n    setCharacter((character) => ({ ...character, bonds: newBonds })); // set array back\n  };\n\n  const deleteBond = (index) => {\n    const newBonds = [...character.bonds]; // copying the old array\n    //don't delete last row\n    newBonds.splice(index, 1); // remove item from array\n    setCharacter((character) => ({ ...character, bonds: newBonds })); // set array back\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <>\n      <AddBondState.Provider value={ctx}>\n        <AddBond />\n      </AddBondState.Provider>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label='simple table'>\n          <TableBody>\n            {character.bonds &&\n              character.bonds.map((bond, index) => {\n                return (\n                  <TableRow key={index}>\n                    <TableCell>\n                      <TextField\n                        multiline\n                        fullWidth\n                        variant='outlined'\n                        aria-label='empty textarea'\n                        placeholder='Add bond detail here'\n                        value={bond}\n                        name={'bond' + index}\n                        onChange={updateBond(index)}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <IconButton\n                        aria-label='delete'\n                        onClick={() => deleteBond(index)}>\n                        <Delete />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            <TableRow>\n              <TableCell align='center' colSpan='2'>\n                <IconButton aria-label='add' onClick={handleClickOpen}>\n                  <Add />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import { createContext } from 'react';\n\nconst AddItemState = createContext();\n\nexport default AddItemState;\n","import React, { useContext, useState } from 'react';\nimport AddItemState from 'components/contexts/AddItemState';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n} from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { items } from 'data/items';\n\nexport default function AddItem() {\n  const { open, setOpen } = useContext(AddItemState);\n  const { character, setCharacter } = useContext(CharacterState);\n  const [item, setItem] = useState('');\n\n  const handleCancel = () => {\n    setItem('');\n    setOpen(false);\n  };\n\n  const handleSave = () => {\n    addItem();\n    setItem('');\n    setOpen(false);\n  };\n\n  const addItem = () => {\n    let newItem = items.find((x) => x.name === item);\n    if (newItem) {\n      newItem = Object.assign({}, newItem, { checkbox: false }); //Adding blank checkbox\n      const newItems = [...character.items, newItem]; // copying the old array and adding new item depending upon selection\n      setCharacter((character) => ({ ...character, items: newItems })); // set array back\n    }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleCancel}\n      aria-labelledby='form-dialog-title'>\n      <DialogTitle id='form-dialog-title'>Add new item</DialogTitle>{' '}\n      <DialogContent>\n        <DialogContentText>\n          Search for an item to add. If you wish to create your own choose\n          'CUSTOM'.\n        </DialogContentText>\n        <Autocomplete\n          freeSolo\n          onChange={(event, value) => setItem(value)}\n          options={items.map((option) => option.name)}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label='Items'\n              margin='normal'\n              variant='outlined'\n            />\n          )}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCancel} color='primary'>\n          Cancel\n        </Button>\n        <Button onClick={handleSave} color='primary'>\n          Add Item\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useContext, useMemo, useState } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport AddItemState from 'components/contexts/AddItemState';\nimport AddItem from 'components/character/AddItem';\nimport { class_details } from 'data/classDetails';\nimport { itemTypes } from 'data/itemTypes';\nimport { itemTags } from 'data/itemTags';\nimport {\n  Box,\n  Chip,\n  Checkbox,\n  Collapse,\n  FormControl,\n  IconButton,\n  Input,\n  Paper,\n  Select,\n  MenuItem,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Add,\n  Delete,\n  KeyboardArrowDown,\n  KeyboardArrowUp,\n} from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    maxWidth: 250,\n  },\n  table: {\n    minWidth: 650,\n  },\n  textField: {\n    width: 120,\n  },\n  root: {\n    '& > *': {\n      borderBottom: 'unset',\n    },\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nfunction Row(props) {\n  const { item } = props;\n  const { index } = props;\n  const classes = useStyles();\n  const [openRow, setOpenRow] = useState(false);\n  const { character, setCharacter } = useContext(CharacterState);\n\n  const updateItem = (event, index) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let newItems = [...character.items]; // copying the old array\n    newItems[index] = { ...character.items[index], [name]: value }; // replace value\n    setCharacter((character) => ({ ...character, items: newItems })); // set array back\n  };\n\n  const updateItemCheckbox = (index) => (e) => {\n    let newItems = [...character.items]; // copying the old array\n    newItems[index] = {\n      ...character.items[index],\n      checkbox: e.target.checked,\n    }; // replace value\n    setCharacter((character) => ({\n      ...character,\n      items: newItems,\n    })); // set array back\n  };\n\n  const deleteItem = (index) => {\n    const newItems = [...character.items]; // copying the old array\n    newItems.splice(index, 1); // remove item from array\n    setCharacter((character) => ({ ...character, items: newItems })); // set array back\n  };\n\n  return (\n    <>\n      <TableRow className={classes.root}>\n        <TableCell>\n          <IconButton\n            aria-label='expand row'\n            size='small'\n            onClick={() => setOpenRow(!openRow)}>\n            {openRow ? <KeyboardArrowUp /> : <KeyboardArrowDown />}\n          </IconButton>\n        </TableCell>\n        <TableCell>\n          <Checkbox\n            name={'item_checkbox' + index}\n            checked={!!item.checkbox}\n            onChange={updateItemCheckbox(index)}\n            color='primary'\n          />\n        </TableCell>\n        <TableCell>\n          <TextField\n            fullWidth\n            size='small'\n            variant='outlined'\n            aria-label='empty textarea'\n            value={item.name}\n            name='name'\n            onChange={(event) => updateItem(event, index)}\n          />\n        </TableCell>\n        <TableCell align='center'>\n          <TextField\n            type='number'\n            fullWidth\n            size='small'\n            variant='outlined'\n            className={classes.textField}\n            inputProps={{\n              style: { textAlign: 'center' },\n              min: 0,\n            }}\n            name='uses'\n            value={item.uses}\n            onChange={(event) => updateItem(event, index)}\n          />\n        </TableCell>\n        <TableCell>\n          <FormControl className={classes.formControl}>\n            <Select\n              multiple\n              value={item.tags}\n              name='tags'\n              onChange={(event) => updateItem(event, index)}\n              input={<Input />}\n              renderValue={(selected) => (\n                <div className={classes.chips}>\n                  {selected.map((value, index) => (\n                    <Chip key={index} label={value} className={classes.chip} />\n                  ))}\n                </div>\n              )}\n              MenuProps={MenuProps}>\n              {itemTags.map((name, index) => (\n                <MenuItem key={index} value={name}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </TableCell>\n        <TableCell>\n          <TextField\n            type='number'\n            fullWidth\n            size='small'\n            variant='outlined'\n            className={classes.textField}\n            inputProps={{\n              style: { textAlign: 'center' },\n              min: 0,\n            }}\n            value={item.weight}\n            name='weight'\n            onChange={(event) => updateItem(event, index)}\n          />\n        </TableCell>\n        <TableCell>\n          <IconButton aria-label='delete' onClick={() => deleteItem(index)}>\n            <Delete />\n          </IconButton>\n        </TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={openRow} timeout='auto' unmountOnExit>\n            <Box margin={1}>\n              <Table size='small' aria-label='purchases'>\n                <TableHead>\n                  <TableRow>\n                    <TableCell align='center'>TYPE</TableCell>\n                    <TableCell>DESCRIPTION</TableCell>\n                    <TableCell align='center'>COST</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <TableCell align='center'>\n                    <FormControl\n                      variant='outlined'\n                      size='small'\n                      className={classes.formControl}>\n                      <Select\n                        tabIndex={-1}\n                        value={item.type}\n                        name='type'\n                        onChange={(event) => updateItem(event, index)}>\n                        {itemTypes.map((type, index) => (\n                          <MenuItem key={index} value={type}>\n                            {type}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </TableCell>\n                  <TableCell>\n                    <TextField\n                      multiline\n                      fullWidth\n                      size='small'\n                      variant='outlined'\n                      aria-label='empty textarea'\n                      value={item.description}\n                      name='description'\n                      onChange={(event) => updateItem(event, index)}\n                    />\n                  </TableCell>\n                  <TableCell align='center'>\n                    <TextField\n                      type='number'\n                      fullWidth\n                      size='small'\n                      variant='outlined'\n                      className={classes.textField}\n                      inputProps={{\n                        style: { textAlign: 'center' },\n                        min: 0,\n                      }}\n                      name='cost'\n                      value={item.cost}\n                      onChange={(event) => updateItem(event, index)}\n                    />\n                  </TableCell>\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nexport default function CharacterGear() {\n  const classes = useStyles();\n  const { character } = useContext(CharacterState);\n  const dwc = character.dw_class;\n  const [open, setOpen] = useState(false);\n\n  const ctx = useMemo(() => ({ open, setOpen }), [open]);\n\n  const totalLoad = () => {\n    if (character.items) {\n      return character.items.reduce(\n        (totalLoad, data) => totalLoad + parseInt(data.weight || 0, 10),\n        0\n      );\n    } else {\n      return '';\n    }\n  };\n\n  const maxLoad = () => {\n    if (\n      character.dw_class &&\n      character.abilities.find((x) => x.category === 'STR').score &&\n      character.abilities.find((x) => x.category === 'STR').affliction\n    ) {\n      let str = character.abilities.find((x) => x.category === 'STR');\n      let baseModifier;\n      let abilityAffliction = str.affliction;\n      let abilityScore = parseInt(str.score, 10);\n      let afflicted;\n\n      if ([1, 2, 3].indexOf(abilityScore) > -1) {\n        baseModifier = -3;\n      } else if ([4, 5].indexOf(abilityScore) > -1) {\n        baseModifier = -2;\n      } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\n        baseModifier = -1;\n      } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\n        baseModifier = 0;\n      } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\n        baseModifier = 1;\n      } else if ([16, 17].indexOf(abilityScore) > -1) {\n        baseModifier = 2;\n      } else if (abilityScore === 18) {\n        baseModifier = 3;\n      }\n\n      /*-1 if afflicted*/\n      if (abilityAffliction === 'Unafflicted') {\n        afflicted = 0;\n      } else {\n        afflicted = 1;\n      }\n\n      let modifier = baseModifier - afflicted;\n\n      return class_details[dwc].base_load + modifier;\n    } else {\n      return '';\n    }\n  };\n\n  const validateLoad = () => {\n    if (totalLoad() > maxLoad()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <>\n      <AddItemState.Provider value={ctx}>\n        <AddItem />\n      </AddItemState.Provider>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell></TableCell>\n              <TableCell align='center'>EQUIPPED</TableCell>\n              <TableCell align='center'>NAME</TableCell>\n              <TableCell align='center'>USES</TableCell>\n              <TableCell align='center'>TAGS</TableCell>\n              <TableCell align='center'>WEIGHT</TableCell>\n              <TableCell>\n                <IconButton aria-label='add' onClick={handleClickOpen}>\n                  <Add />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {character.items &&\n              character.items.map((item, index) => (\n                <Row key={index} index={index} item={item} />\n              ))}\n            <TableRow>\n              <TableCell align='right' colSpan='5'>\n                LOAD\n              </TableCell>\n              <TableCell>\n                <TextField\n                  fullWidth\n                  error={validateLoad()}\n                  size='small'\n                  variant='outlined'\n                  name='totalLoad'\n                  className={classes.textField}\n                  InputProps={{\n                    readOnly: true,\n                  }}\n                  inputProps={{\n                    style: { textAlign: 'center' },\n                  }}\n                  value={totalLoad() + ' / ' + maxLoad()}\n                />\n              </TableCell>\n              <TableCell></TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import React, { useContext } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { Add, Delete } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ExpandMore } from '@material-ui/icons';\nimport {\n  Checkbox,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n}));\n\nexport default function CharacterClassFeatures() {\n  const classes = useStyles();\n  const { character, setCharacter } = useContext(CharacterState);\n\n  // State manipulation\n  const updateFeatureCheckbox = (index) => (e) => {\n    let newFeatures = [...character.class_features]; // copying the old array\n    newFeatures[index] = {\n      ...character.class_features[index],\n      checkbox: e.target.checked,\n    }; // replace value\n    setCharacter((character) => ({\n      ...character,\n      class_features: newFeatures,\n    })); // set array back\n  };\n\n  const updateFeature = (index) => (e) => {\n    let newFeatures = [...character.class_features]; // copying the old array\n    newFeatures[index] = {\n      ...character.class_features[index],\n      feature: e.target.value,\n    }; // replace value\n    setCharacter((character) => ({\n      ...character,\n      class_features: newFeatures,\n    })); // set array back\n  };\n\n  // Delete rows in the table\n  const deleteFeatureRow = (index) => {\n    const newFeatures = [...character.class_features]; // copying the old array\n    newFeatures.splice(index, 1); // remove item from array\n    setCharacter((character) => ({\n      ...character,\n      class_features: newFeatures,\n    })); // set array back\n  };\n\n  // Add rows in the table\n  const addFeatureRow = () => {\n    const newFeatures = [\n      ...character.class_features,\n      { feature: '', checkbox: false },\n    ]; // copying the old array and adding blank item\n    setCharacter((character) => ({\n      ...character,\n      class_features: newFeatures,\n    })); // set array back\n  };\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label='simple table'>\n        <TableBody>\n          {character.class_features &&\n            character.class_features.map((class_features, index) => {\n              return (\n                <TableRow key={index}>\n                  <TableCell>\n                    <Checkbox\n                      name={'class_feature_checkbox' + index}\n                      checked={!!class_features.checkbox}\n                      onChange={updateFeatureCheckbox(index)}\n                      color='primary'\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <TextField\n                      multiline\n                      fullWidth\n                      variant='outlined'\n                      aria-label='empty textarea'\n                      placeholder='Add class features detail here (e.g. Spell Lists, Poison Recipes, Druid Balance, Paladin Quests etc)'\n                      value={class_features.feature}\n                      name={'class_feature' + index}\n                      onChange={updateFeature(index)}\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <IconButton\n                      aria-label='delete'\n                      onClick={() => deleteFeatureRow(index)}>\n                      <Delete />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          <TableRow>\n            <TableCell colSpan='3' align='center'>\n              <IconButton aria-label='add' onClick={() => addFeatureRow()}>\n                <Add />\n              </IconButton>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n","import React from 'react';\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n} from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { standard_moves } from 'data/standardMoves';\n\nexport default function CharacterStandardMoves() {\n  return (\n    <>\n      {standard_moves.map((data, index) => {\n        return (\n          <Accordion key={index}>\n            <AccordionSummary expandIcon={<ExpandMore />}>\n              {data.name}\n            </AccordionSummary>\n            <AccordionDetails>\n              <p dangerouslySetInnerHTML={{ __html: data.description }}></p>\n            </AccordionDetails>\n          </Accordion>\n        );\n      })}\n    </>\n  );\n}\n","import React from 'react';\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n} from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { advanced_moves } from 'data/advancedMoves';\n\nexport default function CharacterAdvancedMoves() {\n  return (\n    <>\n      {advanced_moves.map((data, index) => {\n        return (\n          <Accordion key={index}>\n            <AccordionSummary expandIcon={<ExpandMore />}>\n              {data.name}\n            </AccordionSummary>\n            <AccordionDetails>\n              <p dangerouslySetInnerHTML={{ __html: data.description }}></p>\n            </AccordionDetails>\n          </Accordion>\n        );\n      })}\n    </>\n  );\n}\n","import { createContext } from 'react';\n\nconst AddMoveState = createContext();\n\nexport default AddMoveState;\n","import React, { useContext, useState } from 'react';\nimport AddMoveState from 'components/contexts/AddMoveState';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n} from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { class_details } from 'data/classDetails';\n\nexport default function AddMove() {\n  const { open, setOpen } = useContext(AddMoveState);\n  const { character, setCharacter } = useContext(CharacterState);\n  const [move, setMove] = useState('');\n  const dwc = character.dw_class;\n\n  const handleCancel = () => {\n    setMove('');\n    setOpen(false);\n  };\n\n  const handleSave = () => {\n    addMove();\n    setMove('');\n    setOpen(false);\n  };\n\n  const addMove = () => {\n    const newMove = class_details.moves.find((x) => x.name === move);\n    if (newMove) {\n      const newMoves = [...character.moves, newMove]; // copying the old array and adding new move depending upon selection\n      setCharacter((character) => ({ ...character, moves: newMoves })); // set array back\n    }\n  };\n\n  //TODO, MAKE THIS A RADIO SELECTION WITH DETAILS FOR DIFFERENT LEVELS\n  //REPLACE EXISTING OPTION ON SELECTION\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleCancel}\n      aria-labelledby='form-dialog-title'>\n      <DialogTitle id='form-dialog-title'>Add new move</DialogTitle>{' '}\n      <DialogContent>\n        <DialogContentText>Search for an move to add.</DialogContentText>\n        <Autocomplete\n          freeSolo\n          onChange={(event, value) => setMove(value)}\n          options={class_details[dwc].moves\n            .filter((x) => x.level !== 'starting')\n            .map((option) => option.name)}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label='Moves'\n              margin='normal'\n              variant='outlined'\n            />\n          )}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCancel} color='primary'>\n          Cancel\n        </Button>\n        <Button onClick={handleSave} color='primary'>\n          Add Move\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useContext, useMemo, useState } from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport AddMoveState from 'components/contexts/AddMoveState';\nimport AddMove from 'components/character/AddMove';\nimport { class_details } from 'data/classDetails';\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  IconButton,\n} from '@material-ui/core';\nimport { Add, Delete, ExpandMore } from '@material-ui/icons';\nimport ReactMarkdown from 'react-markdown';\n\nexport default function CharacterClassStartingMoves() {\n  const { character, setCharacter } = useContext(CharacterState);\n  const [open, setOpen] = useState(false);\n  const ctx = useMemo(() => ({ open, setOpen }), [open]);\n\n  const deleteMove = (index) => {\n    const newMoves = [...character.moves]; // copying the old array\n    if (character.moves.length !== 1) {\n      //TODO don't delete if starting move\n      newMoves.splice(index, 1); // remove item from array\n      setCharacter((character) => ({ ...character, moves: newMoves })); // set array back\n    } else {\n      alert('Cannot delete starting move');\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <>\n      <AddMoveState.Provider value={ctx}>\n        <AddMove />\n      </AddMoveState.Provider>\n      {character.moves.map((data, index) => {\n        return (\n          <Accordion key={index}>\n            <AccordionSummary expandIcon={<ExpandMore />}>\n              {data.name} ({data.level})\n            </AccordionSummary>\n            <AccordionDetails>\n              <ReactMarkdown source={data.description} />\n            </AccordionDetails>\n          </Accordion>\n        );\n      })}\n      <Accordion textAlign='center'>\n        <AccordionSummary>\n          <IconButton aria-label='add' onClick={handleClickOpen}>\n            <Add />\n          </IconButton>\n        </AccordionSummary>\n      </Accordion>\n    </>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Box, Tab, Tabs } from '@material-ui/core';\nimport CharacterStandardMoves from 'components/character/CharacterStandardMoves';\nimport CharacterAdvancedMoves from 'components/character/CharacterAdvancedMoves';\nimport CharacterClassMoves from 'components/character/CharacterClassMoves';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}>\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function CharacterMoves() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleTabChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position='static'>\n        <Tabs value={value} onChange={handleTabChange}>\n          <Tab label='Standard' {...a11yProps(0)} />\n          <Tab label='Advanced' {...a11yProps(1)} />\n          <Tab label='Class' {...a11yProps(2)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <CharacterStandardMoves />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <CharacterAdvancedMoves />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <CharacterClassMoves />\n      </TabPanel>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport {\n  Button,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    width: 126,\n    textAlign: 'center',\n  },\n  textField: {\n    width: 126,\n    '& input': {\n      textAlign: 'center',\n    },\n  },\n}));\n\nexport default function DiceRoller() {\n  const [dice, setDice] = useState();\n  const [diceNum, setDiceNum] = useState();\n  const [rollResult, setRollResult] = useState(0);\n  const classes = useStyles();\n\n  function singleRoll(sides) {\n    const roll = Math.floor(Math.random() * sides) + 1;\n    return roll;\n  }\n\n  function rollDice(sides, diceNum) {\n    sides = parseInt(sides, 10);\n    diceNum = parseInt(diceNum, 10);\n    let total = 0;\n    for (let i = 0; i < diceNum; i++) {\n      total = total + singleRoll(sides);\n    }\n    return setRollResult(total);\n  }\n\n  return (\n    <>\n      <FormControl\n        variant='outlined'\n        size='small'\n        className={classes.formControl}>\n        <InputLabel>Dice</InputLabel>\n        <Select\n          tabIndex={-1}\n          defaultValue='null'\n          label='dice'\n          onChange={(event) => {\n            setDice(event.target.value);\n          }}>\n          <MenuItem disabled='disabled' value='null' hidden='hidden' />\n          <MenuItem value='6'>d6</MenuItem>\n          <MenuItem value='8'>d8</MenuItem>\n          <MenuItem value='10'>d10</MenuItem>\n        </Select>\n      </FormControl>\n      <br />\n      <FormControl\n        variant='outlined'\n        size='small'\n        className={classes.formControl}>\n        <InputLabel>Number</InputLabel>\n        <Select\n          tabIndex={-1}\n          defaultValue='null'\n          label='Number'\n          onChange={(event) => {\n            setDiceNum(event.target.value);\n          }}>\n          <MenuItem disabled='disabled' value='null' hidden='hidden' />\n          <MenuItem value='1'>1</MenuItem>\n          <MenuItem value='2'>2</MenuItem>\n          <MenuItem value='3'>3</MenuItem>\n        </Select>\n      </FormControl>\n      <Button onClick={() => rollDice(dice, diceNum)}>Roll</Button>\n      <TextField\n        variant='outlined'\n        size='small'\n        label='Result'\n        className={classes.textField}\n        value={rollResult}\n      />\n    </>\n  );\n}\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  useContext,\n  useMemo,\n} from 'react';\nimport { useParams } from 'react-router';\nimport * as FirebaseService from 'services/firebase';\nimport PropTypes from 'prop-types';\nimport CharacterState from 'components/contexts/CharacterState';\nimport AuthState from 'components/contexts/AuthState';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Box, Tab, Tabs } from '@material-ui/core';\nimport CharacterSheetHeader from 'components/character/CharacterSheetHeader';\nimport CharacterBasicDetails from 'components/character/CharacterBasicDetails';\nimport CharacterBasicStats from 'components/character/CharacterBasicStats';\nimport CharacterAbilities from 'components/character/CharacterAbilities';\nimport CharacterBonds from 'components/character/CharacterBonds';\nimport CharacterGear from 'components/character/CharacterGear';\nimport CharacterClassFeatures from 'components/character/CharacterClassFeatures';\nimport CharacterMoves from 'components/character/CharacterMoves';\nimport DiceRoller from 'components/other/DiceRoller';\n\n// Tab functions\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}>\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\n// Debounce function\nconst debounce = (callback, delay) => {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => callback(...args), delay);\n  };\n};\n\nexport default function CharacterSheet() {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [character, setCharacter] = useState({});\n  const { campaignURL, characterURL } = useParams();\n  const { currentUser } = useContext(AuthState);\n\n  const handleTabChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  // Subscribe to Character Data\n  useEffect(() => {\n    if (campaignURL && characterURL) {\n      const unsubscribe = FirebaseService.streamCharacter(\n        campaignURL,\n        characterURL,\n        {\n          next: (documentSnapshot) => {\n            setCharacter(documentSnapshot.data());\n          },\n          error: (error) => {\n            alert('Failed to load character data correctly, see console error');\n            console.error('Error loading document:', error);\n          },\n        }\n      );\n      return unsubscribe;\n    }\n  }, [campaignURL, characterURL, setCharacter]);\n\n  // Debounced Save\n  const debouncedSave = useCallback(\n    debounce(\n      (character) =>\n        FirebaseService.saveCharacter(campaignURL, characterURL, character)\n          .then(() => {\n            console.info('Saved Character:', character);\n          })\n          .catch((error) => {\n            alert('Failed to save character data correctly, see console error');\n            console.error('Error saving document:', error);\n          }),\n      5000\n    ),\n    []\n  );\n\n  // Save changes to character\n  useEffect(() => {\n    if (\n      character &&\n      Object.keys(character).length >= 1 &&\n      currentUser.email === character.owner\n    ) {\n      console.info('CharacterState:', character);\n      debouncedSave(character);\n    }\n  }, [character]); //Only trigger effect on change of character\n\n  const ctx = useMemo(() => ({ character, setCharacter }), [character]); //Memo-ised state for performance\n\n  return (\n    <CharacterState.Provider value={ctx}>\n      <CharacterSheetHeader />\n      <br />\n      <div className={classes.root}>\n        <CharacterBasicStats />\n        <br />\n        <CharacterAbilities />\n        <br />\n        <AppBar position='static'>\n          <Tabs value={value} onChange={handleTabChange}>\n            <Tab label='About' {...a11yProps(0)} />\n            <Tab label='Bonds' {...a11yProps(1)} />\n            <Tab label='Features' {...a11yProps(2)} />\n            <Tab label='Gear' {...a11yProps(3)} />\n            <Tab label='Moves' {...a11yProps(4)} />\n            <Tab label='Dice Roller' {...a11yProps(5)} />\n          </Tabs>\n        </AppBar>\n        <TabPanel value={value} index={0}>\n          <CharacterBasicDetails />\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n          <CharacterBonds />\n        </TabPanel>\n        <TabPanel value={value} index={2}>\n          <CharacterClassFeatures />\n        </TabPanel>\n        <TabPanel value={value} index={3}>\n          <CharacterGear />\n        </TabPanel>\n        <TabPanel value={value} index={4}>\n          <CharacterMoves />\n        </TabPanel>\n        <TabPanel value={value} index={5}>\n          <DiceRoller />\n        </TabPanel>\n      </div>\n    </CharacterState.Provider>\n  );\n}\n","import { createContext } from 'react';\n\nconst CampaignState = createContext();\n\nexport default CampaignState;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport { Breadcrumbs } from '@material-ui/core';\n\nexport default function CampaignHeader() {\n  const { campaignURL } = useParams();\n\n  return (\n    <div>\n      <Breadcrumbs aria-label='breadcrumb'>\n        <Link to='/dw-react'>Home</Link>\n        <p>{campaignURL}</p>\n      </Breadcrumbs>\n      <h1>Campaign: {campaignURL}</h1>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport * as FirebaseService from 'services/firebase';\nimport CampaignState from 'components/contexts/CampaignState';\nimport { Add, Delete } from '@material-ui/icons';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Grid,\n  IconButton,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n});\n\nexport default function CampaignDetails() {\n  const classes = useStyles();\n  const { campaign } = useContext(CampaignState);\n  const { campaignURL } = useParams();\n\n  // Delete Character\n  const deleteCharacter = (campaign, character) => {\n    if (campaign && character) {\n      //don't save unless details present\n      FirebaseService.deleteCharacter(campaign, character)\n        .then(() => {\n          console.info('Deleted Character:', character);\n        })\n        .catch((error) => {\n          alert('Failed to delete character, see console error');\n          console.error('Error deleting document:', error);\n        });\n    } else {\n      alert('Cannot delete blank character');\n    }\n  };\n\n  return (\n    <Grid className={classes.root}>\n      <Grid item xs={12}>\n        <Grid container justify='center' spacing={1}>\n          {campaign.campaign &&\n            campaign.campaign.map((campaign, index) => {\n              return (\n                <Grid item key={index}>\n                  <Card className={classes.root}>\n                    <CardHeader\n                      action={\n                        <IconButton\n                          aria-label='delete'\n                          onClick={() =>\n                            deleteCharacter(campaignURL, campaign.character)\n                          }>\n                          <Delete />\n                        </IconButton>\n                      }\n                      title={\n                        <Link\n                          to={\n                            '/dw-react/' +\n                            campaignURL +\n                            '/' +\n                            campaign.character\n                          }>\n                          {campaign.character}\n                        </Link>\n                      }\n                      subheader={campaign.characterData.owner}\n                    />\n                    <CardContent>\n                      <Typography variant='body1' component='p'>\n                        Level: {campaign.characterData.level}\n                      </Typography>\n                      <Typography variant='body1' component='p'>\n                        Class: {campaign.characterData.dw_class}\n                      </Typography>\n                      <Typography variant='body1' component='p'>\n                        Race: {campaign.characterData.race}\n                      </Typography>\n                      <Typography variant='body1' component='p'>\n                        Alignment: {campaign.characterData.alignment}\n                      </Typography>\n                      <br />\n                      <Typography variant='body2' component='p'>\n                        HP: {campaign.characterData.hp}\n                      </Typography>\n                      <Typography variant='body2' component='p'>\n                        XP: {campaign.characterData.xp}\n                      </Typography>\n                      <Typography variant='body2' component='p'>\n                        Funds: {campaign.characterData.funds}\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              );\n            })}\n          <Grid item>\n            <Card className={classes.root}>\n              <CardHeader title='Add Character' />\n              <CardContent>\n                <Link to={'/dw-react/' + campaignURL + '/create-character'}>\n                  <IconButton aria-label='add'>\n                    <Add />\n                  </IconButton>\n                </Link>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useParams } from 'react-router';\nimport * as FirebaseService from 'services/firebase';\nimport CampaignState from 'components/contexts/CampaignState';\nimport CampaignHeader from 'components/campaign/CampaignHeader';\nimport CampaignDetails from 'components/campaign/CampaignDetails';\n\nexport default function CampaignSheet() {\n  const [campaign, setCampaign] = useState({});\n  const { campaignURL } = useParams();\n\n  // Use an effect hook to subscribe to the campaign stream and\n  // automatically unsubscribe when the component unmounts.\n  useEffect(() => {\n    if (campaignURL) {\n      const unsubscribe = FirebaseService.streamCharacters(campaignURL, {\n        next: (querySnapshot) => {\n          const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => {\n            return {\n              character: docSnapshot.id,\n              characterData: docSnapshot.data(),\n            };\n          });\n          setCampaign((campaign) => ({ campaign: updatedCharacterList }));\n        },\n        error: (error) => {\n          alert('Failed to load campaign data correctly, see console error');\n          console.error('Error loading document:', error);\n        },\n      });\n      return unsubscribe;\n    }\n  }, [campaignURL, setCampaign]);\n\n  useEffect(() => {\n    console.info('Campaign State:', campaign);\n  }, [campaign]); //Only log to console if state actually changes\n\n  const ctx = useMemo(() => ({ campaign, setCampaign }), [campaign]); //Memo-ised state for performance\n\n  return (\n    <CampaignState.Provider value={ctx}>\n      <CampaignHeader />\n      <br />\n      <CampaignDetails />\n    </CampaignState.Provider>\n  );\n}\n","import React, { useContext, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as FirebaseService from 'services/firebase';\nimport AuthState from 'components/contexts/AuthState';\nimport {\n  Button,\n  Breadcrumbs,\n  Card,\n  CardContent,\n  CardHeader,\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  FormLabel,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  Step,\n  Stepper,\n  StepLabel,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ReactMarkdown from 'react-markdown';\nimport { class_details } from 'data/classDetails';\nimport { dw_classes } from 'data/dwClasses';\nimport { items } from 'data/items';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  card: {\n    minWidth: 275,\n    maxWidth: 700,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: '100%',\n  },\n  resetButton: {\n    marginRight: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}));\n\nfunction getSteps() {\n  return [\n    'Choose Basic Details',\n    'Select Gear',\n    'Select Class Moves',\n    'Add Bonds',\n  ];\n}\n\nexport default function CampaignDetails() {\n  const classes = useStyles();\n  const history = useHistory();\n  const { currentUser } = useContext(AuthState);\n  const { campaignURL } = useParams();\n  const [charaName, setCharaName] = useState('');\n  const [charaFullName, setCharaFullName] = useState('');\n  const [charaClass, setCharaClass] = useState('');\n  const [charaRace, setCharaRace] = useState('');\n  const [charaAlignment, setCharaAlignment] = useState('');\n  const [charaRaceMove, setCharaRaceMove] = useState('');\n  const [charaMoveOption, setCharaMoveOption] = useState('');\n  const [charaGearOptions, setCharaGearOptions] = useState([]);\n  const [charaBonds, setCharaBonds] = useState([]);\n  const [activeStep, setActiveStep] = useState(0);\n  const [error, setError] = useState(false);\n  const steps = getSteps();\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleBondChange = (event) => {\n    let target = event.target;\n    if (target.checked) {\n      // Add to array\n      // Copying the old array and adding item\n      const newBonds = [...charaBonds, target.name];\n      // Set array back\n      setCharaBonds(newBonds);\n    } else {\n      // Remove from array\n      // Copying the old array\n      let newBonds = charaBonds.filter((bond) => bond !== target.name);\n      // Set array back\n      setCharaBonds(newBonds);\n    }\n  };\n\n  const clearAttributes = () => {\n    setCharaName('');\n    setCharaClass('');\n    setCharaRace('');\n    setCharaAlignment('');\n    setCharaRaceMove('');\n    setCharaBonds([]);\n    setCharaMoveOption('');\n    setCharaGearOptions([]);\n    setCharaFullName('');\n    setActiveStep(0);\n  };\n\n  const handleReset = () => {\n    clearAttributes();\n  };\n\n  const handleCancel = () => {\n    history.push('/dw-react/' + campaignURL);\n  };\n\n  const handleSave = () => {\n    saveCharacter();\n  };\n\n  const alignmentAttribute = () => {\n    if (charaClass && charaAlignment) {\n      return class_details[charaClass].alignments.find(\n        (x) => x.alignment === charaAlignment\n      ).attribute;\n    } else {\n      return '';\n    }\n  };\n\n  const classIntro = () => {\n    if (charaClass) {\n      return class_details[charaClass].intro;\n    } else {\n      return '';\n    }\n  };\n\n  const suggestedNames = () => {\n    return class_details[charaClass].suggested_names;\n  };\n\n  function gearDescription(gear) {\n    let description = '';\n    let count = 0;\n\n    gear.map((input) => {\n      let weight = '';\n      let uses = '';\n      let tags = '';\n      let attributes = '';\n      let item_description = '';\n      // Stripping leading number and spaces\n      const singleInput = input.replace(/^\\d*x /, '');\n\n      const item = items.find((x) => x.name === singleInput);\n      if (item) {\n        if (Number.isFinite(item.weight)) {\n          weight = item.weight + ' weight';\n        }\n        if (Number.isFinite(item.uses)) {\n          uses = item.uses + ' uses';\n        }\n        if (item.tags) {\n          tags = item.tags.join(', ');\n        }\n        attributes = [uses, tags, weight].filter(Boolean).join(', ');\n        if (attributes) {\n          item_description = input + ' (' + attributes + ')';\n        } else {\n          item_description = input;\n        }\n      } else if (singleInput === 'Coins') {\n        item_description = input;\n      } else {\n        item_description = input + ' (NON STANDARD ITEM - NEEDS TO BE FIXED)';\n      }\n\n      if (count === 0) {\n        description = item_description;\n      } else {\n        description = description + ' and ' + item_description;\n      }\n      count = count + 1;\n\n      return description;\n    });\n    return description;\n  }\n\n  function addCharaGearOptions(option, index) {\n    const newGear = [...charaGearOptions];\n    newGear[index] = option;\n    setCharaGearOptions(newGear);\n  }\n\n  function addCharaGearMultiOptions(checked, option, index) {\n    setError(true);\n    let newGear = [...charaGearOptions];\n    if (!newGear[index]) {\n      newGear[index] = [];\n    }\n    newGear[index][option] = checked;\n    setCharaGearOptions(newGear); // set array back\n    if (\n      charaGearOptions[index] &&\n      charaGearOptions[index].filter((v) => v === true).length ===\n        class_details[charaClass].starting_gear_options[index].multiplicity\n    ) {\n      setError(false);\n    } else {\n      setError(true);\n    }\n  }\n\n  const gearOptions = () => {\n    const gearChoices = class_details[charaClass].starting_gear_options;\n    if (gearChoices.length > 0) {\n      const output = gearChoices.map((gearChoice, index) => {\n        const choiceGroup = index;\n        if (gearChoice.multiplicity === 1) {\n          return (\n            <React.Fragment key={choiceGroup}>\n              <FormControl\n                key={'gearChoiceGroup' + choiceGroup}\n                component='fieldset'\n                className={classes.formControl}>\n                <FormLabel component='legend'>Choose from:</FormLabel>\n                <RadioGroup\n                  aria-label='starting gear choice'\n                  name='starting gear choice'\n                  value={charaGearOptions[choiceGroup] || null}\n                  onChange={(event) => {\n                    addCharaGearOptions(event.target.value, choiceGroup);\n                  }}>\n                  {gearChoice.options.map((gear, index) => {\n                    const option = index;\n                    return (\n                      <FormControlLabel\n                        key={'option' + option}\n                        value={option.toString()}\n                        control={<Radio />}\n                        label={gearDescription(gear)}\n                      />\n                    );\n                  })}\n                </RadioGroup>\n              </FormControl>\n              <br />\n              <br />\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={choiceGroup}>\n              <FormControl\n                key={'gearChoiceGroup' + choiceGroup}\n                component='fieldset'\n                className={classes.formControl}>\n                <FormLabel component='legend'>\n                  Choose {gearChoice.multiplicity}:\n                </FormLabel>\n                <FormGroup>\n                  {gearChoice.options.map((gear, index) => {\n                    const option = index;\n                    return (\n                      <FormControlLabel\n                        key={'checkbox' + option}\n                        control={\n                          <Checkbox\n                            checked={\n                              charaGearOptions[choiceGroup]\n                                ? !!charaGearOptions[choiceGroup][option]\n                                : false\n                            }\n                            onChange={(event) => {\n                              addCharaGearMultiOptions(\n                                event.target.checked,\n                                option,\n                                choiceGroup\n                              );\n                            }}\n                          />\n                        }\n                        label={gearDescription(gear)}\n                      />\n                    );\n                  })}\n                </FormGroup>\n              </FormControl>\n              <br />\n              <br />\n            </React.Fragment>\n          );\n        }\n      });\n      return output;\n    } else {\n      return <p>No move choices to make</p>;\n    }\n  };\n\n  function gearNext() {\n    if (\n      charaGearOptions &&\n      charaGearOptions.length ===\n        class_details[charaClass].starting_gear_options.length &&\n      !charaGearOptions.includes(null) &&\n      !charaGearOptions.includes(undefined) &&\n      !error\n    ) {\n      return (\n        <Button variant='contained' color='primary' onClick={handleNext}>\n          Next\n        </Button>\n      );\n    } else {\n      return (\n        <Button disabled variant='contained' color='primary'>\n          Next\n        </Button>\n      );\n    }\n  }\n\n  const moveOptions = () => {\n    const moveChoices = class_details[charaClass].moves.filter(\n      (x) => x.level === 'starting' && x.selected === false\n    );\n    if (moveChoices.length > 0) {\n      return (\n        <FormControl component='fieldset' className={classes.formControl}>\n          <RadioGroup\n            aria-label='starting move choice'\n            name='starting move choice'\n            value={charaMoveOption}\n            onChange={(event) => setCharaMoveOption(event.target.value)}>\n            {moveChoices.map((move, index) => {\n              return (\n                <FormControlLabel\n                  key={index}\n                  value={move.name}\n                  control={<Radio />}\n                  label={move.name + ' - ' + move.description}\n                />\n              );\n            })}\n          </RadioGroup>\n        </FormControl>\n      );\n    } else {\n      return <p>No move choices to make</p>;\n    }\n  };\n\n  function moveNext() {\n    const moveChoices = class_details[charaClass].moves.filter(\n      (x) => x.level === 'starting' && x.selected === false\n    );\n    if (\n      (moveChoices.length > 0 && charaMoveOption.length > 0) ||\n      moveChoices.length === 0\n    ) {\n      return (\n        <Button variant='contained' color='primary' onClick={handleNext}>\n          Next\n        </Button>\n      );\n    } else {\n      return (\n        <Button disabled variant='contained' color='primary'>\n          Next\n        </Button>\n      );\n    }\n  }\n\n  const saveCharacter = () => {\n    if (\n      campaignURL &&\n      charaName &&\n      charaClass &&\n      charaAlignment &&\n      charaRace &&\n      charaRaceMove\n    ) {\n      // STARTING FUNDS\n      let startingFunds = String(class_details[charaClass].starting_funds);\n\n      // STARTING MOVES\n      let startingMoves = class_details[charaClass].moves.filter(\n        (x) => x.level === 'starting' && x.selected === true\n      );\n      if (charaMoveOption.length > 0) {\n        const newMoves = class_details[charaClass].moves.filter(\n          (x) => x.name === charaMoveOption\n        );\n        startingMoves = startingMoves.concat(newMoves);\n      }\n\n      // STARTING GEAR\n      let startingGear = class_details[charaClass].starting_gear;\n      let gearChoices = charaGearOptions.map((choice, index) => {\n        const choiceGroup = index;\n        let item = '';\n        // Lookup gear choices\n        if (Array.isArray(choice)) {\n          // For multi-choice options cycle through and for true vals pick option\n          choice.map((option, index) => {\n            if (option) {\n              item =\n                class_details[charaClass].starting_gear_options[choiceGroup]\n                  .options[index];\n            }\n            return item;\n          });\n        } else {\n          item =\n            class_details[charaClass].starting_gear_options[choiceGroup]\n              .options[choice];\n        }\n        return item;\n      });\n      // Flatten array of choices and add to starting Gear\n      startingGear = startingGear.concat(gearChoices.flat());\n      // Converting gear into actual items and adding checkboxes\n      startingGear = startingGear.map((item) => {\n        // Stripping leading number and spaces for multiple items\n        const singleItem = item.replace(/^\\d*x /, '');\n\n        if (singleItem === 'Coins') {\n          // If item is a coin then add it to starting funds\n          const coins = item.replace(/x Coins/, '');\n          startingFunds = String(\n            parseInt(startingFunds, 10) + parseInt(coins, 10)\n          );\n          return null;\n        } else {\n          if (singleItem === item) {\n            // If item is a single item\n            return Object.assign(\n              {},\n              items.find((x) => x.name === item),\n              { checkbox: false }\n            );\n          } else {\n            // If item is a multiple\n            const ammount = item.match(/^\\d*/);\n            let singleObject = Object.assign(\n              {},\n              items.find((x) => x.name === singleItem),\n              { checkbox: false }\n            );\n            singleObject.uses = singleObject.uses * ammount;\n            singleObject.cost = singleObject.cost * ammount;\n            singleObject.weight = singleObject.weight * ammount;\n            return singleObject;\n          }\n        }\n      });\n\n      // SAVE FUNCTION\n      FirebaseService.saveCharacter(campaignURL, charaName, {\n        abilities: [\n          { category: 'STR', score: '1', afflicted: false },\n          { category: 'DEX', score: '1', afflicted: false },\n          { category: 'CON', score: '1', afflicted: false },\n          { category: 'INT', score: '1', afflicted: false },\n          { category: 'WIS', score: '1', afflicted: false },\n          { category: 'CHA', score: '1', afflicted: false },\n        ],\n        alignment: charaAlignment,\n        armour: '0',\n        backstory: '',\n        bonds: charaBonds,\n        class_features: [],\n        dw_class: charaClass,\n        full_name: charaFullName,\n        funds: startingFunds,\n        hp: '',\n        items: startingGear,\n        level: '1',\n        look: '',\n        moves: startingMoves,\n        owner: currentUser.email,\n        race: charaRace,\n        race_move: charaRaceMove,\n        xp: '0',\n      })\n        .then(() => {\n          console.info('Created Character:', charaName);\n          history.push('/dw-react/' + campaignURL + '/' + charaName);\n        })\n        .catch((error) => {\n          alert('Failed to create character, see console error');\n          console.error('Error creating document:', error);\n        });\n    } else {\n      alert('Cannot save blank character');\n    }\n  };\n\n  function getStepContent(stepIndex) {\n    switch (stepIndex) {\n      case 0:\n        return (\n          <>\n            <Card className={classes.card}>\n              <CardHeader title='Class & Alignment' />\n              <CardContent>\n                <Typography component={'span'} className={classes.instructions}>\n                  <FormControl\n                    variant='outlined'\n                    className={classes.formControl}>\n                    <InputLabel>Class</InputLabel>\n                    <Select\n                      label='Class'\n                      value={charaClass}\n                      name='class'\n                      onChange={(event) => {\n                        setCharaAlignment('');\n                        setCharaMoveOption([]);\n                        setCharaBonds([]);\n                        setCharaGearOptions([]);\n                        setCharaRaceMove('');\n                        setCharaClass(event.target.value);\n                      }}>\n                      {dw_classes.map((data, index) => {\n                        return (\n                          <MenuItem value={data} key={index}>\n                            {data}\n                          </MenuItem>\n                        );\n                      })}\n                    </Select>\n                    <ReactMarkdown source={classIntro()} />\n                  </FormControl>\n                  <br />\n                  <FormControl\n                    variant='outlined'\n                    className={classes.formControl}>\n                    <InputLabel>Alignment</InputLabel>\n                    <Select\n                      label='Alignment'\n                      value={charaAlignment}\n                      name='alignment'\n                      onChange={(event) =>\n                        setCharaAlignment(event.target.value)\n                      }>\n                      {charaClass &&\n                        class_details[charaClass].alignments.map(\n                          (data, index) => {\n                            return (\n                              <MenuItem value={data.alignment} key={index}>\n                                {data.alignment}\n                              </MenuItem>\n                            );\n                          }\n                        )}\n                    </Select>\n                    <ReactMarkdown source={alignmentAttribute()} />\n                  </FormControl>\n                </Typography>\n              </CardContent>\n            </Card>\n            {charaClass ? (\n              <>\n                <br />\n                <Card className={classes.card}>\n                  <CardHeader title='Race & Race Move' />\n                  <CardContent>\n                    <Typography\n                      component={'span'}\n                      className={classes.instructions}>\n                      <TextField\n                        autoFocus={true}\n                        margin='dense'\n                        id='race'\n                        label='Race'\n                        value={charaRace}\n                        placeholder='e.g. Dwarf, Elf, Goblin, Halfling, Human'\n                        fullWidth\n                        onChange={(event) => setCharaRace(event.target.value)}\n                      />\n                      <br />\n                      <br />\n                      <FormControl\n                        component='fieldset'\n                        className={classes.formControl}>\n                        <RadioGroup\n                          aria-label='race move'\n                          name='race move'\n                          value={charaRaceMove}\n                          onChange={(event) =>\n                            setCharaRaceMove(event.target.value)\n                          }>\n                          {charaClass &&\n                            class_details[charaClass].race_moves.map(\n                              (data, index) => {\n                                return (\n                                  <FormControlLabel\n                                    key={index}\n                                    value={data.move}\n                                    control={<Radio />}\n                                    label={\n                                      data.move +\n                                      '\\n(usually used with ' +\n                                      data.race +\n                                      ')'\n                                    }\n                                  />\n                                );\n                              }\n                            )}\n                        </RadioGroup>\n                      </FormControl>\n                    </Typography>\n                  </CardContent>\n                </Card>\n                <br />\n                <Card className={classes.card}>\n                  <CardHeader title='Name' />\n                  <CardContent>\n                    <Typography\n                      component={'span'}\n                      className={classes.instructions}>\n                      <TextField\n                        autoFocus={true}\n                        margin='dense'\n                        id='full name'\n                        label='Character Name'\n                        placeholder=\"Your character's full name, titles and all\"\n                        value={charaFullName}\n                        fullWidth\n                        onChange={(event) =>\n                          setCharaFullName(event.target.value)\n                        }\n                      />\n                      <TextField\n                        autoFocus={false}\n                        margin='dense'\n                        id='name'\n                        label='Short Character Name'\n                        placeholder=\"Your character's preferred name\"\n                        value={charaName}\n                        fullWidth\n                        onChange={(event) => setCharaName(event.target.value)}\n                      />\n                      <p>Suggested Names: </p>\n                      <ReactMarkdown source={suggestedNames()} />\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </>\n            ) : null}\n            <br />\n            <Button onClick={handleCancel} className={classes.cancelButton}>\n              Cancel\n            </Button>\n            <Button onClick={handleReset} className={classes.resetButton}>\n              Reset\n            </Button>\n            <Button\n              disabled\n              onClick={handleBack}\n              className={classes.backButton}>\n              Back\n            </Button>\n            {charaRace &&\n            charaAlignment &&\n            charaRaceMove &&\n            charaName &&\n            charaFullName ? (\n              <Button variant='contained' color='primary' onClick={handleNext}>\n                Next\n              </Button>\n            ) : (\n              <Button disabled variant='contained' color='primary'>\n                Next\n              </Button>\n            )}\n          </>\n        );\n      case 1:\n        return (\n          <>\n            <Card className={classes.card}>\n              <CardHeader title='Gear' />\n              <CardContent>\n                <Typography component={'span'} className={classes.instructions}>\n                  <ReactMarkdown\n                    source={class_details[charaClass].starting_gear_details}\n                  />\n                  {gearOptions()}\n                </Typography>\n              </CardContent>\n            </Card>\n            <br />\n            <Button onClick={handleCancel} className={classes.cancelButton}>\n              Cancel\n            </Button>\n            <Button onClick={handleReset} className={classes.resetButton}>\n              Reset\n            </Button>\n            <Button\n              disabled={activeStep === 0}\n              onClick={handleBack}\n              className={classes.backButton}>\n              Back\n            </Button>\n            {gearNext()}\n          </>\n        );\n      case 2:\n        return (\n          <>\n            <Card className={classes.card}>\n              <CardHeader title='Class Moves' />\n              <CardContent>\n                <Typography component={'span'} className={classes.instructions}>\n                  {moveOptions()}\n                </Typography>\n              </CardContent>\n            </Card>\n            <br />\n            <Button onClick={handleCancel} className={classes.cancelButton}>\n              Cancel\n            </Button>\n            <Button onClick={handleReset} className={classes.resetButton}>\n              Reset\n            </Button>\n            <Button\n              disabled={activeStep === 0}\n              onClick={handleBack}\n              className={classes.backButton}>\n              Back\n            </Button>\n            {moveNext()}\n          </>\n        );\n      case 3:\n        return (\n          <>\n            <Card className={classes.card}>\n              <CardHeader title='Bonds' />\n              <CardContent>\n                <Typography component={'span'} className={classes.instructions}>\n                  <FormControl\n                    component='fieldset'\n                    className={classes.formControl}>\n                    <FormLabel component='legend'>\n                      Choose some optionally suggested bonds or you can create\n                      your own!\n                    </FormLabel>\n                    <br />\n                    <FormGroup>\n                      {charaClass &&\n                        class_details[charaClass].suggested_bonds.map(\n                          (data, index) => {\n                            return (\n                              <FormControlLabel\n                                key={index}\n                                control={\n                                  <Checkbox\n                                    key={index}\n                                    onChange={handleBondChange}\n                                    color='primary'\n                                    name={data}\n                                  />\n                                }\n                                label={data}\n                              />\n                            );\n                          }\n                        )}\n                    </FormGroup>\n                  </FormControl>\n                </Typography>\n              </CardContent>\n            </Card>\n            <br />\n            <Button onClick={handleCancel} className={classes.cancelButton}>\n              Cancel\n            </Button>\n            <Button onClick={handleReset} className={classes.resetButton}>\n              Reset\n            </Button>\n            <Button\n              disabled={activeStep === 0}\n              onClick={handleBack}\n              className={classes.backButton}>\n              Back\n            </Button>\n            {campaignURL ? (\n              <Button variant='contained' color='primary' onClick={handleSave}>\n                Create Character\n              </Button>\n            ) : (\n              <Button\n                disabled\n                variant='contained'\n                color='primary'\n                onClick={handleSave}>\n                Create Character\n              </Button>\n            )}\n          </>\n        );\n      default:\n        return 'Unknown stepIndex';\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <Breadcrumbs aria-label='breadcrumb'>\n          <Link to='/dw-react'>Home</Link>\n          <Link to={'/dw-react/' + campaignURL}>{campaignURL}</Link>\n          <p>Create Character</p>\n        </Breadcrumbs>\n      </div>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <Grid\n        container\n        spacing={0}\n        direction='column'\n        alignItems='center'\n        justify='center'>\n        <Grid item xs={12}>\n          {getStepContent(activeStep)}\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Container, Typography } from '@material-ui/core';\nimport ErrorPage from 'components/ErrorPage';\nimport Homepage from 'components/homepage/Homepage';\nimport AppHeader from 'components/AppHeader';\nimport CharacterSheet from 'components/character/CharacterSheet';\nimport Campaign from 'components/campaign/Campaign';\nimport CreateCharacter from 'components/character/CreateCharacter';\nimport '@fontsource/roboto';\n\nexport default function App() {\n  return (\n    <Typography component={'span'}>\n      <AppHeader />\n      <Container>\n        <Router>\n          <Switch>\n            <Route exact={true} path='/dw-react' component={Homepage} />\n            <Route\n              exact={true}\n              path='/dw-react/:campaignURL'\n              component={Campaign}\n            />\n            <Route\n              exact={true}\n              path='/dw-react/:campaignURL/create-character'\n              component={CreateCharacter}\n            />\n            <Route\n              exact={true}\n              path='/dw-react/:campaignURL/:characterURL'\n              component={CharacterSheet}\n            />\n            <Route component={ErrorPage} />\n          </Switch>\n        </Router>\n      </Container>\n    </Typography>\n  );\n}\n","import React, { useState, useEffect, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\nimport * as FirebaseService from 'services/firebase';\nimport AuthState from 'components/contexts/AuthState';\nimport { Button } from '@material-ui/core';\n\nfunction Index() {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  const ctx = useMemo(() => ({ currentUser }), [currentUser]);\n\n  useEffect(() => {\n    const unsubscribe = FirebaseService.auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n    });\n    return unsubscribe;\n  }, []);\n\n  return (\n    <AuthState.Provider value={ctx}>\n      {currentUser ? (\n        <App />\n      ) : (\n        <Button\n          variant='contained'\n          color='primary'\n          onClick={FirebaseService.SignInWithGoogle}>\n          SIGN IN WITH GOOGLE\n        </Button>\n      )}\n    </AuthState.Provider>\n  );\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Index />, rootElement);\n"],"sourceRoot":""}