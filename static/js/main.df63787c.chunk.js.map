{"version":3,"sources":["components/ErrorPage.js","services/firebase.js","components/homepage/HomepageHeader.js","components/contexts/HomepageState.js","components/contexts/AuthState.js","components/homepage/HomepageDetails.js","components/homepage/Homepage.js","components/contexts/ProfileState.js","components/profile/ProfilePicture.js","components/profile/ProfileDetails.js","components/profile/UserProfile.js","components/AppHeader.js","components/contexts/CharacterState.js","components/character/CharacterSheetHeader.js","components/character/CharacterBasicDetails.js","components/character/CharacterType.js","components/character/CharacterDamage.js","components/character/CharacterArmour.js","components/character/CharacterFunds.js","components/character/CharacterHP.js","components/character/CharacterLevel.js","components/character/CharacterXP.js","components/character/CharacterBasicStats.js","components/character/CharacterAbilities.js","components/character/CharacterBonds.js","components/character/CharacterGear.js","components/character/CharacterClassFeatures.js","components/character/CharacterStandardMoves.js","components/character/CharacterAdvancedMoves.js","components/character/CharacterClassStartingMoves.js","components/character/CharacterClassAdvancedMoves2to5.js","components/character/CharacterClassAdvancedMoves6to10.js","components/character/CharacterClassMoves.js","components/character/CharacterMoves.js","components/other/DiceRoller.js","components/character/CharacterSheet.js","components/contexts/CampaignState.js","components/campaign/CampaignHeader.js","components/campaign/CampaignDetails.js","components/campaign/Campaign.js","components/App.js","index.js"],"names":["ErrorPage","firebase","initializeApp","apiKey","process","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","provider","GoogleAuthProvider","SignInWithGoogle","signInWithPopup","setCustomParameters","prompt","HomepageHeader","Breadcrumbs","aria-label","HomepageState","createContext","AuthState","useStyles","makeStyles","table","minWidth","HomepageDetails","currentUser","useContext","useState","open","setOpen","campaignName","setCampaignName","classes","campaigns","handleCancel","saveCampaign","campaign","owner","email","collection","doc","set","then","console","info","catch","error","alert","deleteCampaign","delete","TableContainer","component","Paper","Table","className","TableHead","TableRow","TableCell","IconButton","onClick","Add","TableBody","map","index","to","id","Delete","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","fullWidth","onChange","event","target","value","DialogActions","Button","color","Homepage","setCampaigns","useEffect","observer","next","querySnapshot","updatedCampaignList","docs","docSnapshot","data","onSnapshot","log","ctx","useMemo","Provider","ProfileState","ProfilePicture","show","setShow","Avatar","src","photoURL","alt","ProfileDetails","style","displayName","variant","FirebaseService","signOut","UserProfile","theme","root","flexGrow","menuButton","marginRight","spacing","title","AppHeader","AppBar","position","Toolbar","edge","Menu","Typography","CharacterState","CharacterSheetHeader","useParams","campaignURL","characterURL","CharacterBasicDetails","character","setCharacter","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","htmlFor","multiline","placeholder","fullName","name","backstory","look","formControl","selectEmpty","marginTop","CharacterType","dwc","dwClass","alig","alignment","race","FormControl","Select","tabIndex","MenuItem","disabled","hidden","dwClasses","key","races","InputProps","readOnly","classDetails","raceAttributes","alignments","alignmentAttributes","CharacterDamage","damage","CharacterArmour","type","min","armour","CharacterFunds","funds","CharacterHP","hp","abilities","baseHp","parseInt","find","x","category","score","CharacterLevel","level","CharacterXP","xp","CharacterBasicStats","CharacterAbilities","updateAbilityScore","e","newAbilities","updateAbilityAffliction","affliction","abilityModifier","abilityScore","abilityAffliction","baseModifier","indexOf","modifier","max","ab","abilityAfflictions","width","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","CharacterBonds","updateBond","newBonds","bonds","bond","align","addBondsRow","length","splice","deleteBondRow","CharacterGear","updateItem","newItems","items","item","updateItemWeight","weight","colSpan","addItemRow","deleteItemRow","reduce","totalLoad","str","baseLoad","maxLoad","CharacterClassFeatures","updateFeatureCheckbox","newFeatures","classFeatures","checkbox","checked","updateFeature","feature","addFeatureRow","Checkbox","deleteFeatureRow","CharacterStandardMoves","standardMoves","dangerouslySetInnerHTML","__html","description","CharacterAdvancedMoves","advancedMoves","CharacterClassStartingMoves","classMoves","startingMoves","CharacterClassAdvancedMoves2to5","advancedMoves2_5","CharacterClassAdvancedMoves6to10","advancedMoves6_10","TabPanel","props","children","other","role","Box","p","a11yProps","backgroundColor","palette","background","paper","CharacterClassMoves","setValue","Tabs","newValue","Tab","CharacterMoves","React","DiceRoller","dice","setDice","diceNum","setDiceNum","rollResult","setRollResult","singleRoll","sides","Math","floor","random","defaultValue","total","i","rollDice","CharacterSheet","isSaving","setIsSaving","documentSnapshot","debouncedSave","useCallback","callback","delay","timer","args","clearTimeout","setTimeout","debounce","DEBOUNCE_SAVE_DELAY_MS","Object","keys","CampaignState","CampaignHeader","CampaignDetails","charaName","setCharaName","saveCharacter","deleteCharacter","characterData","CampaignSheet","setCampaign","updatedCharacterList","App","Container","exact","path","Campaign","Index","setCurrentUser","onAuthStateChanged","user","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.df63787c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction ErrorPage() {\r\n  return (\r\n      <h1>Oops! Page not found!</h1>\r\n    );\r\n}\r\n\r\nexport default ErrorPage;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\n// Initialise Firebase and setting up firestore and auth for use later\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\n\r\n// Authenticate with Firebase-auth using the Google provider object\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nprovider.setCustomParameters({\r\n  prompt: 'select_account'\r\n});\r\nexport function SignInWithGoogle() {\r\n  auth.signInWithPopup(provider)\r\n};\r\n\r\n// Firestore operations\r\n\r\n// Create new blank campaign\r\nexport function createCampaign(campaign,owner) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign).set({owner: owner})\r\n};\r\n\r\n// Create new blank character\r\nexport function createCharacter(campaign,charaName,owner) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(charaName)\r\n    .set({\r\n      abilities: [\r\n        {category: \"STR\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"DEX\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"CON\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"INT\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"WIS\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"CHA\", score: \"1\", affliction: \"Unafflicted\"}\r\n      ],\r\n      alignment: \"\",\r\n      armour: \"\",\r\n      backstory: \"\",\r\n      bonds: [\r\n        {bond: \"\"},\r\n      ],\r\n      classFeatures: [\r\n        {feature: \"\", checkbox: false}\r\n      ],\r\n      dwClass: \"\",\r\n      fullName: \"\",\r\n      funds: \"\",\r\n      hp: \"\",\r\n      items: [\r\n        {item: \"\", weight: \"\"},\r\n      ],\r\n      level: \"\",\r\n      look: \"\",\r\n      owner: owner,\r\n      race: \"\",\r\n      xp: \"\"\r\n    });\r\n};\r\n// Save Character\r\nexport function saveCharacter(campaign, character, data) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(character)\r\n    .set(data);\r\n};\r\n\r\n// Stream Campaign Data (all Campaigns)\r\nexport function streamCampaigns(observer) {\r\n  return db.collection(\"campaigns\")\r\n    .onSnapshot(observer);\r\n};\r\n// Stream Character Data (all Characters)\r\nexport function streamCharacters(campaign, observer) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .onSnapshot(observer);\r\n};\r\n// Stream Character Data (selected Characters)\r\nexport function streamCharacter(campaign, character, observer) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(character)\r\n    .onSnapshot(observer);\r\n};\r\n// Delete Campaign\r\nexport function deleteCampaign(campaign) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .delete()\r\n};\r\n// Delete Characters\r\nexport function deleteCharacter(campaign, character) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(character)\r\n    .delete()\r\n};\r\n\r\n// Default Export\r\nexport default firebase;\r\n","import React from 'react';\r\nimport {Breadcrumbs} from '@material-ui/core';\r\n\r\nfunction HomepageHeader() {\r\n\r\n  return (\r\n  <div>\r\n    <Breadcrumbs aria-label=\"breadcrumb\">\r\n      <p>Home</p>\r\n    </Breadcrumbs>\r\n    <h1>Campaigns Homepage</h1>\r\n  </div>);\r\n}\r\n\r\nexport default HomepageHeader;\r\n","import {createContext} from 'react';\r\n\r\nconst HomepageState = createContext();\r\n\r\nexport default HomepageState;\r\n","import {createContext} from 'react';\r\n\r\nconst AuthState = createContext();\r\n\r\nexport default AuthState;\r\n","import React, {useContext, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport HomepageState from 'components/contexts/HomepageState';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport {Add, Delete} from '@material-ui/icons';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n});\r\n\r\nfunction HomepageDetails() {\r\n\r\n  const {currentUser} = useContext(AuthState);\r\n  const [open, setOpen] = useState(false);\r\n  const [campaignName, setCampaignName] = useState(\"\");\r\n  const classes = useStyles();\r\n  const {campaigns} = useContext(HomepageState);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setOpen(false);\r\n    saveCampaign();\r\n  }\r\n\r\n  // Create New Campaign\r\n  const saveCampaign = () => {\r\n    if (campaignName) { //don't save unless details present\r\n      FirebaseService.createCampaign(campaignName, currentUser.email).then(() => {\r\n        console.info('Created Campaign:', campaignName);\r\n      }).catch((error) => {\r\n        alert(\"Failed to create campaign, see console error\");\r\n        console.error(\"Error creating document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot save blank campaign');\r\n    }\r\n  }\r\n\r\n  // Delete Campaign\r\n  const deleteCampaign = (campaignName) => {\r\n    if (campaignName) { //don't save unless details present\r\n      FirebaseService.deleteCampaign(campaignName).then(() => {\r\n        console.info('Deleted Campaign:', campaignName);\r\n      }).catch((error) => {\r\n        alert(\"Failed to delete campaign, see console error\");\r\n        console.error(\"Error deleting document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot delete blank campaign');\r\n    }\r\n  }\r\n\r\n  return (<> < TableContainer component = {\r\n    Paper\r\n  } > <Table className={classes.table} aria-label=\"simple table\">\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell>Campaign</TableCell>\r\n        <TableCell>Owner</TableCell>\r\n        <TableCell>\r\n          <IconButton aria-label=\"add\" onClick={handleClickOpen}>\r\n            <Add/>\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableHead>\r\n    <TableBody>\r\n      {\r\n        campaigns.campaigns && campaigns.campaigns.map((campaign, index) => {\r\n          return (<TableRow key={index}>\r\n            <TableCell>\r\n              <Link to={\"/dw-react/\" + campaign.id}>{campaign.id}</Link>\r\n            </TableCell>\r\n            <TableCell>\r\n              {campaign.owner}\r\n            </TableCell>\r\n            <TableCell>\r\n              <IconButton aria-label=\"delete\" onClick={() => deleteCampaign(campaign.id)}>\r\n                <Delete/>\r\n              </IconButton>\r\n            </TableCell>\r\n          </TableRow>)\r\n        })\r\n      }\r\n    </TableBody>\r\n  </Table> < /TableContainer>\r\n<Dialog open={open} onClose={handleCancel} aria-labelledby=\"form-dialog-title\">\r\n  <DialogTitle id=\"form-dialog-title\">Create new campaign</DialogTitle > <DialogContent>\r\n    <DialogContentText>\r\n      To create a campaign, please enter the new campaign name here. You will not be able to change this once saved.\r\n    </DialogContentText>\r\n    <TextField autoFocus={true} margin=\"dense\" id=\"name\" label=\"Campaign Name\" fullWidth={true} onChange={event => setCampaignName(event.target.value)}/>\r\n  </DialogContent>\r\n  <DialogActions>\r\n    <Button onClick={handleCancel} color=\"primary\">\r\n      Cancel\r\n    </Button>\r\n    <Button onClick={handleSave} color=\"primary\">\r\n      Create Campaign\r\n    </Button>\r\n  </DialogActions> < /Dialog>\r\n</ >);\r\n}\r\n\r\nexport default HomepageDetails;\r\n","import React, {useState, useEffect, useMemo} from 'react';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport HomepageHeader from 'components/homepage/HomepageHeader';\r\nimport HomepageDetails from 'components/homepage/HomepageDetails';\r\nimport HomepageState from 'components/contexts/HomepageState';\r\n\r\nfunction Homepage() {\r\n\r\n  // Definitions for state\r\n  const [campaigns, setCampaigns] = useState({});\r\n\r\n  // Use an effect hook to subscribe to the campaign stream and\r\n  // automatically unsubscribe when the component unmounts.\r\n  useEffect(() => {\r\n    const unsubscribe = FirebaseService.streamCampaigns({\r\n      next: querySnapshot => {\r\n        const updatedCampaignList = querySnapshot.docs.map((docSnapshot) => {\r\n          return ({id: docSnapshot.id, owner: docSnapshot.data().owner})\r\n        });\r\n        setCampaigns(campaign => ({campaigns: updatedCampaignList}));\r\n      },\r\n      error: (error) => {\r\n        alert(\"Failed to load data correctly, see console error\");\r\n        console.error(\"Error loading data:\", error);\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, [setCampaigns]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Campaigns State:\", campaigns)\r\n  }, [campaigns]); //Only log to console if state actually changes\r\n\r\n  const ctx = useMemo(() => ({campaigns}), [campaigns]); //Memo-ised state for performance\r\n\r\n  return (<HomepageState.Provider value={ctx}>\r\n    <HomepageHeader/>\r\n    <br/>\r\n    <HomepageDetails/>\r\n  </HomepageState.Provider>);\r\n}\r\n\r\nexport default Homepage;\r\n","import {createContext} from 'react';\r\n\r\nconst ProfileState = createContext();\r\n\r\nexport default ProfileState;\r\n","import React, {useContext} from 'react';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport ProfileState from 'components/contexts/ProfileState';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nfunction ProfilePicture() {\r\n\r\n  const {currentUser} = useContext(AuthState);\r\n  const {show, setShow} = useContext(ProfileState);\r\n  const toggleSetShow = () => setShow(!show);\r\n\r\n  return (<Avatar\r\n    src={currentUser.photoURL}\r\n    alt=\"Google Profile\"\r\n    onClick={() => toggleSetShow()}\r\n    />);\r\n}\r\n\r\nexport default ProfilePicture;\r\n","import React, {useContext} from 'react';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport {Button} from '@material-ui/core';\r\n\r\nfunction ProfileDetails() {\r\n\r\n  const {currentUser} = useContext(AuthState);\r\n\r\n    return (\r\n      <div style={{\"border\": \"0\",\r\n      \"-webkit-border-radius\": \"50%\",\r\n      \"border-radius\": \"5px\",\r\n      \"display\": \"inline-block\",\r\n      \"margin\": \"0\",\r\n      \"position\": \"absolute\",\r\n      \"top\": \"50px\",\r\n      \"right\": \"20px\",\r\n      \"color\": \"#bdc1c6\",\r\n      \"background-color\": \"rgba(60, 64, 67, 0.9)\",\r\n      \"text-align\": \"left\",\r\n      \"font\": \"500 12px 'Roboto', arial, sans-serif\",\r\n      \"letter-spacing\": \"0.8px\",\r\n      \"line-height\": \"16px\",\r\n      \"font-weight\": \"bold\",\r\n      \"padding\": \"8px 8px\"}}>\r\n        <div style={{\"color\": \"white\"}}>Google Account</div>\r\n        <div>{currentUser.displayName}</div>\r\n        <div>{currentUser.email}</div>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={() => FirebaseService.auth.signOut()}>LOG OUT</Button>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ProfileDetails;\r\n","import React, {useState, useMemo} from 'react';\r\nimport ProfilePicture from 'components/profile/ProfilePicture';\r\nimport ProfileDetails from 'components/profile/ProfileDetails';\r\nimport ProfileState from 'components/contexts/ProfileState';\r\n\r\nfunction UserProfile() {\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const ctx = useMemo(() => ({show, setShow}), [show]); //Memo-ised state for performance\r\n\r\n  return (<ProfileState.Provider value={ctx}>\r\n      <ProfilePicture/> {\r\n        show\r\n          ? <ProfileDetails/>\r\n          : null\r\n      }\r\n  </ProfileState.Provider>);\r\n}\r\n\r\nexport default UserProfile;\r\n","import React from 'react';\r\nimport {AppBar,IconButton,Toolbar,Typography} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Menu} from '@material-ui/icons';\r\nimport UserProfile from 'components/profile/UserProfile';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nfunction AppHeader() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <Menu />\r\n          </IconButton>\r\n          <Typography component={'span'} variant=\"h6\" className={classes.title}>\r\n            Dungeon World Character Sheet (v0.10.0 by Godmar02)\r\n          </Typography>\r\n          <UserProfile/>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppHeader;\r\n","import {createContext} from 'react';\r\n\r\nconst CharacterState = createContext();\r\n\r\nexport default CharacterState;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useParams} from 'react-router';\r\nimport {Breadcrumbs} from '@material-ui/core';\r\n\r\nfunction CharacterSheetHeader() {\r\n\r\n  // retrieve URL parameters for usage\r\n  const {campaignURL, characterURL} = useParams();\r\n\r\n  return (\r\n  <>\r\n    <Breadcrumbs aria-label=\"breadcrumb\">\r\n      <Link to=\"/dw-react\">Home</Link>\r\n      <Link to={\"/dw-react/\" + campaignURL}>{campaignURL}</Link>\r\n      <p>\r\n        {characterURL}</p>\r\n    </Breadcrumbs>\r\n      <h1>Character: {characterURL}</h1>\r\n    </>);\r\n}\r\n\r\nexport default CharacterSheetHeader;\r\n","import React, {useContext} from 'react';\r\nimport {Accordion,AccordionSummary,AccordionDetails,Paper,Table,TableBody,TableCell,TableContainer,TableRow,TextField} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nfunction CharacterBasicDetails() {\r\n\r\n  // State Variables\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMore />}>Basic Details\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <TableContainer component={Paper}>\r\n    <Table className={classes.table} aria-label=\"simple table\">\r\n    <TableBody>\r\n      <TableRow>\r\n        <th style={{\"width\" : \"25%\"}}>\r\n          <label htmlFor=\"fullName\">FULL NAME</label>\r\n        </th>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n            placeholder=\"Add your characters full name here\"\r\n            value={character.fullName}\r\n            name=\"fullName\"\r\n            onChange={event => setCharacter(character => ({...character,fullName: event.target.value}))}/>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <th style={{\"width\" : \"25%\"}}>\r\n          <label htmlFor=\"backstory\">BACKSTORY</label>\r\n        </th>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n            placeholder=\"Describe your character's backstory and anything else about your characters identity here\"\r\n            value={character.backstory}\r\n            name=\"backstory\"\r\n            onChange={event => setCharacter(character => ({...character,backstory: event.target.value}))}/>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <th style={{\"width\" : \"25%\"}}>\r\n          <label htmlFor=\"look\">LOOK</label>\r\n        </th>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n            placeholder=\"Describe your character's appearance here\"\r\n            name=\"look\"\r\n            value={character.look}\r\n            onChange={event => setCharacter(character => ({...character,look: event.target.value}))}/>\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableBody>\r\n  </Table></TableContainer></AccordionDetails>\r\n</Accordion>\r\n          );\r\n}\r\n\r\nexport default CharacterBasicDetails;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {races} from 'data/raceList';\r\nimport {dwClasses} from 'data/classList';\r\nimport {alignments} from 'data/classAlignments';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {Accordion,AccordionSummary,AccordionDetails,FormControl,MenuItem,Paper,Select,Table,TableBody,TableCell,TableContainer,TableRow,TextField} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n}));\r\n\r\nfunction CharacterType() {\r\n\r\n  const classes = useStyles();\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n  const alig = character.alignment;\r\n  const race = character.race;\r\n\r\n  const raceAttributes = () => {\r\n    if (character.dwClass && character.race) {\r\n      return (classDetails.[dwc].raceAttributes.[race]);\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  const alignmentAttributes = () => {\r\n    if (character.dwClass && character.alignment) {\r\n      return (classDetails.[dwc].alignmentAttributes.[alig]);\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMore />}>Character Type\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <TableContainer component={Paper}>\r\n  <Table className={classes.table} aria-label=\"simple table\">\r\n    <TableBody>\r\n      <TableRow>\r\n        <th>CLASS\r\n        </th>\r\n        <TableCell style={{\"width\" : \"25%\"}}>\r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n          <Select\r\n            tabIndex={-1}\r\n            value={character.dwClass || \"null\"}\r\n            onChange={event => {\r\n              setCharacter(character => ({...character,dwClass: event.target.value}));\r\n              setCharacter(character => ({...character,alignment: \"null\"}))}}>\r\n            <MenuItem disabled value=\"null\" hidden />\r\n            {\r\n              dwClasses.map((data, key) => {\r\n                return (\r\n                <MenuItem value={data} key={key}>\r\n                  {data}\r\n                </MenuItem>);\r\n              })\r\n            }\r\n          </Select>\r\n          </FormControl>\r\n        </TableCell>\r\n        <TableCell style={{\"width\" : \"50%\"}}/>\r\n      </TableRow>\r\n      <TableRow>\r\n        <th>\r\n          <label htmlFor=\"race\">RACE</label>\r\n        </th>\r\n        <TableCell>\r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n          <Select\r\n            tabIndex={-1}\r\n            value={character.race || \"null\"}\r\n            name=\"race\"\r\n            onChange={event => setCharacter(character => ({...character,race: event.target.value}))}>\r\n            <MenuItem disabled value=\"null\" hidden />\r\n            {\r\n              races.map((data, key) => {\r\n                return (\r\n                <MenuItem value={data} key={key}>\r\n                  {data}\r\n                </MenuItem>);\r\n              })\r\n            }\r\n          </Select>\r\n          </FormControl>\r\n        </TableCell>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n\r\n            name=\"raceAttributes\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            value={raceAttributes()}/>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <th>\r\n          <label htmlFor=\"alignment\">ALIGNMENT</label>\r\n        </th>\r\n        <TableCell>\r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n          <Select\r\n            tabIndex={-1}\r\n            value={character.alignment || \"null\"}\r\n            name=\"alignment\"\r\n            onChange={event => setCharacter(character => ({...character,alignment: event.target.value}))}>\r\n            <MenuItem disabled value=\"null\" hidden />\r\n            {\r\n              character.dwClass && dwc && alignments.[dwc].map((data, key) => {\r\n              return (\r\n              <MenuItem value={data} key={key}>\r\n                {data}\r\n              </MenuItem>);})\r\n            }\r\n          </Select>\r\n        </FormControl>\r\n        </TableCell>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n\r\n            name=\"alignmentAttribute\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            value={alignmentAttributes()}/>\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableBody>\r\n  </Table></TableContainer>\r\n</AccordionDetails>\r\n</Accordion>\r\n          );\r\n}\r\n\r\nexport default CharacterType;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nfunction CharacterDamage() {\r\n\r\n  // State Variables\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n\r\n  const damage = () => {\r\n    if (character.dwClass) {\r\n      return (classDetails.[dwc].damage);\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  return (\r\n            <TextField\r\n              variant=\"outlined\"\r\n              name=\"damage\"\r\n              label=\"Damage\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              value={damage()}/>\r\n  );\r\n}\r\nexport default CharacterDamage;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nfunction CharacterArmour() {\r\n\r\n  // State Variables\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n\r\n  return (\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              label=\"Armour\"\r\n              min={0}\r\n              name=\"armour\" value={character.armour || ''} onChange={event => setCharacter(character => ({...character,armour: event.target.value}))}/>\r\n  );\r\n}\r\n\r\nexport default CharacterArmour;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nfunction CharacterFunds() {\r\n\r\n  // State Variables\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n\r\n  return (\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              name=\"funds\"\r\n              label=\"Funds\"\r\n              min={0}\r\n              value={character.funds || ''}\r\n              onChange={event => setCharacter(character => ({...character,funds: event.target.value}))}/>\r\n  );\r\n}\r\n\r\nexport default CharacterFunds;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nfunction CharacterHP() {\r\n\r\n  // State Variables\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n\r\n  const dwc = character.dwClass;\r\n  const maxHp = () => {\r\n    if (character.dwClass && character.abilities) {\r\n      return (\"/ \" + (classDetails.[dwc].baseHp + parseInt(character.abilities.find(x => x.category === 'CON').score ,10)));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  return (<>\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              label=\"HP\"\r\n              min={0}\r\n\r\n              name=\"hp\"\r\n              value={character.hp || ''}\r\n              onChange={event => setCharacter(character => ({...character,hp: event.target.value}))}/>\r\n            <TextField\r\n              variant=\"outlined\"\r\n\r\n              label=\"Max HP\"\r\n              name=\"maxHp\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              value={maxHp()} />\r\n            </>\r\n  );\r\n}\r\n\r\nexport default CharacterHP;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nfunction CharacterLevel() {\r\n\r\n  // State Variables\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n\r\n  return (\r\n\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              label=\"Level\"\r\n              min={1}\r\n\r\n              name=\"level\"\r\n              value={character.level || ''}\r\n              onChange={event => setCharacter(character => ({...character,level: event.target.value}))}/>\r\n          );\r\n}\r\n\r\nexport default CharacterLevel;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nfunction CharacterXP() {\r\n\r\n  // State Variables\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n\r\n  // Total Load\r\n  const calcMaxXp = () => {\r\n    if (character.level) {\r\n      return (\"/ \" + (parseInt(character.level,10) + 7));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  return (<>\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              label=\"XP\"\r\n              min={0}\r\n              name=\"xp\"\r\n              value={character.xp || ''}\r\n              onChange={event => setCharacter(character => ({...character,xp: event.target.value}))}/>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              label=\"Max XP\"\r\n              name=\"maxXp\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              value={calcMaxXp()} />\r\n            </>);\r\n}\r\n\r\nexport default CharacterXP;\r\n","import React from 'react';\r\nimport {Accordion,AccordionSummary,AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport CharacterDamage from 'components/character/CharacterDamage'\r\nimport CharacterArmour from 'components/character/CharacterArmour'\r\nimport CharacterFunds from 'components/character/CharacterFunds'\r\nimport CharacterHP from 'components/character/CharacterHP'\r\nimport CharacterLevel from 'components/character/CharacterLevel'\r\nimport CharacterXP from 'components/character/CharacterXP'\r\n\r\nfunction CharacterBasicStats() {\r\n\r\n  return (\r\n  <div>\r\n    <Accordion>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMore />}>Basic Stats\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n    <CharacterLevel/>\r\n    <CharacterXP/>\r\n    <CharacterDamage/>\r\n    <CharacterArmour/>\r\n    <CharacterFunds/>\r\n    <CharacterHP/>\r\n    </AccordionDetails>\r\n  </Accordion>\r\n  </div>);\r\n}\r\n\r\nexport default CharacterBasicStats;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {abilityAfflictions} from 'data/abilityAfflictions';\r\nimport {Accordion,AccordionSummary,AccordionDetails,FormControl,MenuItem,Select,TextField} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nfunction CharacterAbilities() {\r\n\r\n  const classes = useStyles();\r\n  // State Variables\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n\r\n  const updateAbilityScore = index => e => {\r\n    let newAbilities = [...character.abilities]; // copying the old array\r\n    newAbilities[index] = {...character.abilities[index], score: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, abilities: newAbilities})); // set array back\r\n  }\r\n\r\n  const updateAbilityAffliction = index => e => {\r\n    let newAbilities = [...character.abilities]; // copying the old array\r\n    newAbilities[index] = {...character.abilities[index], affliction: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, abilities: newAbilities})); // set array back\r\n  }\r\n\r\n  const abilityModifier = (abilityScore, abilityAffliction) => {\r\n\r\n    if (abilityScore && abilityAffliction) {\r\n    let baseModifier;\r\n    let afflicted;\r\n\r\n    abilityScore = parseInt(abilityScore,10);\r\n\r\n    if ([1, 2, 3].indexOf(abilityScore) > -1) {\r\n      baseModifier = -3;\r\n    } else if ([4, 5].indexOf(abilityScore) > -1) {\r\n      baseModifier = -2;\r\n    } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\r\n      baseModifier = -1;\r\n    } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\r\n      baseModifier = 0;\r\n    } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\r\n      baseModifier = 1;\r\n    } else if ([16, 17].indexOf(abilityScore) > -1) {\r\n      baseModifier = 2;\r\n    } else if (abilityScore === 18) {\r\n      baseModifier = 3;\r\n    }\r\n\r\n    /*-1 if afflicted*/\r\n    if (abilityAffliction === \"Unafflicted\") {\r\n      afflicted = 0;\r\n    } else {\r\n      afflicted = 1;\r\n    }\r\n\r\n    let modifier = (baseModifier - afflicted);\r\n\r\n    if (modifier > 0) {\r\n      return(\"[+\" + modifier+ \"]\");\r\n    } else {\r\n      return (\"[\" + modifier + \"]\");\r\n    }\r\n  } else {\r\n    return ('')\r\n  }\r\n  }\r\n\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMore />}>Abilities\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n     <table style={{\"width\":\"100%\"}}>\r\n       <thead>\r\n         <tr>\r\n           {\r\n            character.abilities && character.abilities.map((abilities, index) => {\r\n            return (\r\n              <th key={index}>\r\n                <label\r\n                  htmlFor={abilities.category}\r\n                  value={abilities.category}\r\n                  name={abilities.category}>\r\n                  {abilities.category}\r\n                </label>\r\n              </th>)\r\n           })\r\n         }\r\n         </tr>\r\n       </thead>\r\n       <tbody>\r\n         <tr>\r\n           {\r\n            character.abilities && character.abilities.map((abilities, index) => {\r\n            return (\r\n              <td key={index}>\r\n                <TextField\r\n                  type=\"number\"\r\n                  variant=\"outlined\"\r\n                  min={1} max={18}\r\n                  name={abilities.category + \"Score\"}\r\n                  value={abilities.score}\r\n                  onChange={updateAbilityScore(index)} />\r\n            </td>)\r\n           })\r\n         }\r\n         </tr>\r\n         <tr>\r\n           {\r\n            character.abilities && character.abilities.map((abilities, index) => {\r\n            return (\r\n              <td key={index}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  name={abilities.category + \"Modifier\"}\r\n                  value={abilityModifier(abilities.score, abilities.affliction)}\r\n                  InputProps={{\r\n                    readOnly: true,\r\n                  }} />\r\n            </td>)\r\n           })\r\n         }\r\n         </tr>\r\n         <tr>\r\n           {\r\n            character.abilities && character.abilities.map((abilities,index) => {\r\n            const ab = abilities.category;\r\n            return (\r\n              <td key={index}>\r\n                <FormControl\r\n                  variant=\"outlined\"\r\n                  className={classes.formControl}>\r\n                <Select\r\n                  tabIndex={-1}\r\n                  value={abilities.affliction || \"null\"}\r\n                  name={abilities.category + \"Affliction\"}\r\n                  onChange={updateAbilityAffliction(index)}>\r\n                  <MenuItem disabled value=\"null\" hidden />\r\n                    {\r\n                      abilityAfflictions.[ab].map((data, key) => {\r\n                        return (\r\n                        <MenuItem value={data} key={key}>\r\n                          {data}\r\n                        </MenuItem>);\r\n                      })\r\n                    }\r\n                </Select>\r\n              </FormControl>\r\n              </td>)\r\n           })\r\n         }\r\n         </tr>\r\n       </tbody>\r\n     </table>\r\n   </AccordionDetails>\r\n   </Accordion>\r\n    );\r\n}\r\n\r\nexport default CharacterAbilities;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Add,Delete} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {Accordion,AccordionSummary,AccordionDetails,IconButton,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n}));\r\n\r\nfunction CharacterBonds() {\r\n\r\n  const classes = useStyles();\r\n\r\n  // State Variables\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n\r\n  // State manipulation\r\n  const updateBond = index => e => {\r\n    let newBonds = [...character.bonds]; // copying the old array\r\n    newBonds[index] = {...character.bonds[index], bond: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, bonds: newBonds})); // set array back\r\n  }\r\n\r\n  // Delete rows in the table\r\n  const deleteBondRow = index => {\r\n    const newBonds = [...character.bonds]; // copying the old array\r\n    if (character.bonds.length !== 1) { //don't delete last row\r\n      newBonds.splice(index, 1); // remove item from array\r\n      setCharacter(character => ({...character, bonds: newBonds})); // set array back\r\n    } else {\r\n      alert('Cannot delete final row');\r\n    }\r\n  }\r\n\r\n  // Add rows in the table\r\n  const addBondsRow = () => {\r\n    const newBonds = [...character.bonds, {bond: \"\"}]; // copying the old array and adding blank item\r\n    setCharacter(character => ({...character, bonds: newBonds})); // set array back\r\n  }\r\n\r\n  return (<Accordion>\r\n    <AccordionSummary\r\n      expandIcon={<ExpandMore />}>Bonds\r\n    </AccordionSummary>\r\n    <AccordionDetails>\r\n      <TableContainer component={Paper}>\r\n    <Table className={classes.table} aria-label=\"simple table\">\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell align=\"center\">Bond</TableCell>\r\n          <TableCell>\r\n            <IconButton aria-label=\"add\" onClick={() => addBondsRow()}>\r\n              <Add />\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {\r\n         character.bonds && character.bonds.map((bonds,index) => {\r\n         return (\r\n           <TableRow key={index}>\r\n               <TableCell>\r\n                 <TextField\r\n                   multiline\r\n                   fullWidth\r\n                   variant=\"outlined\"\r\n                   aria-label=\"empty textarea\"\r\n                   placeholder=\"Add 2-3 bonds here\"\r\n                   value={bonds.bond}\r\n                   name={\"bond\" + index}\r\n                   onChange={updateBond(index)}\r\n                   />\r\n               </TableCell>\r\n               <TableCell>\r\n                 <IconButton aria-label=\"delete\" onClick={() => deleteBondRow(index)}>\r\n                   <Delete/>\r\n                 </IconButton>\r\n               </TableCell>\r\n           </TableRow>)\r\n        })\r\n      }\r\n      </TableBody>\r\n      <tfoot/>\r\n    </Table>\r\n    </TableContainer>\r\n  </AccordionDetails>\r\n  </Accordion>\r\n    );\r\n}\r\n\r\nexport default CharacterBonds;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {Add,Delete} from '@material-ui/icons';\r\nimport {IconButton,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nfunction CharacterGear() {\r\n\r\n  const classes = useStyles();\r\n\r\n  // State Variables\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n\r\n  // Total Load\r\n  const totalLoad = () => {\r\n    if (character.items) {\r\n      return (character.items.reduce((totalLoad,data) => totalLoad + parseInt((data.weight || 0),10) ,0));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  // Max Load\r\n  const maxLoad = () => {\r\n\r\n    if (character.dwClass && character.abilities.find(x => x.category === 'STR').score && character.abilities.find(x => x.category === 'STR').affliction) {\r\n      let str = character.abilities.find(x => x.category === 'STR');\r\n      let baseModifier;\r\n      let abilityAffliction = str.affliction;\r\n      let abilityScore = parseInt(str.score,10);\r\n      let afflicted;\r\n\r\n      if ([1, 2, 3].indexOf(abilityScore) > -1) {\r\n        baseModifier = -3;\r\n      } else if ([4, 5].indexOf(abilityScore) > -1) {\r\n        baseModifier = -2;\r\n      } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\r\n        baseModifier = -1;\r\n      } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\r\n        baseModifier = 0;\r\n      } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\r\n        baseModifier = 1;\r\n      } else if ([16, 17].indexOf(abilityScore) > -1) {\r\n        baseModifier = 2;\r\n      } else if (abilityScore === 18) {\r\n        baseModifier = 3;\r\n      }\r\n\r\n      /*-1 if afflicted*/\r\n      if (abilityAffliction === \"Unafflicted\") {\r\n        afflicted = 0;\r\n      } else {\r\n        afflicted = 1;\r\n      }\r\n\r\n      let modifier = (baseModifier - afflicted);\r\n\r\n      return (\"/ \" + (classDetails.[dwc].baseLoad + modifier));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  // State manipulation\r\n  const updateItem = index => e => {\r\n    let newItems = [...character.items]; // copying the old array\r\n    newItems[index] = {...character.items[index], item: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, items: newItems})); // set array back\r\n  }\r\n\r\n  const updateItemWeight = index => e => {\r\n    let newItems = [...character.items]; // copying the old array\r\n    newItems[index] = {...character.items[index], weight: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, items: newItems})); // set array back\r\n  }\r\n\r\n  // Delete rows in the table\r\n  const deleteItemRow = index => {\r\n    const newItems = [...character.items]; // copying the old array\r\n    if (character.items.length !== 1) { //don't delete last row\r\n      newItems.splice(index, 1); // remove item from array\r\n      setCharacter(character => ({...character, items: newItems})); // set array back\r\n    } else {\r\n      alert('Cannot delete final row');\r\n    }\r\n  }\r\n\r\n  // Add rows in the table\r\n  const addItemRow = () => {\r\n    const newItems = [...character.items, {item: \"\", weight: \"\"}]; // copying the old array and adding blank item\r\n    setCharacter(character => ({...character, items: newItems})); // set array back\r\n  }\r\n  //,\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n        <TableRow>\r\n          <TableCell align=\"center\" colSpan=\"4\">ITEM</TableCell>\r\n          <TableCell align=\"center\" colSpan=\"2\">WEIGHT</TableCell>\r\n          <TableCell>\r\n            <IconButton aria-label=\"add\" onClick={() => addItemRow()}>\r\n              <Add/>\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {\r\n         character.items && character.items.map((items,index) => {\r\n         return (\r\n           <TableRow key={index}>\r\n               <TableCell colSpan=\"4\">\r\n                 <TextField\r\n                   multiline\r\n                   fullWidth\r\n                   variant=\"outlined\"\r\n                   aria-label=\"empty textarea\"\r\n                   placeholder=\"Add any items and descriptions here\"\r\n                   value={items.item}\r\n                   name={\"item\" + index}\r\n                   onChange={updateItem(index)}/>\r\n               </TableCell>\r\n               <TableCell colSpan=\"2\">\r\n                 <TextField\r\n                   type=\"number\"\r\n                   fullWidth\r\n                   variant=\"outlined\"\r\n                   min={0}\r\n                   value={items.weight}\r\n                   name={\"itemWeight\" + index}\r\n                   onChange={updateItemWeight(index)}/>\r\n               </TableCell>\r\n               <TableCell>\r\n                 <IconButton aria-label=\"delete\" onClick={() => deleteItemRow(index)}>\r\n                     <Delete/>\r\n                  </IconButton>\r\n               </TableCell>\r\n           </TableRow>)\r\n        })\r\n      }\r\n      <TableRow>\r\n        <TableCell align=\"right\" colSpan=\"4\">LOAD</TableCell>\r\n        <TableCell>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            name=\"totalLoad\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            value={totalLoad()} />\r\n        </TableCell>\r\n        <TableCell>\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            name=\"maxLoad\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            value={maxLoad()} />\r\n        </TableCell>\r\n        <td />\r\n      </TableRow>\r\n    </TableBody>\r\n    </Table>\r\n  </TableContainer>\r\n    );\r\n}\r\n\r\nexport default CharacterGear;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Add,Delete} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {Accordion,AccordionSummary,AccordionDetails,Checkbox,IconButton,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n}));\r\n\r\nfunction CharacterClassFeatures() {\r\n\r\n  const classes = useStyles();\r\n\r\n  // State Variables\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n\r\n  // State manipulation\r\n  const updateFeatureCheckbox = index => e => {\r\n    let newFeatures = [...character.classFeatures]; // copying the old array\r\n    newFeatures[index] = {...character.classFeatures[index], checkbox: e.target.checked}; // replace value\r\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n  }\r\n\r\n  const updateFeature = index => e => {\r\n    let newFeatures = [...character.classFeatures]; // copying the old array\r\n    newFeatures[index] = {...character.classFeatures[index], feature: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n  }\r\n\r\n  // Delete rows in the table\r\n  const deleteFeatureRow = index => {\r\n    const newFeatures = [...character.classFeatures]; // copying the old array\r\n    if (character.classFeatures.length !== 1) { //don't delete last row\r\n      newFeatures.splice(index, 1); // remove item from array\r\n      setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n    } else {\r\n      alert('Cannot delete final row');\r\n    }\r\n  }\r\n\r\n  // Add rows in the table\r\n  const addFeatureRow = () => {\r\n    const newFeatures = [...character.classFeatures, {feature: \"\", checkbox: false}]; // copying the old array and adding blank item\r\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n  }\r\n\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMore />}>Class Features\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <TableContainer component={Paper}>\r\n    <Table className={classes.table} aria-label=\"simple table\">\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell colSpan=\"2\" align=\"center\">Feature</TableCell>\r\n          <TableCell>\r\n            <IconButton aria-label=\"add\" onClick={() => addFeatureRow()}>\r\n              <Add/>\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n          {\r\n           character.classFeatures && character.classFeatures.map((classFeatures,index) => {\r\n           return (\r\n             <TableRow key={index}>\r\n               <TableCell>\r\n                 <Checkbox\r\n                   name={\"classFeatureCheckbox\" + index}\r\n                   checked={!!classFeatures.checkbox}\r\n                   onChange={updateFeatureCheckbox(index)}\r\n                   color=\"primary\"\r\n                   />\r\n               </TableCell>\r\n                 <TableCell>\r\n                   <TextField\r\n                    multiline\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                     aria-label=\"empty textarea\"\r\n                     placeholder=\"Add any Class Features here (e.g. Spell Lists, Poison Recipes, Druid Balance, Paladin Quests or anything else!)\"\r\n                     value={classFeatures.feature}\r\n                     name={\"classFeature\" + index}\r\n                     onChange={updateFeature(index)}/>\r\n                 </TableCell>\r\n                 <TableCell>\r\n                   <IconButton aria-label=\"delete\" onClick={() => deleteFeatureRow(index)}>\r\n                     <Delete/>\r\n                   </IconButton>\r\n                 </TableCell>\r\n             </TableRow>)\r\n          })\r\n        }\r\n      </TableBody>\r\n      <tfoot/>\r\n    </Table>\r\n    </TableContainer>\r\n  </AccordionDetails>\r\n  </Accordion>\r\n    );\r\n}\r\n\r\nexport default CharacterClassFeatures;\r\n","import React from 'react';\r\nimport {Accordion,AccordionSummary,AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {standardMoves} from 'data/movesList';\r\n\r\nfunction CharacterStandardMoves() {\r\n\r\n  return (\r\n  <>\r\n        {\r\n          standardMoves.map((data,index) => {\r\n            return (\r\n              <Accordion key={index}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMore />}>{data.name}\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                      <p dangerouslySetInnerHTML={{__html: data.description }}></p>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              );\r\n          })\r\n        }\r\n    </>);\r\n}\r\n\r\nexport default CharacterStandardMoves;\r\n","import React from 'react';\r\nimport {Accordion,AccordionSummary,AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {advancedMoves} from 'data/movesList';\r\n\r\nfunction CharacterAdvancedMoves() {\r\n  return (\r\n  <>\r\n        {\r\n          advancedMoves.map((data,index) => {\r\n            return (\r\n              <Accordion key={index}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMore />}>{data.name}\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                      <p dangerouslySetInnerHTML={{__html: data.description }}></p>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              );\r\n        })\r\n      }\r\n    </>);\r\n}\r\n\r\nexport default CharacterAdvancedMoves;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {classMoves} from 'data/movesList';\r\n\r\nfunction CharacterClassStartingMoves() {\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n  return (<> {\r\n    dwc && classMoves.[dwc].startingMoves.map((data,index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>\r\n          {data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{\r\n              __html: data.description\r\n            }}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } < />)\r\n}\r\n\r\nexport default CharacterClassStartingMoves;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {classMoves} from 'data/movesList';\r\n\r\nfunction CharacterClassAdvancedMoves2to5() {\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n  return (<> {\r\n    dwc && classMoves.[dwc].advancedMoves2_5.map((data,index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>\r\n          {data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{\r\n              __html: data.description\r\n            }}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } < />)\r\n}\r\n\r\nexport default CharacterClassAdvancedMoves2to5;\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {classMoves} from 'data/movesList';\r\n\r\nfunction CharacterClassAdvancedMoves6to10() {\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n  return (<> {\r\n    dwc && classMoves.[dwc].advancedMoves6_10.map((data,index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>\r\n          {data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{\r\n              __html: data.description\r\n            }}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } < />)\r\n}\r\n\r\nexport default CharacterClassAdvancedMoves6to10;\r\n","import React, {useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {AppBar, Box, Tab, Tabs} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport CharacterClassStartingMoves from 'components/character/CharacterClassStartingMoves'\r\nimport CharacterClassAdvancedMoves2to5 from 'components/character/CharacterClassAdvancedMoves2to5'\r\nimport CharacterClassAdvancedMoves6to10 from 'components/character/CharacterClassAdvancedMoves6to10'\r\n\r\n// Tab functions\r\nfunction TabPanel(props) {\r\n  const {\r\n    children,\r\n    value,\r\n    index,\r\n    ...other\r\n  } = props;\r\n\r\n  return (<div role=\"tabpanel\" hidden={value !== index} id={`simple-tabpanel-${index}`} aria-labelledby={`simple-tab-${index}`} {...other}>\r\n    {\r\n      value === index && (<Box p={3}>\r\n        {children}\r\n      </Box>)\r\n    }\r\n  </div>);\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {id: `simple-tab-${index}`, 'aria-controls': `simple-tabpanel-${index}`};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper\r\n  }\r\n}));\r\n\r\nfunction CharacterClassMoves() {\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (<div className={classes.root}>\r\n    <AppBar position=\"static\">\r\n      <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n        <Tab label=\"Starting\" {...a11yProps(0)}/>\r\n        <Tab label=\"Levels 2-5\" {...a11yProps(1)}/>\r\n        <Tab label=\"Levels 6-10\" {...a11yProps(2)}/>\r\n      </Tabs>\r\n    </AppBar>\r\n    <TabPanel value={value} index={0}>\r\n      <CharacterClassStartingMoves/>\r\n    </TabPanel>\r\n    <TabPanel value={value} index={1}>\r\n      <CharacterClassAdvancedMoves2to5/>\r\n    </TabPanel>\r\n    <TabPanel value={value} index={2}>\r\n      <CharacterClassAdvancedMoves6to10/>\r\n    </TabPanel>\r\n  </div>);\r\n}\r\n\r\nexport default CharacterClassMoves;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {AppBar,Box,Tab,Tabs} from '@material-ui/core';\r\nimport CharacterStandardMoves from 'components/character/CharacterStandardMoves'\r\nimport CharacterAdvancedMoves from 'components/character/CharacterAdvancedMoves'\r\nimport CharacterClassMoves from 'components/character/CharacterClassMoves'\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nfunction CharacterMoves() {\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n          <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n            <Tab label=\"Standard\" {...a11yProps(0)} />\r\n            <Tab label=\"Advanced\" {...a11yProps(1)} />\r\n            <Tab label=\"Class\" {...a11yProps(2)} />\r\n          </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <CharacterStandardMoves/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <CharacterAdvancedMoves/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <CharacterClassMoves/>\r\n      </TabPanel>\r\n    </div>);\r\n}\r\n\r\nexport default CharacterMoves;\r\n","import React, {useState} from 'react';\r\nimport {\r\n  Button,\r\n  MenuItem,\r\n  Select,\r\n  TextField\r\n} from '@material-ui/core';\r\n\r\nfunction DiceRoller() {\r\n\r\n  const [dice, setDice] = useState();\r\n  const [diceNum, setDiceNum] = useState();\r\n  const [rollResult, setRollResult] = useState(0);\r\n\r\n  function singleRoll(sides) {\r\n    const roll = Math.floor(Math.random() * sides) + 1;\r\n    return roll;\r\n  }\r\n\r\n  function rollDice(sides, diceNum) {\r\n    sides = parseInt(sides,10);\r\n    diceNum = parseInt(diceNum,10);\r\n    let total = 0;\r\n    for (let i = 0; i < diceNum; i++) {\r\n      total = total + singleRoll(sides);\r\n    }\r\n    return setRollResult(total);\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <Select tabIndex={-1} defaultValue=\"null\" onChange={event => {\r\n        setDice(event.target.value)\r\n      }}>\r\n      <MenuItem disabled=\"disabled\" value=\"null\" hidden=\"hidden\"/>\r\n      <MenuItem value=\"6\">d6</MenuItem>\r\n      <MenuItem value=\"8\">d8</MenuItem>\r\n      <MenuItem value=\"10\">d10</MenuItem>\r\n    </Select>\r\n    <br></br>\r\n    <Select tabIndex={-1} defaultValue=\"null\" onChange={event => {\r\n        setDiceNum(event.target.value)\r\n      }}>\r\n      <MenuItem disabled=\"disabled\" value=\"null\" hidden=\"hidden\"/>\r\n      <MenuItem value=\"1\">1</MenuItem>\r\n      <MenuItem value=\"2\">2</MenuItem>\r\n      <MenuItem value=\"3\">3</MenuItem>\r\n    </Select>\r\n    <Button onClick={()=>rollDice(dice,diceNum)}>Roll</Button>\r\n    <TextField value={rollResult} />\r\n  </>);\r\n}\r\n\r\nexport default DiceRoller;\r\n","import React, {useState, useEffect, useCallback, useContext, useMemo} from 'react';\r\nimport {useParams} from 'react-router';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport PropTypes from 'prop-types';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {AppBar, Box, Tab, Tabs} from '@material-ui/core';\r\nimport CharacterSheetHeader from 'components/character/CharacterSheetHeader'\r\nimport CharacterBasicDetails from 'components/character/CharacterBasicDetails'\r\nimport CharacterType from 'components/character/CharacterType'\r\nimport CharacterBasicStats from 'components/character/CharacterBasicStats'\r\nimport CharacterAbilities from 'components/character/CharacterAbilities'\r\nimport CharacterBonds from 'components/character/CharacterBonds'\r\nimport CharacterGear from 'components/character/CharacterGear'\r\nimport CharacterClassFeatures from 'components/character/CharacterClassFeatures'\r\nimport CharacterMoves from 'components/character/CharacterMoves'\r\nimport DiceRoller from 'components/other/DiceRoller'\r\n\r\n// Tab functions\r\nfunction TabPanel(props) {\r\n  const {\r\n    children,\r\n    value,\r\n    index,\r\n    ...other\r\n  } = props;\r\n\r\n  return (<div role=\"tabpanel\" hidden={value !== index} id={`simple-tabpanel-${index}`} aria-labelledby={`simple-tab-${index}`} {...other}>\r\n    {\r\n      value === index && (<Box p={3}>\r\n        {children}\r\n      </Box>)\r\n    }\r\n  </div>);\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {id: `simple-tab-${index}`, 'aria-controls': `simple-tabpanel-${index}`};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper\r\n  }\r\n}));\r\n\r\n// Debounce function\r\nconst debounce = (callback, delay) => {\r\n  let timer;\r\n  return(...args) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => callback(...args), delay);\r\n  }\r\n}\r\n\r\nfunction CharacterSheet() {\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [character, setCharacter] = useState({});\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const {campaignURL, characterURL} = useParams();\r\n  const {currentUser} = useContext(AuthState);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  // Subscribe to Character Data\r\n  useEffect(() => {\r\n    if (campaignURL && characterURL) {\r\n      const unsubscribe = FirebaseService.streamCharacter(campaignURL, characterURL, {\r\n        next: documentSnapshot => {\r\n          setCharacter(documentSnapshot.data());\r\n        },\r\n        error: (error) => {\r\n          alert(\"Failed to load character data correctly, see console error\");\r\n          console.error(\"Error loading document:\", error);\r\n        }\r\n      });\r\n      return unsubscribe;\r\n    }\r\n  }, [campaignURL, characterURL, setCharacter]);\r\n\r\n  // Debounced Save\r\n  const debouncedSave = useCallback(debounce(character => FirebaseService.saveCharacter(campaignURL, characterURL, character).then(() => {\r\n    setIsSaving(false);\r\n    console.info('Saved Character:', character);\r\n  }).catch((error) => {\r\n    alert(\"Failed to save character data correctly, see console error\");\r\n    console.error(\"Error saving document:\", error);\r\n    //If saving fails then it will not retry until the error is rectified\r\n  }), process.env.DEBOUNCE_SAVE_DELAY_MS), []);\r\n\r\n  // Save changes to character\r\n  useEffect(() => {\r\n    if (character && Object.keys(character).length >= 1 && currentUser.email === character.owner) {\r\n      setIsSaving(true);\r\n      console.info(\"CharacterState:\", character);\r\n      debouncedSave(character);\r\n    }\r\n  }, [character]); //Only trigger effect on change of character\r\n\r\n  useEffect(() => {\r\n    console.info(\"isSaving:\", isSaving)\r\n  }, [isSaving]); //Only trigger effect on change of saving state\r\n\r\n  const ctx = useMemo(() => ({character, setCharacter}), [character]); //Memo-ised state for performance\r\n\r\n  return (<CharacterState.Provider value={ctx}>\r\n    <CharacterSheetHeader/>\r\n    <br/>\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n          <Tab label=\"Character\" {...a11yProps(0)}/>\r\n          <Tab label=\"Gear\" {...a11yProps(1)}/>\r\n          <Tab label=\"Moves\" {...a11yProps(2)}/>\r\n          <Tab label=\"Dice Roller\" {...a11yProps(3)}/>\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <CharacterBasicDetails/>\r\n        <br/>\r\n        <CharacterType/>\r\n        <br/>\r\n        <CharacterBasicStats/>\r\n        <br/>\r\n        <CharacterAbilities/>\r\n        <br/>\r\n        <CharacterBonds/>\r\n        <br/>\r\n        <CharacterClassFeatures/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <CharacterGear/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <CharacterMoves/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <DiceRoller/>\r\n      </TabPanel>\r\n    </div>\r\n  </CharacterState.Provider>);\r\n}\r\n\r\nexport default CharacterSheet;\r\n","import {createContext} from 'react';\r\n\r\nconst CampaignState = createContext();\r\n\r\nexport default CampaignState;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useParams} from 'react-router';\r\nimport {Breadcrumbs} from '@material-ui/core';\r\n\r\nfunction CampaignHeader() {\r\n\r\n  // retrieve URL parameters for usage\r\n  const {campaignURL} = useParams();\r\n\r\n  return (\r\n  <div>\r\n    <Breadcrumbs aria-label=\"breadcrumb\">\r\n      <Link to=\"/dw-react\">Home</Link>\r\n      <p>{campaignURL}</p>\r\n    </Breadcrumbs>\r\n    <h1>Campaign: {campaignURL}</h1>\r\n  </div>);\r\n}\r\n\r\nexport default CampaignHeader;\r\n","import React, {useContext, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useParams} from 'react-router';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport CampaignState from 'components/contexts/CampaignState';\r\nimport {Add, Delete} from '@material-ui/icons';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n});\r\n\r\nfunction CampaignDetails() {\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const {campaign} = useContext(CampaignState);\r\n  const [charaName, setCharaName] = useState(\"\");\r\n  const {currentUser} = useContext(AuthState);\r\n  const {campaignURL} = useParams();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setOpen(false);\r\n    saveCharacter();\r\n  }\r\n\r\n  // Create New Character\r\n  const saveCharacter = () => {\r\n    if (campaignURL && charaName) { //don't save unless details present\r\n      FirebaseService.createCharacter(campaignURL, charaName, currentUser.email).then(() => {\r\n        console.info('Created Character:', charaName);\r\n      }).catch((error) => {\r\n        alert(\"Failed to create character, see console error\");\r\n        console.error(\"Error creating document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot save blank character');\r\n    }\r\n  }\r\n\r\n  // Delete Character\r\n  const deleteCharacter = (campaign, character) => {\r\n    if (campaign && character) { //don't save unless details present\r\n      FirebaseService.deleteCharacter(campaign, character).then(() => {\r\n        console.info('Deleted Character:', character);\r\n      }).catch((error) => {\r\n        alert(\"Failed to delete character, see console error\");\r\n        console.error(\"Error deleting document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot delete blank character');\r\n    }\r\n  }\r\n\r\n  return (<> < TableContainer component = {\r\n    Paper\r\n  } > <Table className={classes.table} aria-label=\"simple table\">\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell>Character</TableCell>\r\n        <TableCell>Owner</TableCell>\r\n        <TableCell>HP</TableCell>\r\n        <TableCell>XP</TableCell>\r\n        <TableCell>\r\n          <IconButton aria-label=\"add\" onClick={handleClickOpen}>\r\n            <Add />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableHead>\r\n    <TableBody>\r\n      {\r\n        campaign.campaign && campaign.campaign.map((campaign, index) => {\r\n          return (<TableRow key={index}>\r\n            <TableCell>\r\n              <Link to={\"/dw-react/\" + campaignURL + \"/\" + campaign.character}>{campaign.character}</Link>\r\n            </TableCell>\r\n            <TableCell>{campaign.characterData.owner}</TableCell>\r\n            <TableCell>{campaign.characterData.hp}</TableCell>\r\n            <TableCell>{campaign.characterData.xp}</TableCell>\r\n            <TableCell>\r\n              <IconButton aria-label=\"delete\" onClick={() => deleteCharacter(campaignURL, campaign.character)}>\r\n                <Delete />\r\n              </IconButton>\r\n            </TableCell>\r\n          </TableRow>)\r\n        })\r\n      }\r\n    </TableBody>\r\n  </Table> < /TableContainer>\r\n<Dialog open={open} onClose={handleCancel} aria-labelledby=\"form-dialog-title\">\r\n  <DialogTitle id=\"form-dialog-title\">Create new character</DialogTitle > <DialogContent>\r\n    <DialogContentText>\r\n      To create a character, please enter the new character name here. You will not be able to change this once saved.\r\n    </DialogContentText>\r\n    <TextField autoFocus={true} margin=\"dense\" id=\"name\" label=\"Short Character Name\" fullWidth={true} onChange={event => setCharaName(event.target.value)}/>\r\n  </DialogContent>\r\n  <DialogActions>\r\n    <Button onClick={handleCancel} color=\"primary\">\r\n      Cancel\r\n    </Button>\r\n    <Button onClick={handleSave} color=\"primary\">\r\n      Create Character\r\n    </Button>\r\n  </DialogActions> < /Dialog>\r\n</ >);\r\n}\r\n\r\nexport default CampaignDetails;\r\n","import React, {useState, useEffect, useMemo} from 'react';\r\nimport {useParams} from 'react-router';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport CampaignState from 'components/contexts/CampaignState';\r\nimport CampaignHeader from 'components/campaign/CampaignHeader';\r\nimport CampaignDetails from 'components/campaign/CampaignDetails';\r\n\r\nfunction CampaignSheet() {\r\n\r\n  // Definitions for state\r\n  const [campaign, setCampaign] = useState({});\r\n\r\n  // retrieve URL parameters for usage\r\n  const {campaignURL} = useParams();\r\n\r\n  // Use an effect hook to subscribe to the campaign stream and\r\n  // automatically unsubscribe when the component unmounts.\r\n  useEffect(() => {\r\n    if (campaignURL) {\r\n      const unsubscribe = FirebaseService.streamCharacters(campaignURL, {\r\n        next: querySnapshot => {\r\n          //const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => { return(docSnapshot.data())});\r\n          const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => {\r\n            return ({character: docSnapshot.id, characterData: docSnapshot.data()})\r\n          });\r\n          setCampaign(campaign => ({campaign: updatedCharacterList}));\r\n        },\r\n        error: (error) => {\r\n          alert(\"Failed to load campaign data correctly, see console error\");\r\n          console.error(\"Error loading document:\", error);\r\n        }\r\n      });\r\n      return unsubscribe;\r\n    }\r\n  }, [campaignURL, setCampaign]);\r\n\r\n  useEffect(() => {\r\n    console.info(\"Campaign State:\", campaign);\r\n  }, [campaign]); //Only log to console if state actually changes\r\n\r\n  const ctx = useMemo(() => ({campaign, setCampaign}), [campaign]); //Memo-ised state for performance\r\n\r\n  return (<CampaignState.Provider value={ctx}>\r\n    <CampaignHeader/>\r\n    <br/>\r\n    <CampaignDetails/>\r\n  </CampaignState.Provider>);\r\n}\r\n\r\nexport default CampaignSheet;\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport {Container, Typography} from '@material-ui/core';\r\nimport ErrorPage from 'components/ErrorPage'\r\nimport Homepage from 'components/homepage/Homepage';\r\nimport AppHeader from 'components/AppHeader';\r\nimport CharacterSheet from 'components/character/CharacterSheet';\r\nimport Campaign from 'components/campaign/Campaign';\r\nimport \"@fontsource/roboto\"\r\n\r\nfunction App() {\r\n\r\n  return (<Typography component={'span'}>\r\n    <Container>\r\n      <Router>\r\n        <AppHeader/>\r\n        <Switch>\r\n          <Route exact={true} path=\"/dw-react/:campaignURL/:characterURL\" component={CharacterSheet}/>\r\n          <Route exact={true} path=\"/dw-react/:campaignURL\" component={Campaign}/>\r\n          <Route exact={true} path=\"/dw-react\" component={Homepage}/>\r\n          <Route component={ErrorPage}/>\r\n        </Switch>\r\n      </Router>\r\n    </Container>\r\n  </Typography>)\r\n}\r\n\r\nexport default App;\r\n","import React, {useState, useEffect, useMemo} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from 'components/App';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport {Button} from '@material-ui/core';\r\n\r\nfunction Index() {\r\n\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  const ctx = useMemo(() => ({currentUser}), [currentUser]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = FirebaseService.auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n    });\r\n    return unsubscribe;\r\n  }, [])\r\n\r\n  return (<AuthState.Provider value={ctx}>\r\n    {\r\n      currentUser\r\n        ? <App/>\r\n        : <Button variant=\"contained\" color=\"primary\" onClick={FirebaseService.SignInWithGoogle}>SIGN IN WITH GOOGLE</Button>\r\n    }\r\n  </AuthState.Provider>);\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<Index/>, rootElement);\r\n"],"sourceRoot":""}