(this["webpackJsonpdw-react"]=this["webpackJsonpdw-react"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"a":{"Barbarian":{"damage":"d10","baseHp":8,"baseLoad":8,"alignmentAttributes":{"Chaotic":"You eschew a convention of the civilized world.","Neutral":"Teach someone the ways of your people."},"raceAttributes":{"Dwarf":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Elf":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Goblin":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Halfling":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Human":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP"},"startingMoves":["Undefined"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Bard":{"damage":"d6","baseHp":6,"baseLoad":9,"alignmentAttributes":{"Good":"Perform your art to aid someone else.","Neutral":"Avoid a conflict or defuse a tense situation.","Chaotic":"Spur others to significant and unplanned decisive action."},"raceAttributes":{"Dwarf":"Undefined","Elf":"When you enter an important location (your call) you can ask the GM for one fact from the history of that location.","Goblin":"Undefined","Halfling":"Undefined","Human":"When you first enter a civilized settlement someone who respects the custom of hospitality to minstrels will take you in as their guest."},"startingMoves":["Arcane Art","Bardic Lore","Charming and Open","A Port in the Storm"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Cleric":{"damage":"d6","baseHp":6,"baseLoad":10,"alignmentAttributes":{"Good":"Endanger yourself to heal another.","Lawful":"Endanger yourself following the precepts of your church or god.","Evil":"Harm another to prove the superiority of your church or god."},"raceAttributes":{"Dwarf":"You are one with stone. When you commune you are also granted a special version of Words of the Unspeaking as a rote which only works on stone.","Elf":"Undefined","Goblin":"Undefined","Halfling":"Undefined","Human":"Your faith is diverse. Choose one wizard spell. You can cast and be granted that spell as if it was a cleric spell."},"startingMoves":["Deity","Divine Guidance","Turn Undead","Commune","Cast a Spell"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Druid":{"damage":"d6","baseHp":6,"baseLoad":6,"alignmentAttributes":{"Chaotic":"Destroy a symbol of civilization.","Good":"Help something or someone grow.","Neutral":"Eliminate an unnatural menace."},"raceAttributes":{"Dwarf":"When you share a drink with someone, you may parley with them using CON instead of CHA.","Elf":"The sap of the elder trees flows within you. In addition to any other attunements, the Great Forest is always considered your land.","Goblin":"Undefined","Halfling":"You sing the healing songs of spring and brook. When you make camp, you and your allies heal +1d6.","Human":"As your people learned to bind animals to field and farm, so too are you bound to them. You may always take the shape of any domesticated animal, in addition to your normal options."},"startingMoves":["Born of the Soil","By Nature Sustained","Spirit Tongue","Shapeshifter"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Fighter":{"damage":"d10","baseHp":10,"baseLoad":12,"alignmentAttributes":{"Good":"Defend those weaker than you.","Neutral":"Defeat a worthy opponent.","Evil":"Kill a defenseless or surrendered enemy."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Choose one weapon\u2014you can always treat weapons of that type as if they had the precise tag.","Goblin":"Undefined","Halfling":"When you defy danger and use your small size to your advantage, take +1.","Human":"Once per battle you may reroll a single damage roll (yours or someone else\'s)."},"startingMoves":["Bend Bars, Lift Gates","Armored","Signature Weapon"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Paladin":{"damage":"d10","baseHp":10,"baseLoad":12,"alignmentAttributes":{"Lawful":"Deny mercy to a criminal or unbeliever.","Good":"Endanger yourself to protect someone weaker than you."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Undefined","Goblin":"Undefined","Halfling":"Undefined","Human":"When you pray for guidance, even for a moment, and ask, \'What here is evil?\'\' the GM will tell you, honestly."},"startingMoves":["Lay on Hands (Cha)","Armored","I Am the Law","Quest"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Ranger":{"damage":"d8","baseHp":8,"baseLoad":11,"alignmentAttributes":{"Chaotic":"Free someone from literal or figurative bonds.","Good":"Endanger yourself to combat an unnatural threat.","Neutral":"Help an animal or spirit of the wild."},"raceAttributes":{"Dwarf":"Undefined","Elf":"When you undertake a perilous journey through wilderness whatever job you take you succeed as if you rolled a 10+.","Goblin":"Undefined","Halfling":"Undefined","Human":"When you make camp in a dungeon or city, you don\'t need to consume a ration."},"startingMoves":["Animal Companion","Command","Hunt and Track (Wis)","Called Shot"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Thief":{"damage":"d8","baseHp":6,"baseLoad":9,"alignmentAttributes":{"Chaotic":"Leap into danger without a plan.","Neutral":"Avoid detection or infiltrate a location.","Evil":"Shift danger or blame from yourself to someone else."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Undefined","Goblin":"Undefined","Halfling":"When you attack with a ranged weapon, deal +2 damage.","Human":"You are a professional. When you spout lore or discern realities about criminal activities, take +1."},"startingMoves":["Trap Expert","Tricks of the Trade","Backstab","Flexible Morals","Poisoner"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]},"Wizard":{"damage":"d4","baseHp":4,"baseLoad":7,"alignmentAttributes":{"Good":"Use magic to directly aid another.","Neutral":"Discover something about a magical mystery.","Evil":"Use magic to cause terror and fear."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Magic is as natural as breath to you. Detect Magic is a cantrip for you.","Goblin":"Undefined","Halfling":"Undefined","Human":"Choose one cleric spell. You can cast it as if it was a wizard spell."},"startingMoves":["Spellbook","Prepare Spells","Cast a Spell (Int)","Spell Defense","Ritual"],"advancedMoves2-5":[""],"advancedMoves6-10":[""]}}}')},33:function(e){e.exports=JSON.parse('{"a":["Dwarf","Elf","Goblin","Halfling","Human"]}')},34:function(e){e.exports=JSON.parse('{"a":["Barbarian","Bard","Cleric","Druid","Fighter","Paladin","Ranger","Thief","Wizard"]}')},35:function(e){e.exports=JSON.parse('{"a":{"Barbarian":["Chaotic","Neutral"],"Bard":["Good","Neutral","Chaotic"],"Cleric":["Good","Lawful","Evil"],"Druid":["Chaotic","Good","Neutral"],"Fighter":["Good","Neutral","Evil"],"Paladin":["Lawful","Good"],"Ranger":["Chaotic","Good","Neutral"],"Thief":["Chaotic","Neutral","Evil"],"Wizard":["Good","Neutral","Evil"]}}')},36:function(e){e.exports=JSON.parse('{"a":{"STR":["Unafflicted","Weak"],"DEX":["Unafflicted","Shaky"],"CON":["Unafflicted","Sick"],"INT":["Unafflicted","Stunned"],"WIS":["Unafflicted","Confused"],"CHA":["Unafflicted","Scarred"]}}')},44:function(e,t,n){},45:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthContext",(function(){return re}));var a=n(29),r=n(30),c=n(39),i=n(38),o=n(2),s=n.n(o),l=n(31),d=n.n(l),u=(n(44),n(45),n(16)),j=n(6),b=n(1);var h=function(){return Object(b.jsx)("h1",{children:"Oops! Page not found!"})};var O=function(){return Object(b.jsx)("div",{})};var f=function(e){return Object(b.jsx)("img",{className:"profPicture",id:"userPicture",src:e.currentUser.photoURL,alt:e.currentUser.photoURL})};var x=function(e){return Object(b.jsxs)("div",{className:"profDetails",children:[Object(b.jsx)("div",{children:"Google Account"}),Object(b.jsx)("div",{id:"userName",children:e.currentUser.displayName}),Object(b.jsx)("div",{id:"userEmail",children:e.currentUser.email})]})};var m=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{currentUser:e.currentUser}),Object(b.jsx)(x,{currentUser:e.currentUser})]})};var p=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Dungeon World Character Sheet"}),Object(b.jsx)("p",{children:Object(b.jsx)("i",{children:"v0.10.0 by Godmar02"})})]})},g=n(5),v=s.a.createContext([{},function(){}]),y=n(20);n(59),n(48);y.a.initializeApp({apiKey:"AIzaSyAIKYE0kZAcB5AzAmuiNB37BFjoiO6AY6g",authDomain:"dungeon-world-45d46.firebaseapp.com",projectId:"dungeon-world-45d46",databaseURL:"https://dungeon-world-45d46-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"dungeon-world-45d46.appspot.com",messagingSenderId:"226498870916",appId:"1:226498870916:web:7cbaa58a3a178f1afeccd1",measurementId:"G-YTPKF0BTK9"});var w=y.a.auth(),C=y.a.firestore(),U=new y.a.auth.GoogleAuthProvider;function A(){w.signInWithPopup(U)}U.setCustomParameters({prompt:"select_account"});y.a;var k=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,1)[0],n=Object(j.f)(),a=n.campaignURL,r=n.characterURL;return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.b,{to:"/dw-react",children:"Home"})," >",Object(b.jsxs)(u.b,{to:"/dw-react/"+a,children:[" ",a]})," >",Object(b.jsxs)("p",{children:[" ",r]}),Object(b.jsx)("h1",{children:r}),Object(b.jsx)("p",{children:t.charaFullName})]})},S=n(3);var N=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(b.jsx)("table",{style:{width:"100%"},id:"basicInfoTable",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{style:{width:"25%"},children:Object(b.jsx)("label",{htmlFor:"backstory",children:"BACKSTORY"})}),Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{placeholder:"Describe your character's backstory and anything else about your characters identity here",value:n.backstory,name:"backstory",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{backstory:e.target.value})}))}})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{style:{width:"25%"},children:Object(b.jsx)("label",{htmlFor:"look",children:"LOOK"})}),Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{placeholder:"Describe your character's appearance here",name:"look",value:n.look,onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{look:e.target.value})}))}})})]})]})})},F=n(33),E=n(34),G=n(35),L=n(17);var H=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1],r=n.dwClass,c=n.alignment,i=n.race;return Object(b.jsx)("table",{style:{width:"100%"},id:"additionalInfoTable",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("label",{style:{width:"25%"},htmlFor:"dwClass",children:"CLASS"})}),Object(b.jsx)("td",{style:{width:"25%"},children:Object(b.jsxs)("select",{tabIndex:-1,value:n.dwClass||"null",name:"dwClass",onChange:function(e){a((function(t){return Object(S.a)(Object(S.a)({},t),{},{dwClass:e.target.value})})),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{alignment:"null"})}))},children:[Object(b.jsx)("option",{disabled:!0,value:"null",hidden:!0}),E.a.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})}),Object(b.jsx)("td",{style:{width:"50%"}})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:"race",children:"RACE"})}),Object(b.jsx)("td",{children:Object(b.jsxs)("select",{tabIndex:-1,value:n.race||"null",name:"race",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{race:e.target.value})}))},children:[Object(b.jsx)("option",{disabled:!0,value:"null",hidden:!0}),F.a.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})}),Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{className:"grey",name:"raceAttributes",readOnly:"readOnly",value:n.dwClass&&n.race?L.a[r].raceAttributes[i]:""})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:"alignment",children:"ALIGNMENT"})}),Object(b.jsx)("td",{children:Object(b.jsxs)("select",{tabIndex:-1,value:n.alignment||"null",name:"alignment",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{alignment:e.target.value})}))},children:[Object(b.jsx)("option",{disabled:!0,value:"null",hidden:!0}),n.dwClass&&G.a[r].map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})}),Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{className:"grey",name:"alignmentAttribute",readOnly:"readOnly",value:n.dwClass&&n.alignment?L.a[r].alignmentAttributes[c]:""})})]})]})})};var M=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,1)[0],n=t.dwClass;return Object(b.jsxs)("table",{id:"damage",children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:"damage",children:"DAMAGE"})})})}),Object(b.jsx)("tbody",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",className:"shortfield grey",name:"damage",readOnly:"readOnly",value:t.dwClass?L.a[n].damage:""})})})})]})};var R=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("table",{id:"armour",children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:"armour",children:"ARMOUR"})})})}),Object(b.jsx)("tbody",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",min:0,className:"shortfield",name:"armour",value:n.armour||"",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{armour:e.target.value})}))}})})})})]})};var D=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("table",{id:"funds",children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:"funds",children:"FUNDS"})})})}),Object(b.jsx)("tbody",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",className:"shortfield",name:"funds",min:0,id:"funds",value:n.funds||"",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{funds:e.target.value})}))}})})})})]})};var I=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1],r=n.dwClass;return Object(b.jsxs)("table",{id:"hp",children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{colSpan:2,children:Object(b.jsx)("label",{htmlFor:"hp",children:"HP"})})})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",min:0,className:"shortfield",name:"hp",value:n.hp||"",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{hp:e.target.value})}))}})}),Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",className:"shortfield grey",name:"maxHp",readOnly:"readOnly",value:n.dwClass&&n.abilities?"/ "+(L.a[r].baseHp+parseInt(n.abilities.find((function(e){return"CON"===e.category})).score,10)):""})})]})})]})};var T=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{colSpan:2,children:Object(b.jsx)("label",{htmlFor:"level",children:"LEVEL"})})})}),Object(b.jsx)("tbody",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",min:1,className:"shortfield",name:"level",value:n.level||"",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{level:e.target.value})}))}})})})})]})};var P=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{colSpan:2,children:Object(b.jsx)("label",{htmlFor:"xp",children:"XP"})})})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",min:0,className:"shortfield",name:"xp",value:n.xp||"",onChange:function(e){return a((function(t){return Object(S.a)(Object(S.a)({},t),{},{xp:e.target.value})}))}})}),Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",className:"shortfield grey",name:"maxXp",readOnly:"readOnly",value:n.level?"/ "+(parseInt(n.level,10)+7):""})})]})})]})};var W=function(){return Object(b.jsxs)("div",{className:"myForm",children:[Object(b.jsx)("div",{children:Object(b.jsx)(T,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(P,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(M,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(R,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(D,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(I,{})})]})},B=n(10),Y=n(36);var z=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1],r=function(e){return function(t){var r=Object(B.a)(n.abilities);r[e]=Object(S.a)(Object(S.a)({},n.abilities[e]),{},{score:t.target.value}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{abilities:r})}))}},c=function(e){return function(t){var r=Object(B.a)(n.abilities);r[e]=Object(S.a)(Object(S.a)({},n.abilities[e]),{},{affliction:t.target.value}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{abilities:r})}))}},i=function(e,t){if(e&&t){var n;e=parseInt(e,10),[1,2,3].indexOf(e)>-1?n=-3:[4,5].indexOf(e)>-1?n=-2:[6,7,8].indexOf(e)>-1?n=-1:[9,10,11,12].indexOf(e)>-1?n=0:[13,14,15].indexOf(e)>-1?n=1:[16,17].indexOf(e)>-1?n=2:18===e&&(n=3);var a=n-("Unafflicted"===t?0:1);return a>0?"[+"+a+"]":"["+a+"]"}return""};return Object(b.jsxs)("table",{style:{width:"100%"},id:"abilitiesTable",children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){return Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:e.category,value:e.category,name:e.category,children:e.category})},t)}))})}),Object(b.jsxs)("tbody",{children:[Object(b.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){return Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",min:1,max:18,className:"ability",name:e.category+"Score",value:e.score,onChange:r(t)})},t)}))}),Object(b.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){return Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",className:"grey tallfield",name:e.category+"Modifier",value:i(e.score,e.affliction),readOnly:!0})},t)}))}),Object(b.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){var n=e.category;return Object(b.jsx)("td",{children:Object(b.jsxs)("select",{tabIndex:-1,className:"abilityAffliction",value:e.affliction||"null",name:e.category+"Affliction",onChange:c(t),children:[Object(b.jsx)("option",{disabled:!0,value:"null",hidden:!0}),Y.a[n].map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})},t)}))})]})]})};var X=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1],r=function(e){return function(t){var r=Object(B.a)(n.bonds);r[e]=Object(S.a)(Object(S.a)({},n.bonds[e]),{},{bond:t.target.value}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{bonds:r})}))}};return Object(b.jsxs)("table",{style:{width:"100%"},id:"bondsTable",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{style:{width:"100%"},children:Object(b.jsx)("label",{children:"BONDS"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"addRow",onClick:function(){return function(){var e=[].concat(Object(B.a)(n.bonds),[{bond:""}]);a((function(t){return Object(S.a)(Object(S.a)({},t),{},{bonds:e})}))}()},children:"+"})})]})}),Object(b.jsx)("tbody",{children:n.bonds&&n.bonds.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{placeholder:"Add 2-3 bonds here",value:e.bond,name:"bond"+t,onChange:r(t)})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"deleteRow",onClick:function(){return function(e){var t=Object(B.a)(n.bonds);1!==n.bonds.length?(t.splice(e,1),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{bonds:t})}))):alert("Cannot delete final row")}(t)}})})]},t)}))}),Object(b.jsx)("tfoot",{})]})};var J=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1],r=n.dwClass,c=function(e){return function(t){var r=Object(B.a)(n.items);r[e]=Object(S.a)(Object(S.a)({},n.items[e]),{},{item:t.target.value}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{items:r})}))}},i=function(e){return function(t){var r=Object(B.a)(n.items);r[e]=Object(S.a)(Object(S.a)({},n.items[e]),{},{weight:t.target.value}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{items:r})}))}};return Object(b.jsxs)("table",{style:{width:"100%"},id:"itemsTable",children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("tr",{children:Object(b.jsx)("th",{colSpan:4,children:Object(b.jsx)("label",{children:"GEAR"})})}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{style:{width:"100%"},children:Object(b.jsx)("label",{children:"ITEM"})}),Object(b.jsx)("th",{colSpan:2,children:Object(b.jsx)("label",{children:"WEIGHT"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"addRow",onClick:function(){return function(){var e=[].concat(Object(B.a)(n.items),[{item:"",weight:""}]);a((function(t){return Object(S.a)(Object(S.a)({},t),{},{items:e})}))}()},children:"+"})})]})]}),Object(b.jsx)("tbody",{children:n.items&&n.items.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{placeholder:"Add any items and descriptions here",value:e.item,name:"item"+t,onChange:c(t)})}),Object(b.jsx)("td",{colSpan:2,children:Object(b.jsx)("input",{type:"number",min:0,value:e.weight,name:"itemWeight"+t,onChange:i(t)})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"deleteRow",onClick:function(){return function(e){var t=Object(B.a)(n.items);1!==n.items.length?(t.splice(e,1),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{items:t})}))):alert("Cannot delete final row")}(t)}})})]},t)}))}),Object(b.jsx)("tfoot",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("label",{htmlFor:"load",children:"LOAD"})}),Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"number",className:"shortfield grey",name:"totalLoad",readOnly:!0,value:n.items?n.items.reduce((function(e,t){return e+parseInt(t.weight||0,10)}),0):""})}),Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",className:"shortfield grey",name:"maxLoad",readOnly:"readOnly",value:function(){if(n.dwClass&&n.abilities.find((function(e){return"STR"===e.category})).score&&n.abilities.find((function(e){return"STR"===e.category})).affliction){var e,t=n.abilities.find((function(e){return"STR"===e.category})),a=t.affliction,c=parseInt(t.score,10);[1,2,3].indexOf(c)>-1?e=-3:[4,5].indexOf(c)>-1?e=-2:[6,7,8].indexOf(c)>-1?e=-1:[9,10,11,12].indexOf(c)>-1?e=0:[13,14,15].indexOf(c)>-1?e=1:[16,17].indexOf(c)>-1?e=2:18===c&&(e=3);var i=e-("Unafflicted"===a?0:1);return"/ "+(L.a[r].baseLoad+i)}return""}()})}),Object(b.jsx)("td",{})]})})]})};var K=function(){var e=Object(o.useContext)(v),t=Object(g.a)(e,2),n=t[0],a=t[1],r=function(e){return function(t){var r=Object(B.a)(n.classFeatures);r[e]=Object(S.a)(Object(S.a)({},n.classFeatures[e]),{},{checkbox:t.target.checked}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{classFeatures:r})}))}},c=function(e){return function(t){var r=Object(B.a)(n.classFeatures);r[e]=Object(S.a)(Object(S.a)({},n.classFeatures[e]),{},{feature:t.target.value}),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{classFeatures:r})}))}};return Object(b.jsxs)("table",{style:{width:"100%"},id:"classFeaturesTable",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{colSpan:2,style:{width:"100%"},children:Object(b.jsx)("label",{children:"CLASS FEATURES"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"addRow",onClick:function(){return function(){var e=[].concat(Object(B.a)(n.classFeatures),[{feature:"",checkbox:!1}]);a((function(t){return Object(S.a)(Object(S.a)({},t),{},{classFeatures:e})}))}()},children:"+"})})]})}),Object(b.jsx)("tbody",{children:n.classFeatures&&n.classFeatures.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"checkbox",className:"checkbox",name:"classFeatureCheckbox"+t,checked:!!e.checkbox,onChange:r(t)})}),Object(b.jsx)("td",{children:Object(b.jsx)("textarea",{placeholder:"Add any Class Features here (e.g. Spell Lists, Poison Recipes, Druid Balance, Paladin Quests or anything else!)",value:e.feature,name:"classFeature"+t,onChange:c(t)})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"deleteRow",onClick:function(){return function(e){var t=Object(B.a)(n.classFeatures);1!==n.classFeatures.length?(t.splice(e,1),a((function(e){return Object(S.a)(Object(S.a)({},e),{},{classFeatures:t})}))):alert("Cannot delete final row")}(t)}})})]},t)}))}),Object(b.jsx)("tfoot",{})]})},Q=n(37),q=n.n(Q);var V=function(e){var t=Object(j.f)(),n=t.campaignURL,a=t.characterURL,r=e.character,c=Object(o.useState)(!1),i=Object(g.a)(c,2),s=i[0],l=i[1],d=Object(o.useRef)(q.a.debounce((function(e){(function(e,t,n){return C.collection("campaigns").doc(e).collection("characters").doc(t).set(n)})(n,a,e).then((function(e){l(!1),console.log("Saving Character...")})).catch((function(e){alert("Failed to save character data correctly, see console error"),console.error("Error saving document:",e)}))}),1e4));return Object(o.useEffect)((function(){r&&!s&&(l(!0),console.log("Triggering Character Save..."),console.log("isSaving:",s),console.log("saveCharacter: ",r),d.current(r))})),null};var Z=function(){var e=Object(o.useState)({}),t=Object(g.a)(e,2),n=t[0],a=t[1],r=Object(j.f)();return r.campaignURL,r.characterURL,Object(o.useEffect)((function(){a({abilities:[{category:"STR",score:1,affliction:"Weak"},{category:"DEX",score:1,affliction:"Unafflicted"},{category:"CON",score:1,affliction:"Unafflicted"},{category:"INT",score:1,affliction:"Unafflicted"},{category:"WIS",score:1,affliction:"Unafflicted"},{category:"CHA",score:1,affliction:"Unafflicted"}],alignment:"Good",armour:3,backstory:"sad backstory",bonds:[{bond:"bond0"},{bond:"bond1"}],charaFullName:"Bobesque",classFeatures:[{feature:"classFeature0",checkbox:!0},{feature:"classFeature1",checkbox:!1}],dwClass:"Paladin",funds:10,hp:2,items:[{item:"item0",weight:1},{item:"item1",weight:2}],level:2,look:"scraggly",owner:"markwgodden@gmail.com",race:"Elf",xp:2})}),[a]),console.log("character state:",n),Object(b.jsxs)(v.Provider,{value:[n,a],children:[Object(b.jsx)(k,{}),Object(b.jsx)(V,{character:n}),Object(b.jsx)("br",{}),Object(b.jsx)(N,{}),Object(b.jsx)("br",{}),Object(b.jsx)(H,{}),Object(b.jsx)("br",{}),Object(b.jsx)(W,{}),Object(b.jsx)("br",{}),Object(b.jsx)(z,{}),Object(b.jsx)("br",{}),Object(b.jsx)(X,{}),Object(b.jsx)("br",{}),Object(b.jsx)(J,{}),Object(b.jsx)("br",{}),Object(b.jsx)(K,{}),Object(b.jsx)("br",{})]})},_=s.a.createContext([{},function(){}]);var $=function(){var e=Object(j.f)().campaignURL;return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.b,{to:"/dw-react",children:"Home"})," >",Object(b.jsx)("p",{children:e}),Object(b.jsx)("h1",{children:e})]})};var ee=function(){var e=Object(o.useContext)(_),t=Object(g.a)(e,1)[0],n=Object(j.f)().campaignURL;return Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{children:"CHARACTERS"})})}),Object(b.jsx)("tbody",{children:t.campaign&&t.campaign.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(u.b,{to:"/dw-react/"+n+"/"+e.character,children:e.character})}),Object(b.jsxs)("td",{children:["(",e.characterData.owner,")"]}),Object(b.jsxs)("td",{children:["HP: ",e.characterData.hp]}),Object(b.jsxs)("td",{children:["XP: ",e.characterData.xp]})]},t)}))})]})};var te=function(){var e=Object(o.useState)({}),t=Object(g.a)(e,2),n=t[0],a=t[1],r=Object(j.f)().campaignURL;return Object(o.useEffect)((function(){if(r)return function(e,t){return C.collection("campaigns").doc(e).collection("characters").onSnapshot(t)}(r,{next:function(e){var t=e.docs.map((function(e){return{character:e.id,characterData:e.data()}}));a((function(e){return{campaign:t}}))},error:function(e){alert("Failed to load campaign data correctly, see console error"),console.error("Error loading data:",e)}})}),[r,a]),console.log("campaign state:",n),Object(b.jsxs)(_.Provider,{value:[n,a],children:[Object(b.jsx)($,{}),Object(b.jsx)("br",{}),Object(b.jsx)(ee,{})]})};var ne=function(){var e=Object(o.useState)({}),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){var e;return e={next:function(e){var t=e.docs.map((function(e){return{id:e.id}}));a((function(e){return{campaigns:t}}))},error:function(e){alert("Failed to load data correctly, see console error"),console.error("Error loading data:",e)}},C.collection("campaigns").onSnapshot(e)}),[a]),console.log("campaigns state:",n),Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("h1",{children:"WELCOME!"}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("th",{children:"CAMPAIGNS"})})}),Object(b.jsx)("tbody",{children:n.campaigns&&n.campaigns.map((function(e,t){return Object(b.jsx)("tr",{children:Object(b.jsx)(u.b,{to:"/dw-react/"+e.id,children:e.id})},t)}))})]})]})};var ae=function(e){var t=e.currentUser;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{currentUser:t}),Object(b.jsxs)(u.a,{children:[Object(b.jsx)(p,{}),Object(b.jsx)(O,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/dw-react/:campaignURL/:characterURL",component:Z}),Object(b.jsx)(j.a,{path:"/dw-react/:campaignURL",component:te}),Object(b.jsx)(j.a,{path:"/dw-react",component:ne}),Object(b.jsx)(j.a,{component:h})]})]})]})},re=s.a.createContext(null),ce=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).unsubscribeFromAuth=null,e.state={currentUser:null},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=w.onAuthStateChanged((function(t){e.setState({currentUser:t})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:this.state.currentUser?Object(b.jsxs)("div",{children:[Object(b.jsx)(ae,{currentUser:this.state.currentUser}),Object(b.jsx)("button",{onClick:function(){return w.signOut()},children:"LOG OUT"})]}):Object(b.jsx)("button",{onClick:A,children:"SIGN IN WITH GOOGLE"})})}}]),n}(s.a.Component),ie=document.getElementById("root");d.a.render(Object(b.jsx)(ce,{}),ie)}},[[58,1,2]]]);
//# sourceMappingURL=main.60ff0c4b.chunk.js.map