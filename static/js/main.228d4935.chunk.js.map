{"version":3,"sources":["components/ErrorPage.js","services/firebase.js","components/contexts/CreateCampaignState.js","components/contexts/AuthState.js","components/CreateCampaign.js","components/Homepage.js","components/NavSidebar.js","components/contexts/ProfileState.js","components/profile/ProfilePicture.js","components/profile/ProfileDetails.js","components/profile/UserProfile.js","components/AppHeader.js","components/contexts/CharacterState.js","components/character/CharacterSheetHeader.js","components/character/CharacterDetailsTable.js","components/character/CharacterTypeTable.js","components/character/CharacterDamage.js","components/character/CharacterArmour.js","components/character/CharacterFunds.js","components/character/CharacterHP.js","components/character/CharacterLevel.js","components/character/CharacterXP.js","components/character/CharacterBasicAttributesTable.js","components/character/CharacterAbilitiesTable.js","components/character/CharacterBondsTable.js","components/character/CharacterItemsTable.js","components/character/CharacterClassFeaturesTable.js","components/character/CharacterStandardMoves.js","components/character/CharacterAdvancedMoves.js","components/character/CharacterClassMoves.js","components/character/CharacterSheet.js","components/contexts/CampaignState.js","components/campaign/CampaignSheetHeader.js","components/contexts/CreateCharacterState.js","components/campaign/CreateCharacter.js","components/campaign/CampaignDetails.js","components/campaign/CampaignSheet.js","components/App.js","index.js"],"names":["ErrorPage","firebase","initializeApp","apiKey","process","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","provider","GoogleAuthProvider","SignInWithGoogle","signInWithPopup","setCustomParameters","prompt","CreateCampaignState","React","createContext","AuthState","CreateCampaign","useState","campaignName","setCampaignName","useContext","show","setShow","currentUser","saveCampaign","campaign","owner","email","collection","doc","set","then","console","info","catch","error","alert","style","id","htmlFor","placeholder","name","onChange","event","target","value","onClick","Homepage","campaigns","setCampaigns","useEffect","observer","next","querySnapshot","updatedCampaignList","docs","map","docSnapshot","data","onSnapshot","deleteCampaign","delete","log","Provider","colSpan","index","to","NavSidebar","ProfileState","ProfilePicture","className","src","photoURL","alt","ProfileDetails","displayName","FirebaseService","signOut","UserProfile","AppHeader","CharacterState","CharacterSheetHeader","character","useParams","campaignURL","characterURL","fullName","CharacterDetailsTable","setCharacter","backstory","look","CharacterTypeTable","dwc","dwClass","alig","alignment","race","tabIndex","disabled","hidden","dwClasses","key","races","readOnly","classDetails","raceAttributes","alignments","alignmentAttributes","CharacterDamage","type","damage","CharacterArmour","min","armour","CharacterFunds","funds","CharacterHP","hp","abilities","baseHp","parseInt","find","x","category","score","CharacterLevel","level","CharacterXP","xp","CharacterBasicAttributesTable","CharacterAbilitiesTable","updateAbilityScore","e","newAbilities","updateAbilityAffliction","affliction","abilityModifier","abilityScore","abilityAffliction","baseModifier","indexOf","modifier","max","ab","abilityAfflictions","CharacterBondsTable","updateBond","newBonds","bonds","bond","addBondsRow","length","splice","deleteBondRow","CharacterItemsTable","updateItem","newItems","items","item","updateItemWeight","weight","addItemRow","deleteItemRow","reduce","totalLoad","str","baseLoad","maxLoad","CharacterClassFeaturesTable","updateFeatureCheckbox","newFeatures","classFeatures","checkbox","checked","updateFeature","feature","addFeatureRow","deleteFeatureRow","CharacterStandardMoves","standardMoves","Fragment","dangerouslySetInnerHTML","__html","description","CharacterAdvancedMoves","advancedMoves","CharacterClassMoves","classMoves","startingMoves","CharacterSheet","isSaving","setIsSaving","documentSnapshot","debouncedSave","useCallback","callback","delay","timer","args","clearTimeout","setTimeout","debounce","DEBOUNCE_SAVE_DELAY_MS","Object","keys","CampaignState","CampaignSheetHeader","CreateCharacterState","CreateCharacter","charaName","setCharaName","saveCharacter","CampaignDetails","deleteCharacter","characterData","CampaignSheet","setCampaign","updatedCharacterList","App","exact","path","component","Index","setCurrentUser","onAuthStateChanged","user","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.228d4935.chunk.js","sourcesContent":["import React from 'react';\n\nfunction ErrorPage() {\n  return (\n      <h1>Oops! Page not found!</h1>\n    );\n}\n\nexport default ErrorPage;\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\n// Initialise Firebase and setting up firestore and auth for use later\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\n};\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const db = firebase.firestore();\n\n// Authenticate with Firebase-auth using the Google provider object\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({\n  prompt: 'select_account'\n});\nexport function SignInWithGoogle() {\n  auth.signInWithPopup(provider)\n};\n\n// Firestore operations\n\n// Create new blank campaign\nexport function createCampaign(campaign,owner) {\n  return db.collection(\"campaigns\")\n    .doc(campaign).set({owner: owner})\n};\n\n// Create new blank character\nexport function createCharacter(campaign,charaName,owner) {\n  return db.collection(\"campaigns\")\n    .doc(campaign)\n    .collection(\"characters\")\n    .doc(charaName)\n    .set({\n      abilities: [\n        {category: \"STR\", score: \"\", affliction: \"Unafflicted\"},\n        {category: \"DEX\", score: \"\", affliction: \"Unafflicted\"},\n        {category: \"CON\", score: \"\", affliction: \"Unafflicted\"},\n        {category: \"INT\", score: \"\", affliction: \"Unafflicted\"},\n        {category: \"WIS\", score: \"\", affliction: \"Unafflicted\"},\n        {category: \"CHA\", score: \"\", affliction: \"Unafflicted\"}\n      ],\n      alignment: \"\",\n      armour: \"\",\n      backstory: \"\",\n      bonds: [\n        {bond: \"\"},\n      ],\n      classFeatures: [\n        {feature: \"\", checkbox: false}\n      ],\n      dwClass: \"\",\n      fullName: \"\",\n      funds: \"\",\n      hp: \"\",\n      items: [\n        {item: \"\", weight: \"\"},\n      ],\n      level: \"\",\n      look: \"\",\n      owner: owner,\n      race: \"\",\n      xp: \"\"\n    });\n};\n// Save Character\nexport function saveCharacter(campaign, character, data) {\n  return db.collection(\"campaigns\")\n    .doc(campaign)\n    .collection(\"characters\")\n    .doc(character)\n    .set(data);\n};\n\n// Stream Campaign Data (all Campaigns)\nexport function streamCampaigns(observer) {\n  return db.collection(\"campaigns\")\n    .onSnapshot(observer);\n};\n// Stream Character Data (all Characters)\nexport function streamCharacters(campaign, observer) {\n  return db.collection(\"campaigns\")\n    .doc(campaign)\n    .collection(\"characters\")\n    .onSnapshot(observer);\n};\n// Stream Character Data (Selected Characters)\nexport function streamCharacter(campaign, character, observer) {\n  return db.collection(\"campaigns\")\n    .doc(campaign)\n    .collection(\"characters\")\n    .doc(character)\n    .onSnapshot(observer);\n};\n// Delete Campaign\nexport function deleteCampaign(campaign) {\n  return db.collection(\"campaigns\")\n    .doc(campaign)\n    .delete()\n};\n// Delete Characters\nexport function deleteCharacter(campaign, character) {\n  return db.collection(\"campaigns\")\n    .doc(campaign)\n    .collection(\"characters\")\n    .doc(character)\n    .delete()\n};\n\n// Default Export\nexport default firebase;\n","import React from 'react';\n\nconst CreateCampaignState = React.createContext();\n\nexport default CreateCampaignState;\n","import React from 'react';\n\nconst AuthState = React.createContext(null);\n\nexport default AuthState;\n","import React, {useState,useContext} from 'react';\nimport * as FirebaseService from 'services/firebase';\nimport CreateCampaignState from 'components/contexts/CreateCampaignState';\nimport AuthState from 'components/contexts/AuthState';\n\nfunction CreateCampaign() {\n\n  const [campaignName, setCampaignName] = useState(\"\");\n  const [show,setShow] = useContext(CreateCampaignState);\n  const [currentUser] = useContext(AuthState);\n  const toggleSetShow = () => setShow(!show);\n\n  // Create New Character\n  const saveCampaign = () => {\n    if (campaignName) { //don't save unless details present\n      FirebaseService.createCampaign(campaignName,currentUser.email)\n      .then(() => {\n        console.info('Created Campaign:', campaignName);\n        toggleSetShow();\n      })\n      .catch((error) => {\n        alert(\"Failed to create campaign, see console error\");\n        console.error(\"Error creating document:\", error);\n      });\n    } else {\n      alert('Cannot save blank campaign');\n    }\n  }\n\n  return (\n  <>\n  <table style={{\"width\" : \"100%\"}} id=\"basicInfoTable\">\n    <tbody>\n      <tr>\n        <th style={{\"width\" : \"25%\"}}>\n          <label htmlFor=\"campName\">CAMPAIGN NAME</label>\n        </th>\n        <td>\n          <textarea placeholder=\"Add your new Campaign Name, you wont be able to change this one saved\" name=\"campName\" onChange={event => setCampaignName(event.target.value)}/>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <button onClick={() => saveCampaign()}>Save Campaign</button>\n  </>\n);\n}\n\nexport default CreateCampaign;\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport * as FirebaseService from 'services/firebase';\nimport CreateCampaign from 'components/CreateCampaign';\nimport CreateCampaignState from 'components/contexts/CreateCampaignState';\n\nfunction Homepage() {\n\n  // Definitions for state\n  const [campaigns, setCampaigns] = useState({});\n  const [show, setShow] = useState(false);\n  const toggleSetShow = () => setShow(!show);\n\n  // Use an effect hook to subscribe to the campaign stream and\n  // automatically unsubscribe when the component unmounts.\n  useEffect(() => {\n    const unsubscribe = FirebaseService.streamCampaigns({\n      next: querySnapshot => {\n        const updatedCampaignList = querySnapshot.docs.map((docSnapshot) => {\n          return ({id: docSnapshot.id, owner: docSnapshot.data().owner})\n        });\n        setCampaigns(campaign => ({campaigns: updatedCampaignList}));\n      },\n      error: (error) => {\n        alert(\"Failed to load data correctly, see console error\");\n        console.error(\"Error loading data:\", error);\n      }\n    });\n    return unsubscribe;\n  }, [setCampaigns]);\n\n  const deleteCampaign = (campaignName) => {\n    if (campaignName) { //don't save unless details present\n      FirebaseService.deleteCampaign(campaignName).then(() => {\n        console.info('Deleted Campaign:', campaignName);\n      }).catch((error) => {\n        alert(\"Failed to delete campaign, see console error\");\n        console.error(\"Error deleting document:\", error);\n      });\n    } else {\n      alert('Cannot delete blank campaign');\n    }\n  }\n\n  console.log(\"Campaigns State:\", campaigns)\n\n  return (<CreateCampaignState.Provider value={[show, setShow]}>\n    <br/>\n    <h1>WELCOME!</h1>\n    <table>\n      <thead>\n        <tr>\n          <th colSpan=\"2\">CAMPAIGNS</th>\n          <th>\n            <button onClick={() => toggleSetShow()}>+</button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {\n          campaigns.campaigns && campaigns.campaigns.map((campaign, index) => {\n            return (<tr key={index}>\n              <td>\n                <Link to={\"/dw-react/\" + campaign.id}>{campaign.id}</Link>\n              </td>\n              <td>\n                ({campaign.owner})\n              </td>\n              <td>\n                <button onClick={() => deleteCampaign(campaign.id)}>Delete</button>\n              </td>\n            </tr>)\n          })\n        }</tbody>\n    </table>\n      {\n        show\n          ? <CreateCampaign/>\n          : null\n      }\n    </CreateCampaignState.Provider>\n);\n}\n\nexport default Homepage;\n","import React from 'react';\n\nfunction NavSidebar() {\n  return (\n    <div>\n    </div>);\n}\n\nexport default NavSidebar\n","import React from 'react';\n\nconst ProfileState = React.createContext();\n\nexport default ProfileState;\n","import React, {useContext} from 'react';\nimport AuthState from 'components/contexts/AuthState';\nimport ProfileState from 'components/contexts/ProfileState';\n\nfunction ProfilePicture() {\n\n  const [currentUser] = useContext(AuthState);\n  const [show,setShow] = useContext(ProfileState);\n  const toggleSetShow = () => setShow(!show);\n\n  return (<img\n    className=\"profPicture\"\n    id=\"userPicture\"\n    src={currentUser.photoURL}\n    alt=\"Google Profile\"\n    onClick={() => toggleSetShow()}\n    />);\n}\n\nexport default ProfilePicture;\n","import React, {useContext} from 'react';\nimport AuthState from 'components/contexts/AuthState';\nimport * as FirebaseService from 'services/firebase';\nimport ProfileState from 'components/contexts/ProfileState';\n\nfunction ProfileDetails() {\n\n  const [currentUser] = useContext(AuthState);\n  const [show,setShow] = useContext(ProfileState);\n  const toggleSetShow = () => setShow(!show);\n\n    return (\n      <div className=\"profDetails\">\n        <div>Google Account</div>\n        <div id=\"userName\">{currentUser.displayName}</div>\n        <div id=\"userEmail\">{currentUser.email}</div>\n        <button onClick={() => FirebaseService.auth.signOut()}>LOG OUT</button>\n      </div>\n    );\n}\n\nexport default ProfileDetails;\n","import React, {useContext,useState} from 'react';\nimport ProfilePicture from 'components/profile/ProfilePicture';\nimport ProfileDetails from 'components/profile/ProfileDetails';\nimport ProfileState from 'components/contexts/ProfileState';\n\nfunction UserProfile() {\n\n  const [show, setShow] = useState(false);\n\n  return (\n<ProfileState.Provider value={[show, setShow]}>\n    <div>\n    <ProfilePicture/>\n    {\n      show\n        ? <ProfileDetails/>\n        : null\n    }\n  </div>\n</ProfileState.Provider>);\n}\n\nexport default UserProfile;\n","import React from 'react';\n\nfunction AppHeader() {\n\n  return (<div>\n    <h2>Dungeon World Character Sheet</h2>\n    <p>\n      <i>v0.10.0 by Godmar02</i>\n    </p>\n  </div>\n  );\n}\n\nexport default AppHeader;\n","import React from 'react';\n\nconst CharacterState = React.createContext([{}, () => {}]);\n\nexport default CharacterState;\n","import React, {useContext} from 'react';\nimport {Link} from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterSheetHeader() {\n\n  // Definitions for state\n  const [character] = useContext(CharacterState);\n\n  // retrieve URL parameters for usage\n  const { campaignURL, characterURL } = useParams();\n\n  return (\n    <div>\n      <Link to=\"/dw-react\">Home</Link> >\n      <Link to={\"/dw-react/\" + campaignURL}> {campaignURL}</Link> >\n      <p> {characterURL}</p>\n      <h1>{characterURL}</h1>\n      <p>{character.fullName}</p>\n    </div>);\n}\n\nexport default CharacterSheetHeader;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterDetailsTable() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  return (<table style={{\"width\" : \"100%\"}} id=\"basicInfoTable\">\n    <tbody>\n      <tr>\n        <th style={{\"width\" : \"25%\"}}>\n          <label htmlFor=\"fullName\">FULL NAME</label>\n        </th>\n        <td>\n          <textarea placeholder=\"Add your characters full name here\" value={character.fullName} name=\"fullName\" onChange={event => setCharacter(character => ({...character,fullName: event.target.value}))}/>\n        </td>\n      </tr>\n      <tr>\n        <th style={{\"width\" : \"25%\"}}>\n          <label htmlFor=\"backstory\">BACKSTORY</label>\n        </th>\n        <td>\n          <textarea placeholder=\"Describe your character's backstory and anything else about your characters identity here\" value={character.backstory} name=\"backstory\" onChange={event => setCharacter(character => ({...character,backstory: event.target.value}))}/>\n        </td>\n      </tr>\n      <tr>\n        <th style={{\"width\" : \"25%\"}}>\n          <label htmlFor=\"look\">LOOK</label>\n        </th>\n        <td>\n          <textarea placeholder=\"Describe your character's appearance here\" name=\"look\" value={character.look} onChange={event => setCharacter(character => ({...character,look: event.target.value}))}/>\n        </td>\n      </tr>\n    </tbody>\n  </table>);\n}\n\nexport default CharacterDetailsTable;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {races} from 'data/raceList';\nimport {dwClasses} from 'data/classList';\nimport {alignments} from 'data/classAlignments';\nimport {classDetails} from 'data/classDetails';\n\nfunction CharacterTypeTable() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n  const dwc = character.dwClass;\n  const alig = character.alignment;\n  const race = character.race;\n\n  const raceAttributes = () => {\n    if (character.dwClass && character.race) {\n      return (classDetails.[dwc].raceAttributes.[race]);\n    } else {\n      return ('');\n    }\n  };\n\n  const alignmentAttributes = () => {\n    if (character.dwClass && character.alignment) {\n      return (classDetails.[dwc].alignmentAttributes.[alig]);\n    } else {\n      return ('');\n    }\n  };\n\n  return (\n  <table style={{\"width\" : \"100%\"}} id=\"additionalInfoTable\">\n    <tbody>\n      <tr>\n        <th>\n          <label style={{\"width\" : \"25%\"}} htmlFor=\"dwClass\">CLASS</label>\n        </th>\n        <td style={{\"width\" : \"25%\"}}>\n          <select\n            tabIndex={-1}\n            value={character.dwClass || \"null\"}\n            name=\"dwClass\"\n            onChange={event => {\n              setCharacter(character => ({...character,dwClass: event.target.value}));\n              setCharacter(character => ({...character,alignment: \"null\"}))}}>\n            <option disabled value=\"null\" hidden />\n            {\n              dwClasses.map((data, key) => {\n                return (\n                <option value={data} key={key}>\n                  {data}\n                </option>);\n              })\n            }\n            </select>\n        </td>\n        <td style={{\"width\" : \"50%\"}}/>\n      </tr>\n      <tr>\n        <th>\n          <label htmlFor=\"race\">RACE</label>\n        </th>\n        <td>\n          <select\n            tabIndex={-1}\n            value={character.race || \"null\"}\n            name=\"race\"\n            onChange={event => setCharacter(character => ({...character,race: event.target.value}))}>\n            <option disabled value=\"null\" hidden />\n            {\n              races.map((data, key) => {\n                return (\n                <option value={data} key={key}>\n                  {data}\n                </option>);\n              })\n            }\n          </select>\n        </td>\n        <td>\n          <textarea className=\"grey\" name=\"raceAttributes\" readOnly=\"readOnly\" value={raceAttributes()}/>\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <label htmlFor=\"alignment\">ALIGNMENT</label>\n        </th>\n        <td>\n          <select\n            tabIndex={-1}\n            value={character.alignment || \"null\"}\n            name=\"alignment\"\n            onChange={event => setCharacter(character => ({...character,alignment: event.target.value}))}>\n            <option disabled value=\"null\" hidden />\n            {\n              character.dwClass && dwc && alignments.[dwc].map((data, key) => {\n              return (\n              <option value={data} key={key}>\n                {data}\n              </option>);})\n            }\n          </select>\n        </td>\n        <td>\n          <textarea className=\"grey\" name=\"alignmentAttribute\" readOnly=\"readOnly\" value={alignmentAttributes()}/>\n        </td>\n      </tr>\n    </tbody>\n  </table>);\n}\n\nexport default CharacterTypeTable;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {classDetails} from 'data/classDetails';\n\nfunction CharacterDamage() {\n\n  // State Variables\n  const [character] = useContext(CharacterState);\n  const dwc = character.dwClass;\n\n  const damage = () => {\n    if (character.dwClass) {\n      return (classDetails.[dwc].damage);\n    } else {\n      return ('');\n    }\n  };\n\n  return (\n    <table id=\"damage\">\n      <thead>\n        <tr>\n          <th>\n            <label htmlFor=\"damage\">DAMAGE</label>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>\n            <input type=\"text\" className=\"shortfield grey\" name=\"damage\" readOnly=\"readOnly\" value={damage()}/>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\nexport default CharacterDamage;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterArmour() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  return (\n    <table id=\"armour\">\n      <thead>\n        <tr>\n          <th>\n            <label htmlFor=\"armour\">ARMOUR</label>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>\n            <input type=\"number\" min={0} className=\"shortfield\" name=\"armour\" value={character.armour || ''} onChange={event => setCharacter(character => ({...character,armour: event.target.value}))}/>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n\nexport default CharacterArmour;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterFunds() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  return (\n    <table id=\"funds\">\n      <thead>\n        <tr>\n          <th>\n            <label htmlFor=\"funds\">FUNDS</label>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>\n            <input type=\"number\" className=\"shortfield\" name=\"funds\"\n              min={0} id=\"funds\" value={character.funds || ''} onChange={event => setCharacter(character => ({...character,funds: event.target.value}))}/>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n\nexport default CharacterFunds;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {classDetails} from 'data/classDetails';\n\nfunction CharacterHP() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  const dwc = character.dwClass;\n  const maxHp = () => {\n    if (character.dwClass && character.abilities) {\n      return (\"/ \" + (classDetails.[dwc].baseHp + parseInt(character.abilities.find(x => x.category === 'CON').score ,10)));\n    } else {\n      return ('');\n    }\n  };\n\n  return (\n    <table id=\"hp\">\n      <thead>\n        <tr>\n          <th colSpan={2}>\n            <label htmlFor=\"hp\">HP</label>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>\n            <input type=\"number\" min={0} className=\"shortfield\" name=\"hp\" value={character.hp || ''} onChange={event => setCharacter(character => ({...character,hp: event.target.value}))}/>\n          </td>\n          <td>\n            <input type=\"text\" className=\"shortfield grey\" name=\"maxHp\" readOnly=\"readOnly\" value={maxHp()} />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n\nexport default CharacterHP;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterLevel() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th colSpan={2}>\n            <label htmlFor=\"level\">LEVEL</label>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>\n            <input type=\"number\" min={1} className=\"shortfield\" name=\"level\" value={character.level || ''} onChange={event => setCharacter(character => ({...character,level: event.target.value}))}/>\n          </td>\n        </tr>\n      </tbody>\n    </table>);\n}\n\nexport default CharacterLevel;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterXP() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  // Total Load\n  const calcMaxXp = () => {\n    if (character.level) {\n      return (\"/ \" + (parseInt(character.level,10) + 7));\n    } else {\n      return ('');\n    }\n  };\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th colSpan={2}>\n            <label htmlFor=\"xp\">XP</label>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>\n            <input type=\"number\" min={0} className=\"shortfield\" name=\"xp\" value={character.xp || ''} onChange={event => setCharacter(character => ({...character,xp: event.target.value}))}/>\n          </td>\n          <td>\n            <input type=\"text\" className=\"shortfield grey\" name=\"maxXp\" readOnly=\"readOnly\" value={calcMaxXp()} />\n          </td>\n        </tr>\n      </tbody>\n    </table>);\n}\n\nexport default CharacterXP;\n","import React from 'react';\nimport CharacterDamage from 'components/character/CharacterDamage'\nimport CharacterArmour from 'components/character/CharacterArmour'\nimport CharacterFunds from 'components/character/CharacterFunds'\nimport CharacterHP from 'components/character/CharacterHP'\nimport CharacterLevel from 'components/character/CharacterLevel'\nimport CharacterXP from 'components/character/CharacterXP'\n\nfunction CharacterBasicAttributesTable() {\n\n  return (\n  <div className='myForm'>\n    <div><CharacterLevel/></div>\n    <div><CharacterXP/></div>\n    <div><CharacterDamage/></div>\n    <div><CharacterArmour/></div>\n    <div><CharacterFunds/></div>\n    <div><CharacterHP/></div>\n  </div>);\n}\n\nexport default CharacterBasicAttributesTable;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {abilityAfflictions} from 'data/abilityAfflictions';\n\nfunction CharacterAbilitiesTable() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  const updateAbilityScore = index => e => {\n    let newAbilities = [...character.abilities]; // copying the old array\n    newAbilities[index] = {...character.abilities[index], score: e.target.value}; // replace value\n    setCharacter(character => ({...character, abilities: newAbilities})); // set array back\n  }\n\n  const updateAbilityAffliction = index => e => {\n    let newAbilities = [...character.abilities]; // copying the old array\n    newAbilities[index] = {...character.abilities[index], affliction: e.target.value}; // replace value\n    setCharacter(character => ({...character, abilities: newAbilities})); // set array back\n  }\n\n  const abilityModifier = (abilityScore, abilityAffliction) => {\n\n    if (abilityScore && abilityAffliction) {\n    let baseModifier;\n    let afflicted;\n\n    abilityScore = parseInt(abilityScore,10);\n\n    if ([1, 2, 3].indexOf(abilityScore) > -1) {\n      baseModifier = -3;\n    } else if ([4, 5].indexOf(abilityScore) > -1) {\n      baseModifier = -2;\n    } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\n      baseModifier = -1;\n    } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\n      baseModifier = 0;\n    } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\n      baseModifier = 1;\n    } else if ([16, 17].indexOf(abilityScore) > -1) {\n      baseModifier = 2;\n    } else if (abilityScore === 18) {\n      baseModifier = 3;\n    }\n\n    /*-1 if afflicted*/\n    if (abilityAffliction === \"Unafflicted\") {\n      afflicted = 0;\n    } else {\n      afflicted = 1;\n    }\n\n    let modifier = (baseModifier - afflicted);\n\n    if (modifier > 0) {\n      return(\"[+\" + modifier+ \"]\");\n    } else {\n      return (\"[\" + modifier + \"]\");\n    }\n  } else {\n    return ('')\n  }\n  }\n\n  return (\n     <table style={{\"width\":\"100%\"}} id=\"abilitiesTable\">\n       <thead>\n         <tr>\n           {\n            character.abilities && character.abilities.map((abilities, index) => {\n            return (\n              <th key={index}>\n                <label\n                  htmlFor={abilities.category}\n                  value={abilities.category}\n                  name={abilities.category}>\n                  {abilities.category}\n                </label>\n              </th>)\n           })\n         }\n         </tr>\n       </thead>\n       <tbody>\n         <tr>\n           {\n            character.abilities && character.abilities.map((abilities, index) => {\n            return (\n              <td key={index}>\n                <input\n                  type=\"number\"\n                  min={1} max={18}\n                  className=\"ability\"\n                  name={abilities.category + \"Score\"}\n                  value={abilities.score}\n                  onChange={updateAbilityScore(index)} />\n            </td>)\n           })\n         }\n         </tr>\n         <tr>\n           {\n            character.abilities && character.abilities.map((abilities, index) => {\n            return (\n              <td key={index}>\n                <input\n                  type=\"text\"\n                  className=\"grey tallfield\"\n                  name={abilities.category + \"Modifier\"}\n                  value={abilityModifier(abilities.score, abilities.affliction)}\n                  readOnly />\n            </td>)\n           })\n         }\n         </tr>\n         <tr>\n           {\n            character.abilities && character.abilities.map((abilities,index) => {\n            const ab = abilities.category;\n            return (\n              <td key={index}>\n                <select\n                  tabIndex={-1}\n                  className=\"abilityAffliction\"\n                  value={abilities.affliction || \"null\"}\n                  name={abilities.category + \"Affliction\"}\n                  onChange={updateAbilityAffliction(index)}>\n                  <option disabled value=\"null\" hidden />\n                    {\n                      abilityAfflictions.[ab].map((data, key) => {\n                        return (\n                        <option value={data} key={key}>\n                          {data}\n                        </option>);\n                      })\n                    }\n                </select>\n              </td>)\n           })\n         }\n         </tr>\n       </tbody>\n     </table>\n    );\n}\n\nexport default CharacterAbilitiesTable;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterBondsTable() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  // State manipulation\n  const updateBond = index => e => {\n    let newBonds = [...character.bonds]; // copying the old array\n    newBonds[index] = {...character.bonds[index], bond: e.target.value}; // replace value\n    setCharacter(character => ({...character, bonds: newBonds})); // set array back\n  }\n\n  // Delete rows in the table\n  const deleteBondRow = index => {\n    const newBonds = [...character.bonds]; // copying the old array\n    if (character.bonds.length !== 1) { //don't delete last row\n      newBonds.splice(index, 1); // remove item from array\n      setCharacter(character => ({...character, bonds: newBonds})); // set array back\n    } else {\n      alert('Cannot delete final row');\n    }\n  }\n\n  // Add rows in the table\n  const addBondsRow = () => {\n    const newBonds = [...character.bonds, {bond: \"\"}]; // copying the old array and adding blank item\n    setCharacter(character => ({...character, bonds: newBonds})); // set array back\n  }\n\n  return (\n    <table style={{\"width\" : \"100%\"}} id=\"bondsTable\">\n      <thead>\n        <tr>\n          <th style={{\"width\" : \"100%\"}}>\n            <label>BONDS</label>\n          </th>\n          <td>\n            <button\n              type=\"button\"\n              className=\"addRow\"\n              onClick={() => addBondsRow()}>\n              +\n            </button>\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        {\n         character.bonds && character.bonds.map((bonds,index) => {\n         return (\n           <tr key={index}>\n               <td>\n                 <textarea\n                   placeholder=\"Add 2-3 bonds here\"\n                   value={bonds.bond}\n                   name={\"bond\" + index}\n                   onChange={updateBond(index)}\n                   />\n               </td>\n               <td>\n                 <button\n                   type=\"button\"\n                   className=\"deleteRow\"\n                   onClick={() => deleteBondRow(index)}/>\n               </td>\n           </tr>)\n        })\n      }\n      </tbody>\n      <tfoot/>\n    </table>\n    );\n}\n\nexport default CharacterBondsTable;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {classDetails} from 'data/classDetails';\n\nfunction CharacterItemsTable() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n  const dwc = character.dwClass;\n\n  // Total Load\n  const totalLoad = () => {\n    if (character.items) {\n      return (character.items.reduce((totalLoad,data) => totalLoad + parseInt((data.weight || 0),10) ,0));\n    } else {\n      return ('');\n    }\n  };\n\n  // Max Load\n  const maxLoad = () => {\n\n    if (character.dwClass && character.abilities.find(x => x.category === 'STR').score && character.abilities.find(x => x.category === 'STR').affliction) {\n      let str = character.abilities.find(x => x.category === 'STR');\n      let baseModifier;\n      let abilityAffliction = str.affliction;\n      let abilityScore = parseInt(str.score,10);\n      let afflicted;\n\n      if ([1, 2, 3].indexOf(abilityScore) > -1) {\n        baseModifier = -3;\n      } else if ([4, 5].indexOf(abilityScore) > -1) {\n        baseModifier = -2;\n      } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\n        baseModifier = -1;\n      } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\n        baseModifier = 0;\n      } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\n        baseModifier = 1;\n      } else if ([16, 17].indexOf(abilityScore) > -1) {\n        baseModifier = 2;\n      } else if (abilityScore === 18) {\n        baseModifier = 3;\n      }\n\n      /*-1 if afflicted*/\n      if (abilityAffliction === \"Unafflicted\") {\n        afflicted = 0;\n      } else {\n        afflicted = 1;\n      }\n\n      let modifier = (baseModifier - afflicted);\n\n      return (\"/ \" + (classDetails.[dwc].baseLoad + modifier));\n    } else {\n      return ('');\n    }\n  };\n\n  // State manipulation\n  const updateItem = index => e => {\n    let newItems = [...character.items]; // copying the old array\n    newItems[index] = {...character.items[index], item: e.target.value}; // replace value\n    setCharacter(character => ({...character, items: newItems})); // set array back\n  }\n\n  const updateItemWeight = index => e => {\n    let newItems = [...character.items]; // copying the old array\n    newItems[index] = {...character.items[index], weight: e.target.value}; // replace value\n    setCharacter(character => ({...character, items: newItems})); // set array back\n  }\n\n  // Delete rows in the table\n  const deleteItemRow = index => {\n    const newItems = [...character.items]; // copying the old array\n    if (character.items.length !== 1) { //don't delete last row\n      newItems.splice(index, 1); // remove item from array\n      setCharacter(character => ({...character, items: newItems})); // set array back\n    } else {\n      alert('Cannot delete final row');\n    }\n  }\n\n  // Add rows in the table\n  const addItemRow = () => {\n    const newItems = [...character.items, {item: \"\", weight: \"\"}]; // copying the old array and adding blank item\n    setCharacter(character => ({...character, items: newItems})); // set array back\n  }\n  //,\n\n  return (\n    <table style={{\"width\":\"100%\"}} id=\"itemsTable\">\n      <thead>\n        <tr>\n          <th colSpan={4}><label>GEAR</label></th>\n        </tr>\n        <tr>\n          <th style={{\"width\":\"100%\"}}><label>ITEM</label></th>\n          <th colSpan={2}><label>WEIGHT</label></th>\n          <td>\n            <button\n              type=\"button\"\n              className=\"addRow\"\n              onClick={() => addItemRow()}>\n              +\n            </button>\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        {\n         character.items && character.items.map((items,index) => {\n         return (\n           <tr key={index}>\n               <td>\n                 <textarea\n                   placeholder=\"Add any items and descriptions here\"\n                   value={items.item}\n                   name={\"item\" + index}\n                   onChange={updateItem(index)}/>\n               </td>\n               <td colSpan={2}>\n                 <input\n                   type=\"number\"\n                   min={0}\n                   value={items.weight}\n                   name={\"itemWeight\" + index}\n                   onChange={updateItemWeight(index)}/>\n               </td>\n               <td>\n                 <button\n                   type=\"button\"\n                   className=\"deleteRow\"\n                   onClick={() => deleteItemRow(index)}/>\n               </td>\n           </tr>)\n        })\n      }\n      </tbody>\n      <tfoot>\n        <tr>\n          <th><label htmlFor=\"load\">LOAD</label></th>\n          <td>\n            <input type=\"number\" className=\"shortfield grey\" name=\"totalLoad\" readOnly value={totalLoad()} />\n          </td>\n          <td>\n            <input type=\"text\" className=\"shortfield grey\" name=\"maxLoad\" readOnly=\"readOnly\" value={maxLoad()} />\n          </td>\n          <td />\n        </tr>\n      </tfoot>\n    </table>\n    );\n}\n\nexport default CharacterItemsTable;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\n\nfunction CharacterClassFeaturesTable() {\n\n  // State Variables\n  const [character, setCharacter] = useContext(CharacterState);\n\n  // State manipulation\n  const updateFeatureCheckbox = index => e => {\n    let newFeatures = [...character.classFeatures]; // copying the old array\n    newFeatures[index] = {...character.classFeatures[index], checkbox: e.target.checked}; // replace value\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\n  }\n\n  const updateFeature = index => e => {\n    let newFeatures = [...character.classFeatures]; // copying the old array\n    newFeatures[index] = {...character.classFeatures[index], feature: e.target.value}; // replace value\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\n  }\n\n  // Delete rows in the table\n  const deleteFeatureRow = index => {\n    const newFeatures = [...character.classFeatures]; // copying the old array\n    if (character.classFeatures.length !== 1) { //don't delete last row\n      newFeatures.splice(index, 1); // remove item from array\n      setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\n    } else {\n      alert('Cannot delete final row');\n    }\n  }\n\n  // Add rows in the table\n  const addFeatureRow = () => {\n    const newFeatures = [...character.classFeatures, {feature: \"\", checkbox: false}]; // copying the old array and adding blank item\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\n  }\n\n  return (\n    <table style={{\n        \"width\" : \"100%\"\n      }} id=\"classFeaturesTable\">\n      <thead>\n        <tr>\n          <th colSpan={2} style={{\n              \"width\" : \"100%\"\n            }}>\n            <label>CLASS FEATURES</label>\n          </th>\n          <td>\n            <button\n              type=\"button\"\n              className=\"addRow\"\n              onClick={() => addFeatureRow()}>\n              +\n            </button>\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n          {\n           character.classFeatures && character.classFeatures.map((classFeatures,index) => {\n           return (\n             <tr key={index}>\n               <td>\n                 <input\n                   type=\"checkbox\"\n                   className=\"checkbox\"\n                   name={\"classFeatureCheckbox\" + index}\n                   checked={!!classFeatures.checkbox}\n                   onChange={updateFeatureCheckbox(index)}/>\n               </td>\n                 <td>\n                   <textarea\n                     placeholder=\"Add any Class Features here (e.g. Spell Lists, Poison Recipes, Druid Balance, Paladin Quests or anything else!)\"\n                     value={classFeatures.feature}\n                     name={\"classFeature\" + index}\n                     onChange={updateFeature(index)}/>\n                 </td>\n                 <td>\n                   <button\n                     type=\"button\"\n                     className=\"deleteRow\"\n                     onClick={() => deleteFeatureRow(index)}/>\n                 </td>\n             </tr>)\n          })\n        }\n      </tbody>\n      <tfoot/>\n    </table>\n    );\n}\n\nexport default CharacterClassFeaturesTable;\n","import React from 'react';\nimport {standardMoves} from 'data/movesList';\n\nfunction CharacterStandardMoves() {\n  return (\n  <table style={{\"width\" : \"100%\"}} name=\"standardMoves\">\n    <thead>\n      <tr>\n        <th>\n          <label style={{\n              \"width\" : \"25%\"\n            }} htmlFor=\"standardMoves\">STANDARD MOVES</label>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n        {\n          standardMoves.map((data) => {\n            return (\n              <React.Fragment key={data.name}>\n            <tr>\n              <td>\n                {data.name}\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <div dangerouslySetInnerHTML={{__html: data.description }}></div>\n              </td>\n            </tr>\n          </React.Fragment>);\n          })\n        }\n    </tbody>\n  </table>);\n}\n\nexport default CharacterStandardMoves;\n","import React from 'react';\nimport {advancedMoves} from 'data/movesList';\n\nfunction CharacterAdvancedMoves() {\n  return (\n  <table style={{\"width\" : \"100%\"}} name=\"standardMoves\">\n    <thead>\n      <tr>\n        <th>\n          <label style={{\n              \"width\" : \"25%\"\n            }} htmlFor=\"standardMoves\">ADVANCED MOVES</label>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n        {\n          advancedMoves.map((data) => {\n            return (\n              <React.Fragment key={data.name}>\n            <tr>\n              <td>\n                {data.name}\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <div dangerouslySetInnerHTML={{__html: data.description }}></div>\n              </td>\n            </tr>\n          </React.Fragment>);\n          })\n        }\n    </tbody>\n  </table>);\n}\n\nexport default CharacterAdvancedMoves;\n","import React, {useContext} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport {classMoves} from 'data/movesList';\n\nfunction CharacterClassMoves() {\n\n  // State Variables\n  const [character] = useContext(CharacterState);\n  const dwc = character.dwClass;\n\n  return (\n  <table style={{\"width\" : \"100%\"}} name=\"standardMoves\">\n    <thead>\n      <tr>\n        <th>\n          <label style={{\n              \"width\" : \"25%\"\n            }} htmlFor=\"standardMoves\">CLASS STARTING MOVES</label>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n        { dwc && classMoves.[dwc].startingMoves.map((data) => {\n            return (\n              <React.Fragment key={data.name}>\n            <tr>\n              <td>\n                {data.name}\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <div dangerouslySetInnerHTML={{__html: data.description }}></div>\n              </td>\n            </tr>\n          </React.Fragment>);\n          })\n        }\n    </tbody>\n  </table>);\n}\n\nexport default CharacterClassMoves;\n","import React, {useState, useEffect, useCallback} from 'react';\nimport CharacterState from 'components/contexts/CharacterState';\nimport { useParams } from \"react-router\";\nimport * as FirebaseService from 'services/firebase';\nimport CharacterSheetHeader from 'components/character/CharacterSheetHeader'\nimport CharacterDetailsTable from 'components/character/CharacterDetailsTable'\nimport CharacterTypeTable from 'components/character/CharacterTypeTable'\nimport CharacterBasicAttributesTable from 'components/character/CharacterBasicAttributesTable'\nimport CharacterAbilitiesTable from 'components/character/CharacterAbilitiesTable'\nimport CharacterBondsTable from 'components/character/CharacterBondsTable'\nimport CharacterItemsTable from 'components/character/CharacterItemsTable'\nimport CharacterClassFeaturesTable from 'components/character/CharacterClassFeaturesTable'\nimport CharacterStandardMoves from 'components/character/CharacterStandardMoves'\nimport CharacterAdvancedMoves from 'components/character/CharacterAdvancedMoves'\nimport CharacterClassMoves from 'components/character/CharacterClassMoves'\n\n// Debounce function\nconst debounce = (callback,delay) => {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => callback(...args),delay);\n  }\n}\n\nfunction CharacterSheet() {\n\n  // Definitions for state\n  const [character, setCharacter] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n\n  // retrieve URL parameters for usage\n  const { campaignURL, characterURL } = useParams();\n\n  // Use an effect hook to subscribe to the character stream and\n  // automatically unsubscribe when the component unmounts.\n  useEffect(() => {\n    if (campaignURL && characterURL) {\n      const unsubscribe = FirebaseService.streamCharacter(campaignURL, characterURL, {\n          next: documentSnapshot => {\n              setCharacter(documentSnapshot.data());\n          },\n          error: (error) => {\n            alert(\"Failed to load character data correctly, see console error\");\n            console.error(\"Error loading document:\", error);\n          }\n      });\n      return unsubscribe;\n    }\n  }, [campaignURL, characterURL, setCharacter]);\n\n  // Saving character\n  const debouncedSave = useCallback(\n    debounce(character =>\n      FirebaseService.saveCharacter(campaignURL, characterURL, character)\n        .then(() => {\n          setIsSaving(false);\n          console.info('Saved Character:', character );\n        })\n        .catch((error) => {\n          alert(\"Failed to save character data correctly, see console error\");\n          console.error(\"Error saving document:\", error);\n          //If saving fails then it will not retry until the error is rectified\n        })\n    , process.env.DEBOUNCE_SAVE_DELAY_MS),[]);\n\n  useEffect(\n    () => {\n      if (character && Object.keys(character).length >= 1) {\n        setIsSaving(true);\n        debouncedSave(character);\n      }\n    }, [character] //Only trigger effect on change of character\n  );\n\n  console.info(\"CharacterState:\",character);\n  console.info(\"isSaving\",isSaving);\n\n  return (\n  <CharacterState.Provider value={[character, setCharacter]}>\n    <CharacterSheetHeader/>\n    <br/>\n    <CharacterDetailsTable/>\n    <br/>\n    <CharacterTypeTable/>\n    <br/>\n    <CharacterBasicAttributesTable/>\n    <br/>\n    <CharacterAbilitiesTable/>\n    <br/>\n    <CharacterBondsTable/>\n    <br/>\n    <CharacterItemsTable/>\n    <br/>\n    <CharacterClassFeaturesTable/>\n    <br/>\n    <CharacterStandardMoves/>\n    <br/>\n    <CharacterAdvancedMoves/>\n    <br/>\n    <CharacterClassMoves/>\n  </CharacterState.Provider>);\n}\n\nexport default CharacterSheet;\n","import React from 'react';\n\nconst CampaignState = React.createContext([{}, () => {}]);\n\nexport default CampaignState;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {useParams} from 'react-router';\n\nfunction CampaignSheetHeader() {\n\n  // retrieve URL parameters for usage\n  const {campaignURL} = useParams();\n\n  return (<div>\n    <Link to=\"/dw-react\">Home</Link> >\n    <p>{campaignURL}</p>\n    <h1>{campaignURL}\n    </h1>\n  </div>);\n}\n\nexport default CampaignSheetHeader;\n","import React from 'react';\n\nconst CreateCharacterState = React.createContext();\n\nexport default CreateCharacterState;\n","import React, {useState,useContext} from 'react';\nimport {useParams} from 'react-router';\nimport * as FirebaseService from 'services/firebase';\nimport CreateCharacterState from 'components/contexts/CreateCharacterState';\nimport AuthState from 'components/contexts/AuthState';\n\nfunction CreateCharacter() {\n\n  const [charaName, setCharaName] = useState(\"\");\n  const [show,setShow] = useContext(CreateCharacterState);\n  const [currentUser] = useContext(AuthState);\n  const {campaignURL} = useParams();\n  const toggleSetShow = () => setShow(!show);\n\n  // Create New Character\n  const saveCharacter = () => {\n    if (campaignURL && charaName) { //don't save unless details present\n      FirebaseService.createCharacter(campaignURL,charaName, currentUser.email)\n      .then(() => {\n        console.info('Created Character:', charaName);\n        toggleSetShow();\n      })\n      .catch((error) => {\n        alert(\"Failed to create character, see console error\");\n        console.error(\"Error creating document:\", error);\n      });\n    } else {\n      alert('Cannot save blank character');\n    }\n  }\n\n  return (\n  <>\n  <table style={{\"width\" : \"100%\"}} id=\"basicInfoTable\">\n    <tbody>\n      <tr>\n        <th style={{\"width\" : \"25%\"}}>\n          <label htmlFor=\"shortName\">SHORT NAME</label>\n        </th>\n        <td>\n          <textarea placeholder=\"Add your characters short name here, you wont be able to change this one saved\" name=\"shortName\" onChange={event => setCharaName(event.target.value)}/>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <button onClick={() => saveCharacter()}>Save Character</button>\n  </>\n);\n}\n\nexport default CreateCharacter;\n","import React, {useContext,useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useParams} from 'react-router';\nimport * as FirebaseService from 'services/firebase';\nimport CreateCharacter from 'components/campaign/CreateCharacter';\nimport CreateCharacterState from 'components/contexts/CreateCharacterState';\nimport CampaignState from 'components/contexts/CampaignState';\n\nfunction CampaignDetails() {\n\n  // State Variables\n  const [campaign] = useContext(CampaignState);\n  const [show, setShow] = useState(false);\n  const toggleSetShow = () => setShow(!show);\n  // retrieve URL parameters for usage\n  const {campaignURL} = useParams();\n\n  const deleteCharacter = (campaign,character) => {\n    if (campaign && character) { //don't save unless details present\n      FirebaseService.deleteCharacter(campaign,character)\n      .then(() => {\n        console.info('Deleted Character:', character);\n      })\n      .catch((error) => {\n        alert(\"Failed to delete character, see console error\");\n        console.error(\"Error deleting document:\", error);\n      });\n    } else {\n      alert('Cannot delete blank character');\n    }\n  }\n\n  return (\n    <CreateCharacterState.Provider value={[show, setShow]}>\n    <table>\n      <thead>\n        <tr>\n          <th colSpan=\"4\">CHARACTERS</th>\n          <th><button onClick={() => toggleSetShow()}>+</button></th>\n        </tr>\n      </thead>\n      <tbody>\n        {\n          campaign.campaign && campaign.campaign.map((campaign, index) => {\n            return (\n            <tr key={index}>\n              <td><Link to={\"/dw-react/\" + campaignURL + \"/\" + campaign.character}>{campaign.character}</Link></td>\n              <td>({campaign.characterData.owner})</td>\n              <td>HP: {campaign.characterData.hp}</td>\n              <td>XP: {campaign.characterData.xp}</td>\n                <td>\n                  <button onClick={() => deleteCharacter(campaignURL, campaign.character)}>Delete</button>\n                </td>\n            </tr>)\n          })\n        }\n      </tbody>\n    </table>\n      {show\n        ? <CreateCharacter/>\n        : null\n      }\n    </CreateCharacterState.Provider>\n  );\n}\n\nexport default CampaignDetails;\n","import React, {useState, useEffect} from 'react';\nimport {useParams} from 'react-router';\nimport * as FirebaseService from 'services/firebase';\nimport CampaignState from 'components/contexts/CampaignState';\nimport CampaignSheetHeader from 'components/campaign/CampaignSheetHeader';\nimport CampaignDetails from 'components/campaign/CampaignDetails';\n\nfunction CampaignSheet() {\n\n  // Definitions for state\n  const [campaign, setCampaign] = useState({});\n\n  // retrieve URL parameters for usage\n  const {campaignURL} = useParams();\n\n  // Use an effect hook to subscribe to the campaign stream and\n  // automatically unsubscribe when the component unmounts.\n  useEffect(() => {\n    if (campaignURL) {\n      const unsubscribe = FirebaseService.streamCharacters(campaignURL, {\n        next: querySnapshot => {\n          //const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => { return(docSnapshot.data())});\n          const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => { return({character: docSnapshot.id , characterData: docSnapshot.data()})});\n          setCampaign(campaign => ({campaign: updatedCharacterList}));\n        },\n        error: (error) => {\n          alert(\"Failed to load campaign data correctly, see console error\");\n          console.error(\"Error loading document:\", error);\n        }\n      });\n      return unsubscribe;\n    }\n  }, [campaignURL, setCampaign]);\n\n  console.info(\"Campaign State:\", campaign);\n\n  return (\n  <CampaignState.Provider value={[campaign, setCampaign]}>\n    <CampaignSheetHeader />\n    <br/>\n    <CampaignDetails/>\n  </CampaignState.Provider>);\n}\n\nexport default CampaignSheet;\n","import React from 'react';\nimport {BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport ErrorPage from 'components/ErrorPage'\nimport Homepage from 'components/Homepage';\nimport NavSidebar from 'components/NavSidebar';\nimport UserProfile from 'components/profile/UserProfile';\nimport AppHeader from 'components/AppHeader';\nimport CharacterSheet from 'components/character/CharacterSheet';\nimport CampaignSheet from 'components/campaign/CampaignSheet';\n\nfunction App() {\n\n  return (<>\n    <UserProfile/>\n    <Router>\n      <AppHeader/>\n      <NavSidebar/>\n      <Switch>\n        <Route exact path=\"/dw-react/:campaignURL/:characterURL\" component={CharacterSheet} />\n        <Route exact path=\"/dw-react/:campaignURL\" component={CampaignSheet} />\n        <Route exact path=\"/dw-react\" component={Homepage} />\n        <Route component={ErrorPage} />\n      </Switch>\n    </Router>\n  </>)\n}\n\nexport default App;\n","import React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.css';\nimport 'custom.css';\nimport App from 'components/App';\nimport * as FirebaseService from 'services/firebase';\nimport AuthState from 'components/contexts/AuthState';\n\nfunction Index() {\n\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = FirebaseService.auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n    });\n    return unsubscribe;\n  }, [])\n\n  return (\n  <AuthState.Provider value={[currentUser]}>\n    {\n      currentUser\n        ? (<div>\n          <App />\n        </div>)\n        : <button onClick={FirebaseService.SignInWithGoogle}>SIGN IN WITH GOOGLE</button>\n    }\n  </AuthState.Provider>);\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<Index/>, rootElement);\n"],"sourceRoot":""}