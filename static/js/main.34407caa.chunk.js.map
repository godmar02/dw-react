{"version":3,"sources":["components/ErrorPage.js","services/firebase.js","components/homepage/HomepageHeader.js","components/contexts/HomepageState.js","components/contexts/AuthState.js","components/homepage/HomepageDetails.js","components/homepage/Homepage.js","components/contexts/ProfileState.js","components/profile/ProfilePicture.js","components/profile/ProfileDetails.js","components/profile/UserProfile.js","components/AppHeader.js","components/contexts/CharacterState.js","components/character/CharacterSheetHeader.js","components/character/CharacterBasicDetails.js","components/character/CharacterType.js","components/character/CharacterDamage.js","components/character/CharacterArmour.js","components/character/CharacterFunds.js","components/character/CharacterHP.js","components/character/CharacterLevel.js","components/character/CharacterXP.js","components/character/CharacterBasicStats.js","components/character/CharacterAbilities.js","components/character/CharacterBonds.js","components/character/CharacterGear.js","components/character/CharacterClassFeatures.js","components/character/CharacterStandardMoves.js","components/character/CharacterAdvancedMoves.js","components/character/CharacterClassStartingMoves.js","components/character/CharacterClassAdvancedMoves2to5.js","components/character/CharacterClassAdvancedMoves6to10.js","components/character/CharacterClassMoves.js","components/character/CharacterMoves.js","components/other/DiceRoller.js","components/character/CharacterSheet.js","components/contexts/CampaignState.js","components/campaign/CampaignHeader.js","components/campaign/CampaignDetails.js","components/campaign/Campaign.js","components/App.js","index.js"],"names":["ErrorPage","firebase","initializeApp","apiKey","process","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","provider","GoogleAuthProvider","SignInWithGoogle","signInWithPopup","setCustomParameters","prompt","HomepageHeader","Breadcrumbs","aria-label","HomepageState","createContext","AuthState","useStyles","makeStyles","table","minWidth","HomepageDetails","classes","currentUser","useContext","useState","open","setOpen","campaignName","setCampaignName","campaigns","handleCancel","saveCampaign","campaign","owner","email","collection","doc","set","then","console","info","catch","error","alert","deleteCampaign","delete","TableContainer","component","Paper","Table","className","TableHead","TableRow","TableCell","IconButton","onClick","Add","TableBody","map","index","to","id","Delete","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","fullWidth","onChange","event","target","value","DialogActions","Button","color","Homepage","setCampaigns","useEffect","observer","next","querySnapshot","updatedCampaignList","docs","docSnapshot","data","onSnapshot","log","ctx","useMemo","Provider","ProfileState","ProfilePicture","show","setShow","Avatar","src","photoURL","alt","ProfileDetails","style","displayName","variant","FirebaseService","signOut","UserProfile","theme","root","flexGrow","menuButton","marginRight","spacing","title","AppHeader","AppBar","position","Toolbar","edge","Menu","Typography","CharacterState","CharacterSheetHeader","useParams","campaignURL","characterURL","CharacterBasicDetails","character","setCharacter","handleCharacterChange","name","size","multiline","placeholder","fullName","backstory","look","formControl","selectEmpty","marginTop","CharacterType","dwc","dwClass","alig","alignment","race","FormControl","Select","tabIndex","MenuItem","disabled","hidden","dwClasses","key","races","InputProps","readOnly","classDetails","raceAttributes","alignments","alignmentAttributes","textField","width","textAlign","CharacterDamage","damage","CharacterArmour","type","min","armour","CharacterFunds","funds","CharacterHP","hp","abilities","baseHp","parseInt","find","x","category","score","CharacterLevel","level","CharacterXP","xp","CharacterBasicStats","card","padding","cardHeader","textFieldBold","fontWeight","fontSize","CharacterAbilities","updateAbilityScore","e","newAbilities","updateAbilityAffliction","affliction","abilityModifier","abilityScore","abilityAffliction","baseModifier","indexOf","modifier","Grid","container","justify","ab","item","Card","CardHeader","CardContent","max","abilityAfflictions","heading","typography","pxToRem","fontWeightRegular","CharacterBonds","updateBond","newBonds","bonds","bond","align","addBondsRow","length","splice","deleteBondRow","display","justifyContent","flexWrap","listStyle","chip","CharacterGear","newItems","items","deleteTag","newItem","newItemTags","tags","filter","colSpan","description","weight","range","cost","uses","addItemRow","Chip","tag","onDelete","deleteItemRow","reduce","totalLoad","str","baseLoad","maxLoad","CharacterClassFeatures","updateFeatureCheckbox","newFeatures","classFeatures","checkbox","checked","updateFeature","feature","addFeatureRow","Checkbox","deleteFeatureRow","CharacterStandardMoves","standardMoves","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","dangerouslySetInnerHTML","__html","CharacterAdvancedMoves","advancedMoves","CharacterClassStartingMoves","classMoves","startingMoves","CharacterClassAdvancedMoves2to5","advancedMoves2_5","CharacterClassAdvancedMoves6to10","advancedMoves6_10","TabPanel","props","children","other","role","Box","p","a11yProps","backgroundColor","palette","background","paper","CharacterClassMoves","setValue","Tabs","newValue","Tab","CharacterMoves","React","DiceRoller","dice","setDice","diceNum","setDiceNum","rollResult","setRollResult","singleRoll","sides","Math","floor","random","InputLabel","defaultValue","total","i","rollDice","CharacterSheet","documentSnapshot","debouncedSave","useCallback","callback","delay","timer","args","clearTimeout","setTimeout","debounce","Object","keys","CampaignState","CampaignHeader","pos","marginBottom","CampaignDetails","charaName","setCharaName","saveCharacter","deleteCharacter","xs","action","subheader","characterData","CampaignSheet","setCampaign","updatedCharacterList","App","Container","exact","path","Campaign","Index","setCurrentUser","onAuthStateChanged","user","rootElement","document","getElementById","ReactDOM","render"],"mappings":"wMAEe,SAASA,IACtB,OACI,uD,0BCWNC,IAASC,cAVc,CACrBC,OAAQC,0CACRC,WAAYD,sCACZE,UAAWF,sBACXG,YAAaH,6EACbI,cAAeJ,kCACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,iBAGV,IAAMQ,EAAOX,IAASW,OAChBC,EAAKZ,IAASa,YAGrBC,EAAW,IAAId,IAASW,KAAKI,mBAI5B,SAASC,IACdL,EAAKM,gBAAgBH,GAJvBA,EAASI,oBAAoB,CAC3BC,OAAQ,mBAwGKnB,EAAf,EAAeA,I,SC3HA,SAASoB,IAEtB,OAAQ,gCACN,cAACC,EAAA,EAAD,CAAaC,aAAW,aAAxB,SACE,uCAEF,uDCPJ,IAEeC,EAFOC,0BCEPC,EAFGD,0B,iKCuBZE,EAAYC,YAAW,CAC3BC,MAAO,CACLC,SAAU,OAIC,SAASC,IAEtB,IAAMC,EAAUL,IACTM,EAAeC,qBAAWR,GAA1BO,YAHiC,EAIhBE,oBAAS,GAJO,mBAIjCC,EAJiC,KAI3BC,EAJ2B,OAKAF,mBAAS,IALT,mBAKjCG,EALiC,KAKnBC,EALmB,KAMjCC,EAAaN,qBAAWV,GAAxBgB,UAMDC,EAAe,WACnBJ,GAAQ,IASJK,EAAe,WJtBhB,IAAwBC,EAASC,EIuBhCN,GJvBuBK,EIwBML,EJxBGM,EIwBWX,EAAYY,MJvBtDhC,EAAGiC,WAAW,aAClBC,IAAIJ,GAAUK,IAAI,CAACJ,MAAOA,KIsBuCK,MAAK,WACnEC,QAAQC,KAAK,oBAAqBb,MACjCc,OAAM,SAACC,GACRC,MAAM,gDACNJ,QAAQG,MAAM,2BAA4BA,MAG5CC,MAAM,+BAKJC,EAAiB,SAACjB,GJ4CnB,IAAwBK,EI3CvBL,GJ2CuBK,EI1CML,EJ2C5BzB,EAAGiC,WAAW,aAClBC,IAAIJ,GACJa,UI7C8CP,MAAK,WAChDC,QAAQC,KAAK,oBAAqBb,MACjCc,OAAM,SAACC,GACRC,MAAM,gDACNJ,QAAQG,MAAM,2BAA4BA,MAG5CC,MAAM,iCAIV,OAAQ,qCACN,cAACG,EAAA,EAAD,CAAgBC,UAAaC,IAA7B,SACE,eAACC,EAAA,EAAD,CAAOC,UAAW7B,EAAQH,MAAON,aAAW,eAA5C,UACE,cAACuC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,uBACA,cAACA,EAAA,EAAD,oBACA,cAACA,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,MAAM2C,QAjDjB,WACtB7B,GAAQ,IAgDE,SACE,cAAC8B,EAAA,EAAD,aAKR,cAACC,EAAA,EAAD,UAEI5B,EAAUA,WAAaA,EAAUA,UAAU6B,KAAI,SAAC1B,EAAU2B,GACxD,OAAQ,eAACP,EAAA,EAAD,WACN,cAACC,EAAA,EAAD,UACE,cAAC,IAAD,CAAMO,GAAI,aAAe5B,EAAS6B,GAAlC,SAAuC7B,EAAS6B,OAElD,cAACR,EAAA,EAAD,UACGrB,EAASC,QAEZ,cAACoB,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,SAAS2C,QAAS,kBAAMX,EAAeZ,EAAS6B,KAAvE,SACE,cAACC,EAAA,EAAD,UATiBH,aAkBjC,eAACI,EAAA,EAAD,CAAQtC,KAAMA,EAAMuC,QAASlC,EAAcmC,kBAAgB,oBAA3D,UACE,cAACC,EAAA,EAAD,CAAaL,GAAG,oBAAhB,iCACA,eAACM,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,6HAGA,cAACC,EAAA,EAAD,CAAWC,WAAW,EAAMC,OAAO,QAAQV,GAAG,OAAOW,MAAM,gBAAgBC,WAAS,EAACC,SAAU,SAAAC,GAAK,OAAI/C,EAAgB+C,EAAMC,OAAOC,aAEvI,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQxB,QAASzB,EAAckD,MAAM,UAArC,oBAGA,cAACD,EAAA,EAAD,CAAQxB,QAhFK,WACjB7B,GAAQ,GACRK,KA8EiCiD,MAAM,UAAnC,sCCzHO,SAASC,IAAY,IAAD,EAECzD,mBAAS,IAFV,mBAE1BK,EAF0B,KAEfqD,EAFe,KAMjCC,qBAAU,WACR,IL8E4BC,EKlE5B,OLkE4BA,EK9EwB,CAClDC,KAAM,SAAAC,GACJ,IAAMC,EAAsBD,EAAcE,KAAK9B,KAAI,SAAC+B,GAClD,MAAQ,CAAC5B,GAAI4B,EAAY5B,GAAI5B,MAAOwD,EAAYC,OAAOzD,UAEzDiD,GAAa,SAAAlD,GAAQ,MAAK,CAACH,UAAW0D,OAExC7C,MAAO,SAACA,GACNC,MAAM,oDACNJ,QAAQG,MAAM,sBAAuBA,KLsEpCxC,EAAGiC,WAAW,aAClBwD,WAAWP,KKnEX,CAACF,IAEJC,qBAAU,WACR5C,QAAQqD,IAAI,mBAAoB/D,KAC/B,CAACA,IAEJ,IAAMgE,EAAMC,mBAAQ,iBAAO,CAACjE,eAAa,CAACA,IAE1C,OAAQ,eAAC,EAAckE,SAAf,CAAwBlB,MAAOgB,EAA/B,UACN,cAACnF,EAAD,IACA,uBACA,cAACU,EAAD,O,+BCjCW4E,EAFMlF,0B,SCGN,SAASmF,IAAkB,IAEjC3E,EAAeC,qBAAWR,GAA1BO,YAFgC,EAGfC,qBAAWyE,GAA5BE,EAHgC,EAGhCA,KAAMC,EAH0B,EAG1BA,QAGb,OAAQ,cAACC,EAAA,EAAD,CAAQC,IAAK/E,EAAYgF,SAAUC,IAAI,iBAAiBhD,QAAS,kBAF7C4C,GAASD,MCJxB,SAASM,IAAkB,IAEjClF,EAAeC,qBAAWR,GAA1BO,YAEP,OAAQ,sBAAKmF,MAAO,CAChB,OAAW,IACX,mBAAuB,MACvB,aAAiB,MACjB,QAAY,eACZ,OAAW,IACX,SAAa,WACb,IAAQ,OACR,MAAU,OACV,MAAU,UACV,gBAAoB,wBACpB,UAAc,OACd,KAAS,uCACT,cAAkB,QAClB,WAAe,OACf,WAAe,OACf,QAAY,WAhBR,UAkBN,qBAAKA,MAAO,CACR,MAAU,SADd,4BAGA,8BAAMnF,EAAYoF,cAClB,8BAAMpF,EAAYY,QAClB,cAAC6C,EAAA,EAAD,CAAQ4B,QAAQ,YAAY3B,MAAM,UAAUzB,QAAS,kBAAMqD,EAAqBC,WAAhF,wBC3BW,SAASC,IAAe,IAAD,EAEZtF,oBAAS,GAFG,mBAE7B0E,EAF6B,KAEvBC,EAFuB,KAG9BN,EAAMC,mBAAQ,iBAAO,CAACI,OAAMC,aAAW,CAACD,IAE9C,OAAQ,eAAC,EAAaH,SAAd,CAAuBlB,MAAOgB,EAA9B,UACN,cAACI,EAAD,IADM,IAEJC,EACI,cAACM,EAAD,IACA,QCRV,IAAMxF,EAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAO,CACLJ,SAAU,OAIC,SAASK,IACtB,IAAMjG,EAAUL,IAChB,OAAQ,qBAAKkC,UAAW7B,EAAQ2F,KAAxB,SACN,cAACO,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAACnE,EAAA,EAAD,CAAYoE,KAAK,QAAQxE,UAAW7B,EAAQ6F,WAAYlC,MAAM,UAAUpE,aAAW,OAAnF,SACE,cAAC+G,EAAA,EAAD,MAEF,cAACC,EAAA,EAAD,CAAY7E,UAAW,OAAQ4D,QAAQ,KAAKzD,UAAW7B,EAAQgG,MAA/D,iEAGA,cAACP,EAAD,W,qBCzBOe,GAFQ/G,0B,8BCGR,SAASgH,KAAwB,IAAD,EAETC,cAA7BC,EAFsC,EAEtCA,YAAaC,EAFyB,EAEzBA,aAEpB,OAAQ,qCACN,eAACtH,EAAA,EAAD,CAAaC,aAAa,aAA1B,UACE,cAAC,IAAD,CAAMgD,GAAG,YAAT,kBACA,cAAC,IAAD,CAAMA,GAAI,aAAeoE,EAAzB,SAAuCA,IACvC,4BAAIC,OAEN,6CAAgBA,Q,aCVdjH,GAAYC,YAAW,CAC3BC,MAAO,CACLC,SAAU,OAIC,SAAS+G,KAAyB,IAAD,EAEZ3G,qBAAWsG,IAAtCM,EAFuC,EAEvCA,UAAWC,EAF4B,EAE5BA,aACZ/G,EAAUL,KAEVqH,EAAwB,SAAC1D,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,QAGnD,OACM,cAAC/B,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACJ,cAACC,EAAA,EAAD,CAAOC,UAAW7B,EAAQH,MAAOqH,KAAK,QAAQ3H,aAAW,eAAzD,SACA,eAAC6C,EAAA,EAAD,WACE,eAACL,EAAA,EAAD,WACE,2CACA,cAACC,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEmE,WAAS,EACT/D,WAAS,EACTkC,QAAQ,WACR/F,aAAW,iBACX6H,YAAY,qCACZ5D,MAAOsD,EAAUO,SACjBJ,KAAK,WACL5D,SAAU2D,SAGhB,eAACjF,EAAA,EAAD,WACE,2CACA,cAACC,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEmE,WAAS,EACT/D,WAAS,EACTkC,QAAQ,WACR/F,aAAW,iBACX6H,YAAY,4FACZ5D,MAAOsD,EAAUQ,UACjBL,KAAK,YACL5D,SAAU2D,SAGhB,eAACjF,EAAA,EAAD,WACE,sCACA,cAACC,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEmE,WAAS,EACT/D,WAAS,EACTkC,QAAQ,WACR/F,aAAW,iBACX6H,YAAY,4CACZH,KAAK,OACLzD,MAAOsD,EAAUS,KACjBlE,SAAU2D,gB,sEC9ChBrH,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvC8B,YAAa,CACXtE,OAAQwC,EAAMK,QAAQ,GACtBjG,SAAU,KAEZ2H,YAAa,CACXC,UAAWhC,EAAMK,QAAQ,IAE3BlG,MAAO,CACLC,SAAU,SAIC,SAAS6H,KAEtB,IAAM3H,EAAUL,KAFsB,EAGJO,qBAAWsG,IAAtCM,EAH+B,EAG/BA,UAAWC,EAHoB,EAGpBA,aACZa,EAAMd,EAAUe,QAChBC,EAAOhB,EAAUiB,UACjBC,EAAOlB,EAAUkB,KAkBjBhB,EAAwB,SAAC1D,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,QAGnD,OACI,cAAC/B,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACE,cAACC,EAAA,EAAD,CAAOC,UAAW7B,EAAQH,MAAOqH,KAAK,QAAQ3H,aAAW,eAAzD,SACE,eAAC6C,EAAA,EAAD,WACE,eAACL,EAAA,EAAD,WACE,uCAEA,cAACC,EAAA,EAAD,CAAWoD,MAAO,CACd,MAAU,OADd,SAGE,cAAC6C,GAAA,EAAD,CAAa3C,QAAQ,WAAW4B,KAAK,QAAQrF,UAAW7B,EAAQwH,YAAhE,SACE,eAACU,GAAA,EAAD,CAAQC,UAAW,EAAG3E,MAAOsD,EAAUe,SAAW,OAAQZ,KAAK,QAAQ5D,SAAU,SAAAC,GAC7E0D,EAAsB1D,GACtByD,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoBiB,UAAW,aAFzD,UAIE,cAACK,GAAA,EAAD,CAAUC,UAAQ,EAAC7E,MAAM,OAAO8E,OAAO,WAJzC,IAKIC,KAAUlG,KAAI,SAACgC,EAAMmE,GACnB,OAAQ,cAACJ,GAAA,EAAD,CAAU5E,MAAOa,EAAjB,SACLA,GADiCmE,aAQ9C,cAACxG,EAAA,EAAD,OAEF,eAACD,EAAA,EAAD,WACE,sCACA,cAACC,EAAA,EAAD,UACE,cAACiG,GAAA,EAAD,CAAa3C,QAAQ,WAAW4B,KAAK,QAAQrF,UAAW7B,EAAQwH,YAAhE,SACE,eAACU,GAAA,EAAD,CAAQC,UAAW,EAAG3E,MAAOsD,EAAUkB,MAAQ,OAAQf,KAAK,OAAO5D,SAAU2D,EAA7E,UACE,cAACoB,GAAA,EAAD,CAAUC,UAAQ,EAAC7E,MAAM,OAAO8E,OAAO,WADzC,IAEIG,KAAMpG,KAAI,SAACgC,EAAMmE,GACf,OAAQ,cAACJ,GAAA,EAAD,CAAU5E,MAAOa,EAAjB,SACLA,GADiCmE,aAQ9C,cAACxG,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CAAWmE,WAAS,EAAC/D,WAAS,EAACkC,QAAQ,WAAW/F,aAAW,iBAAiB0H,KAAK,iBAAiByB,WAAY,CAC5GC,UAAU,GACTnF,MAnEbsD,EAAUe,SAAWf,EAAUkB,KACzBY,KAAchB,GAAKiB,eAAgBb,GAEnC,UAmEF,eAACjG,EAAA,EAAD,WACE,2CACA,cAACC,EAAA,EAAD,UACE,cAACiG,GAAA,EAAD,CAAa3C,QAAQ,WAAW4B,KAAK,QAAQrF,UAAW7B,EAAQwH,YAAhE,SACE,eAACU,GAAA,EAAD,CAAQC,UAAW,EAAG3E,MAAOsD,EAAUiB,WAAa,OAAQd,KAAK,YAAY5D,SAAU2D,EAAvF,UACE,cAACoB,GAAA,EAAD,CAAUC,UAAQ,EAAC7E,MAAM,OAAO8E,OAAO,WADzC,IAEIxB,EAAUe,SAAWD,GAAOkB,KAAYlB,GAAKvF,KAAI,SAACgC,EAAMmE,GACtD,OAAQ,cAACJ,GAAA,EAAD,CAAU5E,MAAOa,EAAjB,SACLA,GADiCmE,aAQ9C,cAACxG,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CAAWmE,WAAS,EAAC/D,WAAS,EAACkC,QAAQ,WAAW/F,aAAW,iBAAiB0H,KAAK,qBAAqByB,WAAY,CAChHC,UAAU,GACTnF,MAhFbsD,EAAUe,SAAWf,EAAUiB,UACzBa,KAAchB,GAAKmB,oBAAqBjB,GAExC,iBC/Cd,IAAMnI,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCsD,UAAW,CACTC,MAAO,GAEP,UAAW,CACTC,UAAW,eAKF,SAASC,KAAmB,IAElCrC,EAAa5G,qBAAWsG,IAAxBM,UACDc,EAAMd,EAAUe,QACd7H,EAAUL,KAUlB,OACU,cAACqD,EAAA,EAAD,CACEsC,QAAQ,WACR4B,KAAK,QACLrF,UAAW7B,EAAQgJ,UACnB/B,KAAK,SACL9D,MAAM,SACNuF,WAAY,CACVC,UAAU,GAEZnF,MAjBNsD,EAAUe,QACJe,KAAchB,GAAKwB,OAEnB,KCrBd,IAAMzJ,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCsD,UAAW,CACTC,MAAO,GAEP,UAAW,CACTC,UAAW,eAKF,SAASG,KAAmB,IAAD,EAENnJ,qBAAWsG,IAAtCM,EAFiC,EAEjCA,UAAWC,EAFsB,EAEtBA,aACZ/G,EAAUL,KAShB,OACU,cAACqD,EAAA,EAAD,CACEsG,KAAK,SACLhE,QAAQ,WACR4B,KAAK,QACL/D,MAAM,SACNoG,IAAK,EACLtC,KAAK,SACLpF,UAAW7B,EAAQgJ,UACnBxF,MAAOsD,EAAU0C,QAAU,GAC3BnG,SAjBkB,SAACC,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,UCnBrD,IAAM7D,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCsD,UAAW,CACTC,MAAO,GAEP,UAAW,CACTC,UAAW,eAKF,SAASO,KAAkB,IAAD,EAENvJ,qBAAWsG,IAArCM,EAFgC,EAEhCA,UAAWC,EAFqB,EAErBA,aACV/G,EAAUL,KASlB,OACU,cAACqD,EAAA,EAAD,CACEsG,KAAK,SACLhE,QAAQ,WACR4B,KAAK,QACLrF,UAAW7B,EAAQgJ,UACnB/B,KAAK,QACL9D,MAAM,QACNoG,IAAK,EACL/F,MAAOsD,EAAU4C,OAAS,GAC1BrG,SAjBkB,SAACC,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,UClBrD,IAAM7D,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCsD,UAAW,CACTC,MAAO,GAEP,UAAW,CACTC,UAAW,UAEbhG,OAAQ,OAIG,SAASyG,KAAe,IAAD,EAEHzJ,qBAAWsG,IAArCM,EAF6B,EAE7BA,UAAWC,EAFkB,EAElBA,aACZa,EAAMd,EAAUe,QACd7H,EAAUL,KAiBlB,OAAQ,qCACE,cAACqD,EAAA,EAAD,CACEsG,KAAK,SACLhE,QAAQ,WACRnC,MAAM,KACNoG,IAAK,EACLrC,KAAK,QACLrF,UAAW7B,EAAQgJ,UACnB/B,KAAK,KACLzD,MAAOsD,EAAU8C,IAAM,GACvBvG,SAjBkB,SAACC,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,UAczC,cAACR,EAAA,EAAD,CACEsC,QAAQ,WACRnC,MAAM,SACN+D,KAAK,QACLrF,UAAW7B,EAAQgJ,UACnB/B,KAAK,QACLyB,WAAY,CACVC,UAAU,GAEZnF,MAlCNsD,EAAUe,SAAWf,EAAU+C,UACzB,MAAQjB,KAAchB,GAAKkC,OAASC,SAASjD,EAAU+C,UAAUG,MAAK,SAAAC,GAAC,MAAmB,QAAfA,EAAEC,YAAoBC,MAAO,KAExG,QCtBd,IAAMxK,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCsD,UAAW,CACTC,MAAO,GAEP,UAAW,CACTC,UAAW,eAKF,SAASkB,KAAkB,IAAD,EAENlK,qBAAWsG,IAArCM,EAFgC,EAEhCA,UAAWC,EAFqB,EAErBA,aACV/G,EAAUL,KASlB,OACU,cAACqD,EAAA,EAAD,CACEsG,KAAK,SACLhE,QAAQ,WACR4B,KAAK,QACL/D,MAAM,QACNtB,UAAW7B,EAAQgJ,UACnBO,IAAK,EACLtC,KAAK,QACLzD,MAAOsD,EAAUuD,OAAS,GAC1BhH,SAjBkB,SAACC,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,UCnBrD,IAAM7D,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCsD,UAAW,CACTC,MAAO,GAEP,UAAW,CACTC,UAAW,UAEbhG,OAAQ,OAIG,SAASoH,KAAe,IAAD,EAEHpK,qBAAWsG,IAArCM,EAF6B,EAE7BA,UAAWC,EAFkB,EAElBA,aACZ/G,EAAUL,KAkBhB,OAAQ,qCACE,cAACqD,EAAA,EAAD,CACEsG,KAAK,SACLhE,QAAQ,WACRnC,MAAM,KACNoG,IAAK,EACLrC,KAAK,QACLrF,UAAW7B,EAAQgJ,UACnB/B,KAAK,KACLzD,MAAOsD,EAAUyD,IAAM,GACvBlH,SAjBkB,SAACC,GAC7B,IAAMC,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KACpBF,GAAa,SAAAD,GAAS,oCAASA,GAAT,mBAAoBG,EAAOzD,UAczC,cAACR,EAAA,EAAD,CACEsC,QAAQ,WACR4B,KAAK,QACL/D,MAAM,SACNtB,UAAW7B,EAAQgJ,UACnB/B,KAAK,QACLyB,WAAY,CACVC,UAAU,GAEZnF,MAlCNsD,EAAUuD,MACJ,MAAQN,SAASjD,EAAUuD,MAAM,IAAM,GAEvC,QCVC,SAASG,KAEtB,OAAQ,cAAC/I,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACN,cAACC,EAAA,EAAD,UACE,cAACQ,EAAA,EAAD,UACE,eAACL,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UAAW,cAACoI,GAAD,MACX,cAACpI,EAAA,EAAD,UAAW,cAACsI,GAAD,MACX,cAACtI,EAAA,EAAD,UAAW,cAACmH,GAAD,MACX,cAACnH,EAAA,EAAD,UAAW,cAACqH,GAAD,MACX,cAACrH,EAAA,EAAD,UAAW,cAACyH,GAAD,MACX,cAACzH,EAAA,EAAD,UAAW,cAAC2H,GAAD,e,8DCZfhK,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvC+E,KAAM,CACFxB,MAAO,IACPyB,QAAS,GAEbC,WAAY,CACRzB,UAAW,UAEf1B,YAAa,CACXtE,OAAQ,EACR+F,MAAO,IACPC,UAAW,UAEbF,UAAW,CACTC,MAAO,IACP,UAAW,CACTC,UAAW,WAGf0B,cAAe,CACb3B,MAAO,IACP,UAAW,CACTC,UAAW,SACX2B,WAAY,OACZC,SAAU,SAKD,SAASC,KAEtB,IAAM/K,EAAUL,KAF2B,EAGTO,qBAAWsG,IAAtCM,EAHoC,EAGpCA,UAAWC,EAHyB,EAGzBA,aAEZiE,EAAqB,SAAA1I,GAAK,OAAI,SAAA2I,GAClC,IAAIC,EAAY,aAAOpE,EAAU+C,WACjCqB,EAAa5I,GAAb,6BACKwE,EAAU+C,UAAUvH,IADzB,IAEE6H,MAAOc,EAAE1H,OAAOC,QAElBuD,GAAa,SAAAD,GAAS,oCACjBA,GADiB,IAEpB+C,UAAWqB,SAITC,EAA0B,SAAA7I,GAAK,OAAI,SAAA2I,GACvC,IAAIC,EAAY,aAAOpE,EAAU+C,WACjCqB,EAAa5I,GAAb,6BACKwE,EAAU+C,UAAUvH,IADzB,IAEE8I,WAAYH,EAAE1H,OAAOC,QAEvBuD,GAAa,SAAAD,GAAS,oCACjBA,GADiB,IAEpB+C,UAAWqB,SAITG,EAAkB,SAACC,EAAcC,GAErC,GAAID,GAAgBC,EAAmB,CACrC,IAAIC,EAGJF,EAAevB,SAASuB,EAAc,IAElC,CAAC,EAAG,EAAG,GAAGG,QAAQH,IAAiB,EACrCE,GAAgB,EACP,CAAC,EAAG,GAAGC,QAAQH,IAAiB,EACzCE,GAAgB,EACP,CAAC,EAAG,EAAG,GAAGC,QAAQH,IAAiB,EAC5CE,GAAgB,EACP,CAAC,EAAG,GAAI,GAAI,IAAIC,QAAQH,IAAiB,EAClDE,EAAe,EACN,CAAC,GAAI,GAAI,IAAIC,QAAQH,IAAiB,EAC/CE,EAAe,EACN,CAAC,GAAI,IAAIC,QAAQH,IAAiB,EAC3CE,EAAe,EACW,KAAjBF,IACTE,EAAe,GAUjB,IAAIE,EAAYF,GANU,gBAAtBD,EACU,EAEA,GAKd,OAAIG,EAAW,EACL,KAAOA,EAAW,IAElB,IAAMA,EAAW,IAG3B,MAAQ,IAIZ,OACE,cAACC,GAAA,EAAD,CAAMC,WAAS,EAAC7F,QAAS,EAAG8F,QAAQ,SAApC,SAEI/E,EAAU+C,WAAa/C,EAAU+C,UAAUxH,KAAI,SAACwH,EAAWvH,GACzD,IAAMwJ,EAAKjC,EAAUK,SACrB,OACA,cAACyB,GAAA,EAAD,CAAMI,MAAI,EAAV,SACE,eAACC,GAAA,EAAD,CAAMnK,UAAW7B,EAAQyK,KAAzB,UACE,cAACwB,GAAA,EAAD,CAAYjG,MAAO6D,EAAUK,SAAUrI,UAAW7B,EAAQ2K,aAC1D,eAACuB,GAAA,EAAD,WACI,cAAClJ,EAAA,EAAD,CAAWsG,KAAK,SAAShE,QAAQ,WAAW4B,KAAK,QAAQhE,OAAO,OAAOqG,IAAK,EAAG4C,IAAK,GAAIlF,KAAM4C,EAAUK,SAAW,QAAS1G,MAAOqG,EAAUM,MAAOtI,UAAW7B,EAAQgJ,UAAW3F,SAAU2H,EAAmB1I,KAC/M,cAACU,EAAA,EAAD,CAAWsC,QAAQ,WAAW2B,KAAM4C,EAAUK,SAAW,WAAY1G,MAAO6H,EAAgBxB,EAAUM,MAAON,EAAUuB,YAAa1C,WAAY,CAACC,UAAU,GAAO9G,UAAW7B,EAAQ4K,gBACrL,cAAC3C,GAAA,EAAD,CAAa3C,QAAQ,WAAW4B,KAAK,QAAQrF,UAAW7B,EAAQwH,YAAhE,SACE,cAACU,GAAA,EAAD,CAAQC,UAAW,EAAG3E,MAAOqG,EAAUuB,YAAc,OAAQnE,KAAM4C,EAAUK,SAAW,aAAc7G,SAAU8H,EAAwB7I,GAAxI,SAEI8J,KAAoBN,GAAIzJ,KAAI,SAACgC,EAAMmE,GACjC,OAAQ,cAACJ,GAAA,EAAD,CAAU5E,MAAOa,EAAjB,SACLA,GADiCmE,iBAVpClG,QCpH1B,IAAM3C,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJsD,MAAO,QAEToD,QAAS,CACPvB,SAAUpF,EAAM4G,WAAWC,QAAQ,IACnC1B,WAAYnF,EAAM4G,WAAWE,mBAE/B3M,MAAO,CACLC,SAAU,SAIC,SAAS2M,KAEtB,IAAMzM,EAAUL,KAFuB,EAGLO,qBAAWsG,IAAtCM,EAHgC,EAGhCA,UAAWC,EAHqB,EAGrBA,aAGZ2F,EAAa,SAAApK,GAAK,OAAI,SAAA2I,GAC1B,IAAI0B,EAAQ,aAAO7F,EAAU8F,OAC7BD,EAASrK,GAAT,6BAAsBwE,EAAU8F,MAAMtK,IAAtC,IAA8CuK,KAAM5B,EAAE1H,OAAOC,QAC7DuD,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB8F,MAAOD,SAoBnD,OACI,cAAClL,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACF,eAACC,EAAA,EAAD,CAAOC,UAAW7B,EAAQH,MAAON,aAAW,eAA5C,UACE,cAACuC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAW8K,MAAM,SAAjB,kBACA,cAAC9K,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,MAAM2C,QAAS,kBAZ5B,WAClB,IAAMyK,EAAQ,uBAAO7F,EAAU8F,OAAjB,CAAwB,CAACC,KAAM,MAC7C9F,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB8F,MAAOD,OAUGI,IAA5C,SACE,cAAC5K,EAAA,EAAD,aAKR,cAACC,EAAA,EAAD,UAEG0E,EAAU8F,OAAS9F,EAAU8F,MAAMvK,KAAI,SAACuK,EAAMtK,GAC9C,OACE,eAACP,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEmE,WAAS,EACT/D,WAAS,EACTkC,QAAQ,WACR/F,aAAW,iBACX6H,YAAY,qBACZ5D,MAAOoJ,EAAMC,KACb5F,KAAM,OAAS3E,EACfe,SAAUqJ,EAAWpK,OAGzB,cAACN,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,SAAS2C,QAAS,kBA/ClC,SAAAI,GACpB,IAAMqK,EAAQ,aAAO7F,EAAU8F,OACA,IAA3B9F,EAAU8F,MAAMI,QAClBL,EAASM,OAAO3K,EAAO,GACvByE,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB8F,MAAOD,QAEjDrL,MAAM,2BAyCoD4L,CAAc5K,IAA7D,SACE,cAACG,EAAA,EAAD,UAfOH,QAsBpB,+B,cChFA3C,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJwH,QAAS,OACTC,eAAgB,SAChBC,SAAU,OACVC,UAAW,OACX5C,QAAShF,EAAMK,QAAQ,IACvB7C,OAAQ,GAEVqK,KAAM,CACJrK,OAAQwC,EAAMK,QAAQ,KAExByB,YAAa,CACXtE,OAAQwC,EAAMK,QAAQ,GACtBjG,SAAU,KAEZ2H,YAAa,CACXC,UAAWhC,EAAMK,QAAQ,IAE3BlG,MAAO,CACLC,SAAU,SAIC,SAAS0N,KAEtB,IAAMxN,EAAUL,KAFsB,EAGLO,qBAAWsG,IAArCM,EAH+B,EAG/BA,UAAWC,EAHoB,EAGpBA,aACZa,EAAMd,EAAUe,QAqDhBb,EAAwB,SAAC1D,EAAOhB,GACpC,IAAMiB,EAASD,EAAMC,OACfC,EAAQD,EAAOC,MACfyD,EAAO1D,EAAO0D,KAChBwG,EAAQ,aAAO3G,EAAU4G,OAC7BD,EAASnL,GAAT,6BAAsBwE,EAAU4G,MAAMpL,IAAtC,mBAA+C2E,EAAOzD,IACtDuD,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB4G,MAAOD,QAI7CE,EAAY,SAACrL,EAAOkG,GAAR,OAAgB,WAChC,IAAIiF,EAAQ,aAAO3G,EAAU4G,OACzBE,EAAUH,EAASnL,GACnBuL,EAAW,aAAOD,EAAQE,MAC9BD,EAAcA,EAAYE,QAAO,SAAAD,GAAI,OAAIA,EAAKtF,MAAQA,KACtDoF,EAAO,6BAAOA,GAAP,IAAgBE,KAAMD,IAC7BJ,EAASnL,GAASsL,EAClB7G,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB4G,MAAOD,SAqBnD,OACE,cAAChM,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACE,eAACC,EAAA,EAAD,CAAOC,UAAW7B,EAAQH,MAAON,aAAW,eAA5C,UACE,cAACuC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAW8K,MAAM,SAAjB,kBACA,cAAC9K,EAAA,EAAD,CAAW8K,MAAM,SAAjB,kBACA,cAAC9K,EAAA,EAAD,CAAW8K,MAAM,SAASkB,QAAQ,IAAlC,yBACA,cAAChM,EAAA,EAAD,CAAW8K,MAAM,SAAjB,mBACA,cAAC9K,EAAA,EAAD,CAAW8K,MAAM,SAAjB,kBACA,cAAC9K,EAAA,EAAD,CAAW8K,MAAM,SAAjB,kBACA,cAAC9K,EAAA,EAAD,CAAW8K,MAAM,SAAjB,kBACA,cAAC9K,EAAA,EAAD,CAAW8K,MAAM,SAASkB,QAAQ,IAAlC,oBACA,cAAChM,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,MAAM2C,QAAS,kBApB/B,WACjB,IAAMuL,EAAQ,uBAAO3G,EAAU4G,OAAjB,CAAwB,CAACzG,KAAM,GAAIgH,YAAa,GAAIC,OAAQ,GAAI5E,KAAM,GAAI6E,MAAO,GAAIC,KAAM,GAAIC,KAAM,GAAIP,KAAM,MAC7H/G,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB4G,MAAOD,OAkBKa,IAA5C,SACE,cAACnM,EAAA,EAAD,aAKR,eAACC,EAAA,EAAD,WAEG0E,EAAU4G,OAAS5G,EAAU4G,MAAMrL,KAAI,SAACqL,EAAMpL,GAC9C,OACE,eAACP,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEI,WAAS,EACTkC,QAAQ,WACR/F,aAAW,iBACX6H,YAAY,YACZ5D,MAAOkK,EAAMzG,KACbA,KAAK,OACL5D,SAAW,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,QAEtD,cAACN,EAAA,EAAD,CAAW8K,MAAM,SAAjB,SACE,cAAC7E,GAAA,EAAD,CAAa3C,QAAQ,WAAWzD,UAAW7B,EAAQwH,YAAnD,SACA,eAACU,GAAA,EAAD,CAAQC,UAAW,EAAG3E,MAAOkK,EAAMpE,KAAMrC,KAAK,OAAO5D,SAAW,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,IAAvG,UACE,cAAC8F,GAAA,EAAD,CAAUC,UAAQ,EAAC7E,MAAM,OAAO8E,OAAO,WACvC,cAACF,GAAA,EAAD,CAAU5E,MAAM,OAAhB,kBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,SAAhB,oBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,SAAhB,2BAIJ,cAACxB,EAAA,EAAD,CAAWgM,QAAQ,IAAnB,SACE,cAAChL,EAAA,EAAD,CACEmE,WAAS,EACT/D,WAAS,EACTkC,QAAQ,WACR/F,aAAW,iBACX6H,YAAY,mBACZ5D,MAAOkK,EAAMO,YACbhH,KAAK,cACL5D,SAAU,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,QAErD,cAACN,EAAA,EAAD,CAAW8K,MAAM,SAAjB,SACE,cAAC7E,GAAA,EAAD,CAAa3C,QAAQ,WAAWzD,UAAW7B,EAAQwH,YAAnD,SACA,eAACU,GAAA,EAAD,CAAQC,UAAW,EAAG3E,MAAOkK,EAAMS,MAAOlH,KAAK,QAAQ5D,SAAU,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,IAAxG,UACE,cAAC8F,GAAA,EAAD,CAAU5E,MAAM,OAAO8E,OAAO,WAC9B,cAACF,GAAA,EAAD,CAAU5E,MAAM,QAAhB,mBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,OAAhB,kBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,MAAhB,iBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,OAAhB,kBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,aAAhB,wBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,QAAhB,mBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,eAAhB,iCAIL,cAACxB,EAAA,EAAD,CAAW8K,MAAM,SAAjB,SACE,cAAC9J,EAAA,EAAD,CACCsG,KAAK,SACLlG,WAAS,EACTkC,QAAQ,WACRiE,IAAK,EACLtC,KAAK,OACLzD,MAAOkK,EAAMU,KACb/K,SAAU,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,QAEnD,cAACN,EAAA,EAAD,CAAW8K,MAAM,SAAjB,SACE,cAAC9J,EAAA,EAAD,CACAsG,KAAK,SACLlG,WAAS,EACTkC,QAAQ,WACRiE,IAAK,EACLtC,KAAK,OACLzD,MAAOkK,EAAMW,KACbhL,SAAU,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,QAEnD,cAACN,EAAA,EAAD,CAAW8K,MAAM,SAAjB,SACE,qBAAKjL,UAAW7B,EAAQ2F,KAAxB,SACK+H,EAAMI,KAAKzL,KAAI,SAACgC,GACf,OACE,6BACE,cAACkK,GAAA,EAAD,CACErH,KAAK,QACLvD,MAAM,UACNR,MAAOkB,EAAKmK,IACZC,SAAUd,EAAUrL,EAAM+B,EAAKmE,KAC/B3G,UAAW7B,EAAQuN,QANdlJ,EAAKmE,YAaxB,cAACxG,EAAA,EAAD,CAAWgM,QAAQ,IAAnB,SACE,cAAChL,EAAA,EAAD,CACEsG,KAAK,SACLlG,WAAS,EACTkC,QAAQ,WACRiE,IAAK,EACL/F,MAAOkK,EAAMQ,OACbjH,KAAK,SACL5D,SAAU,SAACC,GAAD,OAAW0D,EAAsB1D,EAAMhB,QAErD,cAACN,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,SAAS2C,QAAS,kBAvIpC,SAAAI,GACpB,IAAMmL,EAAQ,aAAO3G,EAAU4G,OACA,IAA3B5G,EAAU4G,MAAMV,QAClBS,EAASR,OAAO3K,EAAO,GACvByE,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoB4G,MAAOD,QAEjDnM,MAAM,2BAiIsDoN,CAAcpM,IAA7D,SACI,cAACG,EAAA,EAAD,UA/FKH,MAoGlB,eAACP,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAW8K,MAAM,QAAQkB,QAAQ,KAAjC,kBACA,cAAChM,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEsG,KAAK,SACLlG,WAAS,EACTkC,QAAQ,WACR2B,KAAK,YACLyB,WAAY,CACVC,UAAU,GAEZnF,MA9NRsD,EAAU4G,MACJ5G,EAAU4G,MAAMiB,QAAO,SAACC,EAAUvK,GAAX,OAAoBuK,EAAY7E,SAAU1F,EAAK6J,QAAU,EAAG,MAAK,GAExF,OA6NF,cAAClM,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACEI,WAAS,EACTkC,QAAQ,WACR2B,KAAK,UACLyB,WAAY,CACVC,UAAU,GAEZnF,MAhOE,WAEd,GAAIsD,EAAUe,SAAWf,EAAU+C,UAAUG,MAAK,SAAAC,GAAC,MAAmB,QAAfA,EAAEC,YAAoBC,OAASrD,EAAU+C,UAAUG,MAAK,SAAAC,GAAC,MAAmB,QAAfA,EAAEC,YAAoBkB,WAAY,CACpJ,IACII,EADAqD,EAAM/H,EAAU+C,UAAUG,MAAK,SAAAC,GAAC,MAAmB,QAAfA,EAAEC,YAEtCqB,EAAoBsD,EAAIzD,WACxBE,EAAevB,SAAS8E,EAAI1E,MAAM,IAGlC,CAAC,EAAG,EAAG,GAAGsB,QAAQH,IAAiB,EACrCE,GAAgB,EACP,CAAC,EAAG,GAAGC,QAAQH,IAAiB,EACzCE,GAAgB,EACP,CAAC,EAAG,EAAG,GAAGC,QAAQH,IAAiB,EAC5CE,GAAgB,EACP,CAAC,EAAG,GAAI,GAAI,IAAIC,QAAQH,IAAiB,EAClDE,EAAe,EACN,CAAC,GAAI,GAAI,IAAIC,QAAQH,IAAiB,EAC/CE,EAAe,EACN,CAAC,GAAI,IAAIC,QAAQH,IAAiB,EAC3CE,EAAe,EACW,KAAjBF,IACTE,EAAe,GAUjB,IAAIE,EAAYF,GANU,gBAAtBD,EACU,EAEA,GAKd,MAAQ,MAAQ3C,KAAchB,GAAKkH,SAAWpD,GAE9C,MAAQ,GA4LSqD,kB,cCxQjBpP,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJsD,MAAO,QAEToD,QAAS,CACPvB,SAAUpF,EAAM4G,WAAWC,QAAQ,IACnC1B,WAAYnF,EAAM4G,WAAWE,mBAE/B3M,MAAO,CACLC,SAAU,SAIC,SAASkP,KAEtB,IAAMhP,EAAUL,KAF+B,EAGdO,qBAAWsG,IAArCM,EAHwC,EAGxCA,UAAWC,EAH6B,EAG7BA,aAGZkI,EAAwB,SAAA3M,GAAK,OAAI,SAAA2I,GACrC,IAAIiE,EAAW,aAAOpI,EAAUqI,eAChCD,EAAY5M,GAAZ,6BAAyBwE,EAAUqI,cAAc7M,IAAjD,IAAyD8M,SAAUnE,EAAE1H,OAAO8L,UAC5EtI,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoBqI,cAAeD,SAGrDI,EAAgB,SAAAhN,GAAK,OAAI,SAAA2I,GAC7B,IAAIiE,EAAW,aAAOpI,EAAUqI,eAChCD,EAAY5M,GAAZ,6BAAyBwE,EAAUqI,cAAc7M,IAAjD,IAAyDiN,QAAStE,EAAE1H,OAAOC,QAC3EuD,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoBqI,cAAeD,SAoB3D,OACM,cAACzN,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACE,eAACC,EAAA,EAAD,CAAOC,UAAW7B,EAAQH,MAAON,aAAW,eAA5C,UACE,cAACuC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAWgM,QAAQ,IAAIlB,MAAM,SAA7B,qBACA,cAAC9K,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,MAAM2C,QAAS,kBAZhC,WACpB,IAAMgN,EAAW,uBAAOpI,EAAUqI,eAAjB,CAAgC,CAACI,QAAS,GAAIH,UAAU,KACzErI,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoBqI,cAAeD,OAUCM,IAA5C,SACE,cAACrN,EAAA,EAAD,aAKR,cAACC,EAAA,EAAD,UAEK0E,EAAUqI,eAAiBrI,EAAUqI,cAAc9M,KAAI,SAAC8M,EAAc7M,GACtE,OACE,eAACP,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACyN,GAAA,EAAD,CACExI,KAAM,uBAAyB3E,EAC/B+M,UAAWF,EAAcC,SACzB/L,SAAU4L,EAAsB3M,GAChCqB,MAAM,cAGR,cAAC3B,EAAA,EAAD,UACE,cAACgB,EAAA,EAAD,CACCmE,WAAS,EACT/D,WAAS,EACTkC,QAAQ,WACP/F,aAAW,iBACX6H,YAAY,kHACZ5D,MAAO2L,EAAcI,QACrBtI,KAAM,eAAiB3E,EACvBe,SAAUiM,EAAchN,OAE5B,cAACN,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAY1C,aAAW,SAAS2C,QAAS,kBAtDvC,SAAAI,GACvB,IAAM4M,EAAW,aAAOpI,EAAUqI,eACK,IAAnCrI,EAAUqI,cAAcnC,QAC1BkC,EAAYjC,OAAO3K,EAAO,GAC1ByE,GAAa,SAAAD,GAAS,oCAASA,GAAT,IAAoBqI,cAAeD,QAEzD5N,MAAM,2BAgD4DoO,CAAiBpN,IAAhE,SACE,cAACG,EAAA,EAAD,UAtBOH,a,qDCnEnB,SAASqN,KAEtB,OAAQ,yCACNC,KAAcvN,KAAI,SAACgC,EAAM/B,GACvB,OAAQ,eAACuN,GAAA,EAAD,WACN,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAACC,GAAA,EAAD,IAA9B,SAA+C3L,EAAK4C,OAEpD,cAACgJ,GAAA,EAAD,UACE,mBAAGC,wBAAyB,CAACC,OAAQ9L,EAAK4J,mBAJtB3L,MAFpB,OCFK,SAAS8N,KACtB,OAAQ,mCAEAC,KAAchO,KAAI,SAACgC,EAAK/B,GACtB,OACE,eAACuN,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAACC,GAAA,EAAD,IAA9B,SAA8C3L,EAAK4C,OACnD,cAACgJ,GAAA,EAAD,UACM,mBAAGC,wBAAyB,CAACC,OAAQ9L,EAAK4J,mBAHlC3L,QCJf,SAASgO,KAA+B,IAG/C1I,EADc1H,qBAAWsG,IAAxBM,UACee,QAEtB,OAAQ,yCACND,GAAO2I,KAAY3I,GAAK4I,cAAcnO,KAAI,SAACgC,EAAK/B,GAC9C,OAAQ,eAACuN,GAAA,EAAD,WACN,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAACC,GAAA,EAAD,IAA9B,SACG3L,EAAK4C,OAER,cAACgJ,GAAA,EAAD,UACE,mBAAGC,wBAAyB,CACxBC,OAAQ9L,EAAK4J,mBANG3L,MAFpB,OCLK,SAASmO,KAAmC,IAGnD7I,EADc1H,qBAAWsG,IAAxBM,UACee,QAEtB,OAAQ,yCACND,GAAO2I,KAAY3I,GAAK8I,iBAAiBrO,KAAI,SAACgC,EAAK/B,GACjD,OAAQ,eAACuN,GAAA,EAAD,WACN,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAACC,GAAA,EAAD,IAA9B,SACG3L,EAAK4C,OAER,cAACgJ,GAAA,EAAD,UACE,mBAAGC,wBAAyB,CACxBC,OAAQ9L,EAAK4J,mBANG3L,MAFpB,OCLK,SAASqO,KAAoC,IAGpD/I,EADc1H,qBAAWsG,IAAxBM,UACee,QAEtB,OAAQ,yCACND,GAAO2I,KAAY3I,GAAKgJ,kBAAkBvO,KAAI,SAACgC,EAAK/B,GAClD,OAAQ,eAACuN,GAAA,EAAD,WACN,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAACC,GAAA,EAAD,IAA9B,SACG3L,EAAK4C,OAER,cAACgJ,GAAA,EAAD,UACE,mBAAGC,wBAAyB,CACxBC,OAAQ9L,EAAK4J,mBANG3L,MAFpB,OCFV,SAASuO,GAASC,GAAQ,IAEtBC,EAIED,EAJFC,SACAvN,EAGEsN,EAHFtN,MACAlB,EAEEwO,EAFFxO,MACG0O,EALkB,aAMnBF,EANmB,8BAQvB,OAAQ,+CAAKG,KAAK,WAAW3I,OAAQ9E,IAAUlB,EAAOE,GAAE,0BAAqBF,GAASM,kBAAA,qBAA+BN,IAAa0O,GAA1H,aAEJxN,IAAUlB,GAAU,cAAC4O,GAAA,EAAD,CAAKC,EAAG,EAAR,SACjBJ,OAYT,SAASK,GAAU9O,GACjB,MAAO,CAACE,GAAG,cAAD,OAAgBF,GAAS,gBAAgB,mBAAhB,OAAoCA,IAGzE,IAAM3C,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJsD,MAAO,OACPrD,SAAU,EACVyL,gBAAiB3L,EAAM4L,QAAQC,WAAWC,WAI/B,SAASC,KAEtB,IAAMzR,EAAUL,KAF4B,EAGlBQ,mBAAS,GAHS,mBAGrCqD,EAHqC,KAG9BkO,EAH8B,KAQ5C,OAAQ,sBAAK7P,UAAW7B,EAAQ2F,KAAxB,UACN,cAACO,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACwL,GAAA,EAAD,CAAMnO,MAAOA,EAAOH,SANA,SAACC,EAAOsO,GAC9BF,EAASE,IAKwCrS,aAAW,sBAA1D,UACE,cAACsS,GAAA,EAAD,cAAK1O,MAAM,YAAeiO,GAAU,KACpC,cAACS,GAAA,EAAD,cAAK1O,MAAM,cAAiBiO,GAAU,KACtC,cAACS,GAAA,EAAD,cAAK1O,MAAM,eAAkBiO,GAAU,UAG3C,cAACP,GAAD,CAAUrN,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACgO,GAAD,MAEF,cAACO,GAAD,CAAUrN,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACmO,GAAD,MAEF,cAACI,GAAD,CAAUrN,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACqO,GAAD,SC3DN,SAASE,GAASC,GAAQ,IAChBC,EAAqCD,EAArCC,SAAUvN,EAA2BsN,EAA3BtN,MAAOlB,EAAoBwO,EAApBxO,MAAU0O,EADZ,aACsBF,EADtB,8BAGvB,OACE,+CACEG,KAAK,WACL3I,OAAQ9E,IAAUlB,EAClBE,GAAE,0BAAqBF,GACvBM,kBAAA,qBAA+BN,IAC3B0O,GALN,aAOGxN,IAAUlB,GACT,cAAC4O,GAAA,EAAD,CAAKC,EAAG,EAAR,SACGJ,OAaX,SAASK,GAAU9O,GACjB,MAAO,CACLE,GAAG,cAAD,OAAgBF,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,IAAM3C,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,EACVyL,gBAAiB3L,EAAM4L,QAAQC,WAAWC,WAI/B,SAASM,KAEtB,IAAM9R,EAAUL,KAFuB,EAGboS,IAAM5R,SAAS,GAHF,mBAGhCqD,EAHgC,KAGzBkO,EAHyB,KASvC,OACE,sBAAK7P,UAAW7B,EAAQ2F,KAAxB,UACE,cAACO,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACI,eAACwL,GAAA,EAAD,CAAMnO,MAAOA,EAAOH,SAPJ,SAACC,EAAOsO,GAC9BF,EAASE,IAM4CrS,aAAW,sBAA1D,UACE,cAACsS,GAAA,EAAD,cAAK1O,MAAM,YAAeiO,GAAU,KACpC,cAACS,GAAA,EAAD,cAAK1O,MAAM,YAAeiO,GAAU,KACpC,cAACS,GAAA,EAAD,cAAK1O,MAAM,SAAYiO,GAAU,UAGvC,cAAC,GAAD,CAAU5N,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACqN,GAAD,MAEF,cAAC,GAAD,CAAUnM,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAAC8N,GAAD,MAEF,cAAC,GAAD,CAAU5M,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACmP,GAAD,S,cCrEF9R,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvC8B,YAAa,CACXtE,OAAQwC,EAAMK,QAAQ,GACtBkD,MAAO,IACPC,UAAW,UAEbF,UAAW,CACTC,MAAO,IACP,UAAW,CACTC,UAAW,eAKF,SAAS8I,KAAc,IAAD,EAEX7R,qBAFW,mBAE5B8R,EAF4B,KAEtBC,EAFsB,OAGL/R,qBAHK,mBAG5BgS,EAH4B,KAGnBC,EAHmB,OAICjS,mBAAS,GAJV,mBAI5BkS,EAJ4B,KAIhBC,EAJgB,KAK7BtS,EAAUL,KAEhB,SAAS4S,EAAWC,GAElB,OADaC,KAAKC,MAAMD,KAAKE,SAAWH,GAAS,EAcnD,OAAQ,qCACN,eAACvK,GAAA,EAAD,CAAa3C,QAAU,WAAW4B,KAAO,QAAQrF,UAAa7B,EAAQwH,YAAtE,UACE,cAACoL,GAAA,EAAD,mBACA,eAAC1K,GAAA,EAAD,CAAQC,UAAW,EAAG0K,aAAa,OAAO1P,MAAM,OAAOE,SAAU,SAAAC,GAAU4O,EAAQ5O,EAAMC,OAAOC,QAAhG,UACE,cAAC4E,GAAA,EAAD,CAAUC,SAAS,WAAW7E,MAAM,OAAO8E,OAAO,WAClD,cAACF,GAAA,EAAD,CAAU5E,MAAM,IAAhB,gBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,IAAhB,gBACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,KAAhB,uBAGJ,uBACA,eAACyE,GAAA,EAAD,CAAa3C,QAAQ,WAAW4B,KAAK,QAAQrF,UAAW7B,EAAQwH,YAAhE,UACE,cAACoL,GAAA,EAAD,qBACA,eAAC1K,GAAA,EAAD,CAAQC,UAAW,EAAG0K,aAAa,OAAO1P,MAAM,SAASE,SAAU,SAAAC,GAAU8O,EAAW9O,EAAMC,OAAOC,QAArG,UACE,cAAC4E,GAAA,EAAD,CAAUC,SAAS,WAAW7E,MAAM,OAAO8E,OAAO,WAClD,cAACF,GAAA,EAAD,CAAU5E,MAAM,IAAhB,eACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,IAAhB,eACA,cAAC4E,GAAA,EAAD,CAAU5E,MAAM,IAAhB,qBAGJ,cAACE,EAAA,EAAD,CAAQxB,QAAW,kBA9BrB,SAAkBsQ,EAAOL,GACvBK,EAAQzI,SAASyI,EAAO,IACxBL,EAAUpI,SAASoI,EAAS,IAE5B,IADA,IAAIW,EAAQ,EACHC,EAAI,EAAGA,EAAIZ,EAASY,IAC3BD,GAAgBP,EAAWC,GAE7B,OAAOF,EAAcQ,GAuBIE,CAASf,EAAME,IAAxC,kBACA,cAACnP,EAAA,EAAD,CAAWsC,QAAQ,WAAW4B,KAAK,QAAQ/D,MAAM,SAAStB,UAAW7B,EAAQgJ,UAAWxF,MAAS6O,OCzCrG,SAASxB,GAASC,GAAQ,IAEtBC,EAIED,EAJFC,SACAvN,EAGEsN,EAHFtN,MACAlB,EAEEwO,EAFFxO,MACG0O,EALkB,aAMnBF,EANmB,8BAQvB,OAAQ,+CAAKG,KAAK,WAAW3I,OAAQ9E,IAAUlB,EAAOE,GAAE,0BAAqBF,GAASM,kBAAA,qBAA+BN,IAAa0O,GAA1H,aAEJxN,IAAUlB,GAAU,cAAC4O,GAAA,EAAD,CAAKC,EAAG,EAAR,SACjBJ,OAYT,SAASK,GAAU9O,GACjB,MAAO,CAACE,GAAG,cAAD,OAAgBF,GAAS,gBAAgB,mBAAhB,OAAoCA,IAGzE,IAAM3C,GAAYC,aAAW,SAAC8F,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,EACVyL,gBAAiB3L,EAAM4L,QAAQC,WAAWC,WAa/B,SAASyB,KAEtB,IAAMjT,EAAUL,KAFuB,EAGbQ,mBAAS,GAHI,mBAGhCqD,EAHgC,KAGzBkO,EAHyB,OAILvR,mBAAS,IAJJ,mBAIhC2G,EAJgC,KAIrBC,EAJqB,OAKHL,cAA7BC,EALgC,EAKhCA,YAAaC,EALmB,EAKnBA,aACb3G,EAAeC,qBAAWR,GAA1BO,YAOP6D,qBAAU,WACR,GAAI6C,GAAeC,EAUjB,OlCgBC,SAAyBjG,EAAUmG,EAAW/C,GACnD,OAAOlF,EAAGiC,WAAW,aAClBC,IAAIJ,GACJG,WAAW,cACXC,IAAI+F,GACJxC,WAAWP,GkC9BUwB,CAAgCoB,EAAaC,EAAc,CAC7E5C,KAAM,SAAAkP,GACJnM,EAAamM,EAAiB7O,SAEhChD,MAAO,SAACA,GACNC,MAAM,8DACNJ,QAAQG,MAAM,0BAA2BA,QAK9C,CAACsF,EAAaC,EAAcG,IAG/B,IAAMoM,EAAgBC,sBArCP,SAACC,EAAUC,GAC1B,IAAIC,EACJ,OAAM,WAAc,IAAD,uBAATC,EAAS,yBAATA,EAAS,gBACjBC,aAAaF,GACbA,EAAQG,YAAW,kBAAML,EAAQ,WAAR,EAAYG,KAAOF,IAiCZK,EAAS,SAAA7M,GAAS,OlCV/C,SAAuBnG,EAAUmG,EAAWzC,GACjD,OAAOxF,EAAGiC,WAAW,aAClBC,IAAIJ,GACJG,WAAW,cACXC,IAAI+F,GACJ9F,IAAIqD,GkCKiDkB,CAA8BoB,EAAaC,EAAcE,GAAW7F,MAAK,WAC/HC,QAAQC,KAAK,mBAAoB2F,MAChC1F,OAAM,SAACC,GACRC,MAAM,8DACNJ,QAAQG,MAAM,yBAA0BA,QACtC,KAAO,IAGXyC,qBAAU,WACJgD,GAAa8M,OAAOC,KAAK/M,GAAWkG,QAAU,GAAK/M,EAAYY,QAAUiG,EAAUlG,QACrFM,QAAQC,KAAK,kBAAmB2F,GAChCqM,EAAcrM,MAEf,CAACA,IAEJ,IAAMtC,EAAMC,mBAAQ,iBAAO,CAACqC,YAAWC,kBAAgB,CAACD,IAExD,OAAQ,eAAC,GAAepC,SAAhB,CAAyBlB,MAAOgB,EAAhC,UACN,cAACiC,GAAD,IACA,uBACA,sBAAK5E,UAAW7B,EAAQ2F,KAAxB,UACE,cAAC6E,GAAD,IACA,uBACA,cAACO,GAAD,IACA,uBACA,cAAC7E,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACwL,GAAA,EAAD,CAAMnO,MAAOA,EAAOH,SA/CF,SAACC,EAAOsO,GAC9BF,EAASE,IA8C0CrS,aAAW,sBAA1D,UACE,cAACsS,GAAA,EAAD,cAAK1O,MAAM,iBAAoBiO,GAAU,KACzC,cAACS,GAAA,EAAD,cAAK1O,MAAM,SAAYiO,GAAU,KACjC,cAACS,GAAA,EAAD,cAAK1O,MAAM,kBAAqBiO,GAAU,KAC1C,cAACS,GAAA,EAAD,cAAK1O,MAAM,QAAWiO,GAAU,KAChC,cAACS,GAAA,EAAD,cAAK1O,MAAM,SAAYiO,GAAU,KACjC,cAACS,GAAA,EAAD,cAAK1O,MAAM,eAAkBiO,GAAU,UAG3C,eAAC,GAAD,CAAU5N,MAAOA,EAAOlB,MAAO,EAA/B,UACE,cAACuE,GAAD,IACA,uBACA,cAACc,GAAD,OAEF,cAAC,GAAD,CAAUnE,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACmK,GAAD,MAEF,cAAC,GAAD,CAAUjJ,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAAC0M,GAAD,MAEF,cAAC,GAAD,CAAUxL,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACkL,GAAD,MAEF,cAAC,GAAD,CAAUhK,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAACwP,GAAD,MAEF,cAAC,GAAD,CAAUtO,MAAOA,EAAOlB,MAAO,EAA/B,SACE,cAAC0P,GAAD,YC/IR,IAEe8B,GAFOrU,0BCGP,SAASsU,KAAkB,IAEjCpN,EAAeD,cAAfC,YAEP,OAAQ,gCACN,eAACrH,EAAA,EAAD,CAAaC,aAAW,aAAxB,UACE,cAAC,IAAD,CAAMgD,GAAG,YAAT,kBACA,4BAAIoE,OAEN,4CAAeA,QCUnB,IAAMhH,GAAYC,YAAW,CAC3B+F,KAAM,CACJ7F,SAAU,KAEZkG,MAAO,CACL8E,SAAU,IAEZkJ,IAAK,CACHC,aAAc,MAKH,SAASC,KAEtB,IAAMlU,EAAUL,KAFwB,EAGhBQ,oBAAS,GAHO,mBAGjCC,EAHiC,KAG3BC,EAH2B,KAIjCM,EAAYT,qBAAW4T,IAAvBnT,SAJiC,EAKNR,mBAAS,IALH,mBAKjCgU,EALiC,KAKtBC,EALsB,KAMjCnU,EAAeC,qBAAWR,GAA1BO,YACA0G,EAAeD,cAAfC,YAMDlG,EAAe,WACnBJ,GAAQ,IASJgU,EAAgB,WAChB1N,GAAewN,ErCxBhB,SAAyBxT,EAASwT,EAAUvT,GACjD,OAAO/B,EAAGiC,WAAW,aAClBC,IAAIJ,GACJG,WAAW,cACXC,IAAIoT,GACJnT,IAAI,CACH6I,UAAW,CACT,CAACK,SAAU,MAAOC,MAAO,IAAKiB,WAAY,eAC1C,CAAClB,SAAU,MAAOC,MAAO,IAAKiB,WAAY,eAC1C,CAAClB,SAAU,MAAOC,MAAO,IAAKiB,WAAY,eAC1C,CAAClB,SAAU,MAAOC,MAAO,IAAKiB,WAAY,eAC1C,CAAClB,SAAU,MAAOC,MAAO,IAAKiB,WAAY,eAC1C,CAAClB,SAAU,MAAOC,MAAO,IAAKiB,WAAY,gBAE5CrD,UAAW,GACXyB,OAAQ,GACRlC,UAAW,GACXsF,MAAO,CACL,CAACC,KAAM,KAETsC,cAAe,CACb,CAACI,QAAS,GAAIH,UAAU,IAE1BvH,QAAS,GACTR,SAAU,GACVqC,MAAO,GACPE,GAAI,GACJ8D,MAAO,CACL,CAACzG,KAAM,GACPgH,YAAa,GACb3E,KAAM,GACN6E,MAAO,GACPC,KAAM,GACNF,OAAQ,GACRG,KAAM,GACNP,KAAM,KAERzD,MAAO,GACP9C,KAAM,GACN3G,MAAOA,EACPoH,KAAM,GACNuC,GAAI,KqChBJhF,CAAgCoB,EAAawN,EAAWlU,EAAYY,OAAOI,MAAK,WAC9EC,QAAQC,KAAK,qBAAsBgT,MAClC/S,OAAM,SAACC,GACRC,MAAM,iDACNJ,QAAQG,MAAM,2BAA4BA,MAG5CC,MAAM,gCAKJgT,EAAkB,SAAC3T,EAAUmG,GAC7BnG,GAAYmG,ErC0Cb,SAAyBnG,EAAUmG,GACxC,OAAOjI,EAAGiC,WAAW,aAClBC,IAAIJ,GACJG,WAAW,cACXC,IAAI+F,GACJtF,SqC9CC+D,CAAgC5E,EAAUmG,GAAW7F,MAAK,WACxDC,QAAQC,KAAK,qBAAsB2F,MAClC1F,OAAM,SAACC,GACRC,MAAM,iDACNJ,QAAQG,MAAM,2BAA4BA,MAG5CC,MAAM,kCAIV,OAAQ,qCACN,eAACqK,GAAA,EAAD,CAAMC,WAAS,EAAC7F,QAAS,EAAzB,UAEQpF,EAASA,UAAYA,EAASA,SAAS0B,KAAI,SAAC1B,EAAU2B,GACpD,OACE,cAACqJ,GAAA,EAAD,CAAMI,MAAI,EAACwI,GAAI,EAAf,SACA,eAACvI,GAAA,EAAD,CAAMnK,UAAW7B,EAAQ2F,KAAzB,UACE,cAACsG,GAAA,EAAD,CACGuI,OACE,cAACvS,EAAA,EAAD,CAAY1C,aAAW,SAAS2C,QAAS,kBAAMoS,EAAgB3N,EAAahG,EAASmG,YAArF,SACE,cAACrE,EAAA,EAAD,MAGJuD,MAAO,cAAC,IAAD,CAAMzD,GAAI,aAAeoE,EAAc,IAAMhG,EAASmG,UAAtD,SAAkEnG,EAASmG,YAClF2N,UAAW9T,EAAS+T,cAAc9T,QACrC,eAACsL,GAAA,EAAD,WACE,cAAC3F,EAAA,EAAD,CAAYjB,QAAQ,QAAQ5D,UAAU,IAAtC,SAA2Cf,EAAS+T,cAAc7M,UAClE,cAACtB,EAAA,EAAD,CAAYjB,QAAQ,QAAQ5D,UAAU,IAAtC,SAA2Cf,EAAS+T,cAAc1M,OAClE,cAACzB,EAAA,EAAD,CAAYjB,QAAQ,QAAQ5D,UAAU,IAAtC,SAA2Cf,EAAS+T,cAAc3M,YAClE,uBACA,eAACxB,EAAA,EAAD,CAAYjB,QAAQ,QAAQ5D,UAAU,IAAtC,iBAA+Cf,EAAS+T,cAAc9K,MACtE,eAACrD,EAAA,EAAD,CAAYjB,QAAQ,QAAQ5D,UAAU,IAAtC,iBAA+Cf,EAAS+T,cAAcnK,aAhBnDjI,MAuB7B,cAACqJ,GAAA,EAAD,CAAMI,MAAI,EAACwI,GAAI,EAAf,SACA,eAACvI,GAAA,EAAD,CAAMnK,UAAW7B,EAAQ2F,KAAzB,UACE,cAACsG,GAAA,EAAD,CAAYjG,MAAM,kBAClB,cAACkG,GAAA,EAAD,UACE,cAACjK,EAAA,EAAD,CAAY1C,aAAW,MAAM2C,QAzEjB,WACtB7B,GAAQ,IAwEE,SACE,cAAC8B,EAAA,EAAD,gBAOZ,eAACO,EAAA,EAAD,CAAQtC,KAAMA,EAAMuC,QAASlC,EAAcmC,kBAAgB,oBAA3D,UACE,cAACC,EAAA,EAAD,CAAaL,GAAG,oBAAhB,kCADF,IAC0E,eAACM,EAAA,EAAD,WACtE,cAACC,EAAA,EAAD,+HAGA,cAACC,EAAA,EAAD,CAAWC,WAAW,EAAMC,OAAO,QAAQV,GAAG,OAAOW,MAAM,uBAAuBC,WAAS,EAACC,SAAU,SAAAC,GAAK,OAAI8Q,EAAa9Q,EAAMC,OAAOC,aAE3I,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQxB,QAASzB,EAAckD,MAAM,UAArC,oBAGA,cAACD,EAAA,EAAD,CAAQxB,QApFK,WACjB7B,GAAQ,GACRgU,KAkFiC1Q,MAAM,UAAnC,uCCnIO,SAASgR,KAAiB,IAAD,EAENxU,mBAAS,IAFH,mBAE/BQ,EAF+B,KAErBiU,EAFqB,KAG/BjO,EAAeD,cAAfC,YAIP7C,qBAAU,WACR,GAAI6C,EAcF,OtCmEC,SAA0BhG,EAAUoD,GACzC,OAAOlF,EAAGiC,WAAW,aAClBC,IAAIJ,GACJG,WAAW,cACXwD,WAAWP,GsCpFUwB,CAAiCoB,EAAa,CAChE3C,KAAM,SAAAC,GAEJ,IAAM4Q,EAAuB5Q,EAAcE,KAAK9B,KAAI,SAAC+B,GACnD,MAAQ,CAAC0C,UAAW1C,EAAY5B,GAAIkS,cAAetQ,EAAYC,WAEjEuQ,GAAY,SAAAjU,GAAQ,MAAK,CAACA,SAAUkU,OAEtCxT,MAAO,SAACA,GACNC,MAAM,6DACNJ,QAAQG,MAAM,0BAA2BA,QAK9C,CAACsF,EAAaiO,IAEjB9Q,qBAAU,WACR5C,QAAQC,KAAK,kBAAmBR,KAC/B,CAACA,IAEJ,IAAM6D,EAAMC,mBAAQ,iBAAO,CAAC9D,WAAUiU,iBAAe,CAACjU,IAEtD,OAAQ,eAAC,GAAc+D,SAAf,CAAwBlB,MAAOgB,EAA/B,UACN,cAACuP,GAAD,IACA,uBACA,cAACG,GAAD,O,OChCW,SAASY,KACtB,OAAQ,cAACvO,EAAA,EAAD,CAAY7E,UAAW,OAAvB,SACN,cAACqT,EAAA,EAAD,UACE,eAAC,IAAD,WACE,cAAC9O,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO+O,OAAO,EAAMC,KAAK,uCAAuCvT,UAAWuR,KAC3E,cAAC,IAAD,CAAO+B,OAAO,EAAMC,KAAK,yBAAyBvT,UAAWwT,KAC7D,cAAC,IAAD,CAAOF,OAAO,EAAMC,KAAK,YAAYvT,UAAWkC,IAChD,cAAC,IAAD,CAAOlC,UAAW1D,cCZ5B,SAASmX,KAAS,IAAD,EAEuBhV,mBAAS,MAFhC,mBAERF,EAFQ,KAEKmV,EAFL,KAIT5Q,EAAMC,mBAAQ,iBAAO,CAACxE,iBAAe,CAACA,IAS5C,OAPA6D,qBAAU,WAIR,OAHoByB,EAAqB8P,oBAAmB,SAAAC,GAC1DF,EAAeE,QAGhB,IAEK,cAAC,EAAU5Q,SAAX,CAAoBlB,MAAOgB,EAA3B,SAEJvE,EACI,cAAC6U,GAAD,IACA,cAACpR,EAAA,EAAD,CAAQ4B,QAAQ,YAAY3B,MAAM,UAAUzB,QAASqD,EAArD,mCAKV,IAAMgQ,GAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAO,cAACR,GAAD,IAAUI,K","file":"static/js/main.34407caa.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function ErrorPage() {\r\n  return (\r\n      <h1>Oops! Page not found!</h1>\r\n    );\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\n// Initialise Firebase and setting up firestore and auth for use later\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\n\r\n// Authenticate with Firebase-auth using the Google provider object\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nprovider.setCustomParameters({\r\n  prompt: 'select_account'\r\n});\r\nexport function SignInWithGoogle() {\r\n  auth.signInWithPopup(provider)\r\n};\r\n\r\n// Firestore operations\r\n\r\n// Create new blank campaign\r\nexport function createCampaign(campaign,owner) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign).set({owner: owner})\r\n};\r\n\r\n// Create new blank character\r\nexport function createCharacter(campaign,charaName,owner) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(charaName)\r\n    .set({\r\n      abilities: [\r\n        {category: \"STR\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"DEX\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"CON\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"INT\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"WIS\", score: \"1\", affliction: \"Unafflicted\"},\r\n        {category: \"CHA\", score: \"1\", affliction: \"Unafflicted\"}\r\n      ],\r\n      alignment: \"\",\r\n      armour: \"\",\r\n      backstory: \"\",\r\n      bonds: [\r\n        {bond: \"\"},\r\n      ],\r\n      classFeatures: [\r\n        {feature: \"\", checkbox: false}\r\n      ],\r\n      dwClass: \"\",\r\n      fullName: \"\",\r\n      funds: \"\",\r\n      hp: \"\",\r\n      items: [\r\n        {name: \"\",\r\n        description: \"\",\r\n        type: \"\",\r\n        range: \"\",\r\n        cost: \"\",\r\n        weight: \"\",\r\n        uses: \"\",\r\n        tags: []}\r\n      ],\r\n      level: \"\",\r\n      look: \"\",\r\n      owner: owner,\r\n      race: \"\",\r\n      xp: \"\"\r\n    });\r\n};\r\n// Save Character\r\nexport function saveCharacter(campaign, character, data) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(character)\r\n    .set(data);\r\n};\r\n\r\n// Stream Campaign Data (all Campaigns)\r\nexport function streamCampaigns(observer) {\r\n  return db.collection(\"campaigns\")\r\n    .onSnapshot(observer);\r\n};\r\n// Stream Character Data (all Characters)\r\nexport function streamCharacters(campaign, observer) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .onSnapshot(observer);\r\n};\r\n// Stream Character Data (selected Characters)\r\nexport function streamCharacter(campaign, character, observer) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(character)\r\n    .onSnapshot(observer);\r\n};\r\n// Delete Campaign\r\nexport function deleteCampaign(campaign) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .delete()\r\n};\r\n// Delete Characters\r\nexport function deleteCharacter(campaign, character) {\r\n  return db.collection(\"campaigns\")\r\n    .doc(campaign)\r\n    .collection(\"characters\")\r\n    .doc(character)\r\n    .delete()\r\n};\r\n\r\n// Default Export\r\nexport default firebase;\r\n","import React from 'react';\r\nimport {Breadcrumbs} from '@material-ui/core';\r\n\r\nexport default function HomepageHeader() {\r\n\r\n  return (<div>\r\n    <Breadcrumbs aria-label=\"breadcrumb\">\r\n      <p>Home</p>\r\n    </Breadcrumbs>\r\n    <h1>Campaigns Homepage</h1>\r\n  </div>);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nconst HomepageState = createContext();\r\n\r\nexport default HomepageState;\r\n","import {createContext} from 'react';\r\n\r\nconst AuthState = createContext();\r\n\r\nexport default AuthState;\r\n","import React, {useContext, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport HomepageState from 'components/contexts/HomepageState';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport {Add, Delete} from '@material-ui/icons';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n});\r\n\r\nexport default function HomepageDetails() {\r\n\r\n  const classes = useStyles();\r\n  const {currentUser} = useContext(AuthState);\r\n  const [open, setOpen] = useState(false);\r\n  const [campaignName, setCampaignName] = useState(\"\");\r\n  const {campaigns} = useContext(HomepageState);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setOpen(false);\r\n    saveCampaign();\r\n  }\r\n\r\n  // Create New Campaign\r\n  const saveCampaign = () => {\r\n    if (campaignName) { //don't save unless details present\r\n      FirebaseService.createCampaign(campaignName, currentUser.email).then(() => {\r\n        console.info('Created Campaign:', campaignName);\r\n      }).catch((error) => {\r\n        alert(\"Failed to create campaign, see console error\");\r\n        console.error(\"Error creating document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot save blank campaign');\r\n    }\r\n  }\r\n\r\n  // Delete Campaign\r\n  const deleteCampaign = (campaignName) => {\r\n    if (campaignName) { //don't save unless details present\r\n      FirebaseService.deleteCampaign(campaignName).then(() => {\r\n        console.info('Deleted Campaign:', campaignName);\r\n      }).catch((error) => {\r\n        alert(\"Failed to delete campaign, see console error\");\r\n        console.error(\"Error deleting document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot delete blank campaign');\r\n    }\r\n  }\r\n\r\n  return (<>\r\n    <TableContainer component = {Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Campaign</TableCell>\r\n            <TableCell>Owner</TableCell>\r\n            <TableCell>\r\n              <IconButton aria-label=\"add\" onClick={handleClickOpen}>\r\n                <Add/>\r\n              </IconButton>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {\r\n            campaigns.campaigns && campaigns.campaigns.map((campaign, index) => {\r\n              return (<TableRow key={index}>\r\n                <TableCell>\r\n                  <Link to={\"/dw-react/\" + campaign.id}>{campaign.id}</Link>\r\n                </TableCell>\r\n                <TableCell>\r\n                  {campaign.owner}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <IconButton aria-label=\"delete\" onClick={() => deleteCampaign(campaign.id)}>\r\n                    <Delete/>\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>)\r\n            })\r\n          }\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n    <Dialog open={open} onClose={handleCancel} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">Create new campaign</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          To create a campaign, please enter the new campaign name here. You will not be able to change this once saved.\r\n        </DialogContentText>\r\n        <TextField autoFocus={true} margin=\"dense\" id=\"name\" label=\"Campaign Name\" fullWidth onChange={event => setCampaignName(event.target.value)}/>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Create Campaign\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  </>);\r\n}\r\n","import React, {useState, useEffect, useMemo} from 'react';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport HomepageHeader from 'components/homepage/HomepageHeader';\r\nimport HomepageDetails from 'components/homepage/HomepageDetails';\r\nimport HomepageState from 'components/contexts/HomepageState';\r\n\r\nexport default function Homepage() {\r\n\r\n  const [campaigns, setCampaigns] = useState({});\r\n\r\n  // Use an effect hook to subscribe to the campaign stream and\r\n  // automatically unsubscribe when the component unmounts.\r\n  useEffect(() => {\r\n    const unsubscribe = FirebaseService.streamCampaigns({\r\n      next: querySnapshot => {\r\n        const updatedCampaignList = querySnapshot.docs.map((docSnapshot) => {\r\n          return ({id: docSnapshot.id, owner: docSnapshot.data().owner})\r\n        });\r\n        setCampaigns(campaign => ({campaigns: updatedCampaignList}));\r\n      },\r\n      error: (error) => {\r\n        alert(\"Failed to load data correctly, see console error\");\r\n        console.error(\"Error loading data:\", error);\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, [setCampaigns]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Campaigns State:\", campaigns)\r\n  }, [campaigns]); //Only log to console if state actually changes\r\n\r\n  const ctx = useMemo(() => ({campaigns}), [campaigns]); //Memo-ised state for performance\r\n\r\n  return (<HomepageState.Provider value={ctx}>\r\n    <HomepageHeader/>\r\n    <br/>\r\n    <HomepageDetails/>\r\n  </HomepageState.Provider>);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nconst ProfileState = createContext();\r\n\r\nexport default ProfileState;\r\n","import React, {useContext} from 'react';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport ProfileState from 'components/contexts/ProfileState';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nexport default function ProfilePicture() {\r\n\r\n  const {currentUser} = useContext(AuthState);\r\n  const {show, setShow} = useContext(ProfileState);\r\n  const toggleSetShow = () => setShow(!show);\r\n\r\n  return (<Avatar src={currentUser.photoURL} alt=\"Google Profile\" onClick={() => toggleSetShow()}/>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport {Button} from '@material-ui/core';\r\n\r\nexport default function ProfileDetails() {\r\n\r\n  const {currentUser} = useContext(AuthState);\r\n\r\n  return (<div style={{\r\n      \"border\" : \"0\",\r\n      \"WebkitBorderRadius\" : \"50%\",\r\n      \"borderRadius\" : \"5px\",\r\n      \"display\" : \"inline-block\",\r\n      \"margin\" : \"0\",\r\n      \"position\" : \"absolute\",\r\n      \"top\" : \"50px\",\r\n      \"right\" : \"20px\",\r\n      \"color\" : \"#bdc1c6\",\r\n      \"backgroundColor\" : \"rgba(60, 64, 67, 0.9)\",\r\n      \"textAlign\" : \"left\",\r\n      \"font\" : \"500 12px 'Roboto', arial, sans-serif\",\r\n      \"letterSpacing\" : \"0.8px\",\r\n      \"lineHeight\" : \"16px\",\r\n      \"fontWeight\" : \"bold\",\r\n      \"padding\" : \"8px 8px\"\r\n    }}>\r\n    <div style={{\r\n        \"color\" : \"white\"\r\n      }}>Google Account</div>\r\n    <div>{currentUser.displayName}</div>\r\n    <div>{currentUser.email}</div>\r\n    <Button variant=\"contained\" color=\"primary\" onClick={() => FirebaseService.auth.signOut()}>LOG OUT</Button>\r\n  </div>);\r\n}\r\n","import React, {useState, useMemo} from 'react';\r\nimport ProfilePicture from 'components/profile/ProfilePicture';\r\nimport ProfileDetails from 'components/profile/ProfileDetails';\r\nimport ProfileState from 'components/contexts/ProfileState';\r\n\r\nexport default function UserProfile() {\r\n\r\n  const [show, setShow] = useState(false);\r\n  const ctx = useMemo(() => ({show, setShow}), [show]); //Memo-ised state for performance\r\n\r\n  return (<ProfileState.Provider value={ctx}>\r\n    <ProfilePicture/> {\r\n      show\r\n        ? <ProfileDetails/>\r\n        : null\r\n    }\r\n  </ProfileState.Provider>);\r\n}\r\n","import React from 'react';\r\nimport {AppBar, IconButton, Toolbar, Typography} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Menu} from '@material-ui/icons';\r\nimport UserProfile from 'components/profile/UserProfile';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function AppHeader() {\r\n  const classes = useStyles();\r\n  return (<div className={classes.root}>\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n          <Menu/>\r\n        </IconButton>\r\n        <Typography component={'span'} variant=\"h6\" className={classes.title}>\r\n          Dungeon World Character Sheet (v0.10.0 by Godmar02)\r\n        </Typography>\r\n        <UserProfile/>\r\n      </Toolbar>\r\n    </AppBar>\r\n  </div>);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nconst CharacterState = createContext();\r\n\r\nexport default CharacterState;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useParams} from 'react-router';\r\nimport {Breadcrumbs} from '@material-ui/core';\r\n\r\nexport default function CharacterSheetHeader() {\r\n\r\n  const {campaignURL, characterURL} = useParams();\r\n\r\n  return (<>\r\n    <Breadcrumbs aria-label = \"breadcrumb\">\r\n      <Link to=\"/dw-react\">Home</Link>\r\n      <Link to={\"/dw-react/\" + campaignURL}>{campaignURL}</Link>\r\n      <p>{characterURL}</p>\r\n    </Breadcrumbs>\r\n    <h1>Character: {characterURL}</h1>\r\n  </>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {Paper,Table,TableBody,TableCell,TableContainer,TableRow,TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nexport default function CharacterBasicDetails() {\r\n\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n  const classes = useStyles();\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (\r\n        <TableContainer component={Paper}>\r\n    <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\r\n    <TableBody>\r\n      <TableRow>\r\n        <th>FULL NAME</th>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n            placeholder=\"Add your characters full name here\"\r\n            value={character.fullName}\r\n            name=\"fullName\"\r\n            onChange={handleCharacterChange}/>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <th>BACKSTORY</th>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n            placeholder=\"Describe your character's backstory and anything else about your characters identity here\"\r\n            value={character.backstory}\r\n            name=\"backstory\"\r\n            onChange={handleCharacterChange}/>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <th>LOOK</th>\r\n        <TableCell>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            aria-label=\"empty textarea\"\r\n            placeholder=\"Describe your character's appearance here\"\r\n            name=\"look\"\r\n            value={character.look}\r\n            onChange={handleCharacterChange}/>\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableBody>\r\n  </Table></TableContainer>\r\n          );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {races} from 'data/raceList';\r\nimport {dwClasses} from 'data/classList';\r\nimport {alignments} from 'data/classAlignments';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {\r\n  FormControl,\r\n  MenuItem,\r\n  Paper,\r\n  Select,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2)\r\n  },\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n}));\r\n\r\nexport default function CharacterType() {\r\n\r\n  const classes = useStyles();\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n  const alig = character.alignment;\r\n  const race = character.race;\r\n\r\n  const raceAttributes = () => {\r\n    if (character.dwClass && character.race) {\r\n      return (classDetails.[dwc].raceAttributes.[race]);\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  const alignmentAttributes = () => {\r\n    if (character.dwClass && character.alignment) {\r\n      return (classDetails.[dwc].alignmentAttributes.[alig]);\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\r\n          <TableBody>\r\n            <TableRow>\r\n              <th>CLASS\r\n              </th>\r\n              <TableCell style={{\r\n                  \"width\" : \"25%\"\r\n                }}>\r\n                <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\r\n                  <Select tabIndex={-1} value={character.dwClass || \"null\"} name=\"class\" onChange={event => {\r\n                      handleCharacterChange(event);\r\n                      setCharacter(character => ({...character, alignment: \"null\"}))\r\n                    }}>\r\n                    <MenuItem disabled value=\"null\" hidden=\"hidden\"/> {\r\n                      dwClasses.map((data, key) => {\r\n                        return (<MenuItem value={data} key={key}>\r\n                          {data}\r\n                        </MenuItem>);\r\n                      })\r\n                    }\r\n                  </Select>\r\n                </FormControl>\r\n              </TableCell>\r\n              <TableCell></TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <th>RACE</th>\r\n              <TableCell>\r\n                <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\r\n                  <Select tabIndex={-1} value={character.race || \"null\"} name=\"race\" onChange={handleCharacterChange}>\r\n                    <MenuItem disabled value=\"null\" hidden=\"hidden\"/> {\r\n                      races.map((data, key) => {\r\n                        return (<MenuItem value={data} key={key}>\r\n                          {data}\r\n                        </MenuItem>);\r\n                      })\r\n                    }\r\n                  </Select>\r\n                </FormControl>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TextField multiline fullWidth variant=\"outlined\" aria-label=\"empty textarea\" name=\"raceAttributes\" InputProps={{\r\n                    readOnly: true\r\n                  }} value={raceAttributes()}/>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <th>ALIGNMENT</th>\r\n              <TableCell>\r\n                <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\r\n                  <Select tabIndex={-1} value={character.alignment || \"null\"} name=\"alignment\" onChange={handleCharacterChange}>\r\n                    <MenuItem disabled value=\"null\" hidden=\"hidden\"/> {\r\n                      character.dwClass && dwc && alignments.[dwc].map((data, key) => {\r\n                        return (<MenuItem value={data} key={key}>\r\n                          {data}\r\n                        </MenuItem>);\r\n                      })\r\n                    }\r\n                  </Select>\r\n                </FormControl>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TextField multiline fullWidth variant=\"outlined\" aria-label=\"empty textarea\" name=\"alignmentAttribute\" InputProps={{\r\n                    readOnly: true\r\n                  }} value={alignmentAttributes()}/>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    width: 80,\r\n    \r\n    '& input': {\r\n      textAlign: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function CharacterDamage() {\r\n\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n    const classes = useStyles();\r\n\r\n  const damage = () => {\r\n    if (character.dwClass) {\r\n      return (classDetails.[dwc].damage);\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  return (\r\n            <TextField\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              className={classes.textField}\r\n              name=\"damage\"\r\n              label=\"Damage\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              value={damage()}/>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    width: 80,\r\n    \r\n    '& input': {\r\n      textAlign: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function CharacterArmour() {\r\n\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n  const classes = useStyles();\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              label=\"Armour\"\r\n              min={0}\r\n              name=\"armour\"\r\n              className={classes.textField}\r\n              value={character.armour || ''}\r\n              onChange={handleCharacterChange}/>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    width: 80,\r\n    \r\n    '& input': {\r\n      textAlign: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function CharacterFunds() {\r\n\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n    const classes = useStyles();\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              className={classes.textField}\r\n              name=\"funds\"\r\n              label=\"Funds\"\r\n              min={0}\r\n              value={character.funds || ''}\r\n              onChange={handleCharacterChange}/>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    width: 80,\r\n    \r\n    '& input': {\r\n      textAlign: 'center'\r\n    },\r\n    margin: 4,\r\n  }\r\n}));\r\n\r\nexport default function CharacterHP() {\r\n\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n    const classes = useStyles();\r\n\r\n  const maxHp = () => {\r\n    if (character.dwClass && character.abilities) {\r\n      return (\"/ \" + (classDetails.[dwc].baseHp + parseInt(character.abilities.find(x => x.category === 'CON').score ,10)));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (<>\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              label=\"HP\"\r\n              min={0}\r\n              size=\"small\"\r\n              className={classes.textField}\r\n              name=\"hp\"\r\n              value={character.hp || ''}\r\n              onChange={handleCharacterChange}/>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              label=\"Max HP\"\r\n              size=\"small\"\r\n              className={classes.textField}\r\n              name=\"maxHp\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              value={maxHp()} />\r\n            </>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    width: 80,\r\n    \r\n    '& input': {\r\n      textAlign: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function CharacterLevel() {\r\n\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n    const classes = useStyles();\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              label=\"Level\"\r\n              className={classes.textField}\r\n              min={1}\r\n              name=\"level\"\r\n              value={character.level || ''}\r\n              onChange={handleCharacterChange}/>\r\n          );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    width: 80,\r\n    \r\n    '& input': {\r\n      textAlign: 'center'\r\n    },\r\n    margin: 4,\r\n  }\r\n}));\r\n\r\nexport default function CharacterXP() {\r\n\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n  const classes = useStyles();\r\n\r\n  // Total Load\r\n  const calcMaxXp = () => {\r\n    if (character.level) {\r\n      return (\"/ \" + (parseInt(character.level,10) + 7));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  const handleCharacterChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setCharacter(character => ({...character,[name]: value}))\r\n  };\r\n\r\n  return (<>\r\n            <TextField\r\n              type=\"number\"\r\n              variant=\"outlined\"\r\n              label=\"XP\"\r\n              min={0}\r\n              size=\"small\"\r\n              className={classes.textField}\r\n              name=\"xp\"\r\n              value={character.xp || ''}\r\n              onChange={handleCharacterChange}/>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              label=\"Max XP\"\r\n              className={classes.textField}\r\n              name=\"maxXp\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              value={calcMaxXp()} />\r\n            </>);\r\n}\r\n","import React from 'react';\r\nimport {\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow\r\n} from '@material-ui/core';\r\nimport CharacterDamage from 'components/character/CharacterDamage'\r\nimport CharacterArmour from 'components/character/CharacterArmour'\r\nimport CharacterFunds from 'components/character/CharacterFunds'\r\nimport CharacterHP from 'components/character/CharacterHP'\r\nimport CharacterLevel from 'components/character/CharacterLevel'\r\nimport CharacterXP from 'components/character/CharacterXP'\r\n\r\nexport default function CharacterBasicStats() {\r\n\r\n  return (<TableContainer component={Paper}>\r\n    <Table>\r\n      <TableBody>\r\n        <TableRow>\r\n          <TableCell><CharacterLevel/></TableCell>\r\n          <TableCell><CharacterXP/></TableCell>\r\n          <TableCell><CharacterDamage/></TableCell>\r\n          <TableCell><CharacterArmour/></TableCell>\r\n          <TableCell><CharacterFunds/></TableCell>\r\n          <TableCell><CharacterHP/></TableCell>\r\n        </TableRow>\r\n      </TableBody>\r\n    </Table>\r\n  </TableContainer>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {abilityAfflictions} from 'data/abilityAfflictions';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  FormControl,\r\n  Grid,\r\n  MenuItem,\r\n  Select,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n      width: 160,\r\n      padding: 0,\r\n  },\r\n  cardHeader: {\r\n      textAlign: 'center'\r\n  },\r\n  formControl: {\r\n    margin: 0,\r\n    width: 126,\r\n    textAlign: 'center'\r\n  },\r\n  textField: {\r\n    width: 126,\r\n    '& input': {\r\n      textAlign: 'center'\r\n    }\r\n  },\r\n  textFieldBold: {\r\n    width: 126,\r\n    '& input': {\r\n      textAlign: 'center',\r\n      fontWeight: \"bold\",\r\n      fontSize: 25\r\n    },\r\n  }\r\n}));\r\n\r\nexport default function CharacterAbilities() {\r\n\r\n  const classes = useStyles();\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n\r\n  const updateAbilityScore = index => e => {\r\n    let newAbilities = [...character.abilities]; // copying the old array\r\n    newAbilities[index] = {\r\n      ...character.abilities[index],\r\n      score: e.target.value\r\n    }; // replace value\r\n    setCharacter(character => ({\r\n      ...character,\r\n      abilities: newAbilities\r\n    })); // set array back\r\n  }\r\n\r\n  const updateAbilityAffliction = index => e => {\r\n    let newAbilities = [...character.abilities]; // copying the old array\r\n    newAbilities[index] = {\r\n      ...character.abilities[index],\r\n      affliction: e.target.value\r\n    }; // replace value\r\n    setCharacter(character => ({\r\n      ...character,\r\n      abilities: newAbilities\r\n    })); // set array back\r\n  }\r\n\r\n  const abilityModifier = (abilityScore, abilityAffliction) => {\r\n\r\n    if (abilityScore && abilityAffliction) {\r\n      let baseModifier;\r\n      let afflicted;\r\n\r\n      abilityScore = parseInt(abilityScore, 10);\r\n\r\n      if ([1, 2, 3].indexOf(abilityScore) > -1) {\r\n        baseModifier = -3;\r\n      } else if ([4, 5].indexOf(abilityScore) > -1) {\r\n        baseModifier = -2;\r\n      } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\r\n        baseModifier = -1;\r\n      } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\r\n        baseModifier = 0;\r\n      } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\r\n        baseModifier = 1;\r\n      } else if ([16, 17].indexOf(abilityScore) > -1) {\r\n        baseModifier = 2;\r\n      } else if (abilityScore === 18) {\r\n        baseModifier = 3;\r\n      }\r\n\r\n      /* -1 if afflicted */\r\n      if (abilityAffliction === \"Unafflicted\") {\r\n        afflicted = 0;\r\n      } else {\r\n        afflicted = 1;\r\n      }\r\n\r\n      let modifier = (baseModifier - afflicted);\r\n\r\n      if (modifier > 0) {\r\n        return (\"[+\" + modifier + \"]\");\r\n      } else {\r\n        return (\"[\" + modifier + \"]\");\r\n      }\r\n    } else {\r\n      return ('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={0} justify=\"center\">\r\n      {\r\n        character.abilities && character.abilities.map((abilities, index) => {\r\n          const ab = abilities.category;\r\n          return(\r\n          <Grid item key={index}>\r\n            <Card className={classes.card} >\r\n              <CardHeader title={abilities.category} className={classes.cardHeader}/>\r\n              <CardContent>\r\n                  <TextField type=\"number\" variant=\"outlined\" size=\"small\" margin=\"none\" min={1} max={18} name={abilities.category + \"Score\"} value={abilities.score} className={classes.textField} onChange={updateAbilityScore(index)}/>\r\n                  <TextField variant=\"outlined\" name={abilities.category + \"Modifier\"} value={abilityModifier(abilities.score, abilities.affliction)} InputProps={{readOnly: true}} className={classes.textFieldBold}/>\r\n                  <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\r\n                    <Select tabIndex={-1} value={abilities.affliction || \"null\"} name={abilities.category + \"Affliction\"} onChange={updateAbilityAffliction(index)}>\r\n                      {\r\n                        abilityAfflictions.[ab].map((data, key) => {\r\n                          return (<MenuItem value={data} key={key}>\r\n                            {data}\r\n                          </MenuItem>);\r\n                        })\r\n                      }\r\n                    </Select>\r\n                  </FormControl>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>);\r\n        })\r\n      }\r\n    </Grid>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Add,Delete} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {IconButton,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n}));\r\n\r\nexport default function CharacterBonds() {\r\n\r\n  const classes = useStyles();\r\n  const {character, setCharacter} = useContext(CharacterState);\r\n\r\n  // State manipulation\r\n  const updateBond = index => e => {\r\n    let newBonds = [...character.bonds]; // copying the old array\r\n    newBonds[index] = {...character.bonds[index], bond: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, bonds: newBonds})); // set array back\r\n  }\r\n\r\n  // Delete rows in the table\r\n  const deleteBondRow = index => {\r\n    const newBonds = [...character.bonds]; // copying the old array\r\n    if (character.bonds.length !== 1) { //don't delete last row\r\n      newBonds.splice(index, 1); // remove item from array\r\n      setCharacter(character => ({...character, bonds: newBonds})); // set array back\r\n    } else {\r\n      alert('Cannot delete final row');\r\n    }\r\n  }\r\n\r\n  // Add rows in the table\r\n  const addBondsRow = () => {\r\n    const newBonds = [...character.bonds, {bond: \"\"}]; // copying the old array and adding blank item\r\n    setCharacter(character => ({...character, bonds: newBonds})); // set array back\r\n  }\r\n\r\n  return (\r\n      <TableContainer component={Paper}>\r\n    <Table className={classes.table} aria-label=\"simple table\">\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell align=\"center\">Bond</TableCell>\r\n          <TableCell>\r\n            <IconButton aria-label=\"add\" onClick={() => addBondsRow()}>\r\n              <Add />\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {\r\n         character.bonds && character.bonds.map((bonds,index) => {\r\n         return (\r\n           <TableRow key={index}>\r\n               <TableCell>\r\n                 <TextField\r\n                   multiline\r\n                   fullWidth\r\n                   variant=\"outlined\"\r\n                   aria-label=\"empty textarea\"\r\n                   placeholder=\"Add 2-3 bonds here\"\r\n                   value={bonds.bond}\r\n                   name={\"bond\" + index}\r\n                   onChange={updateBond(index)}\r\n                   />\r\n               </TableCell>\r\n               <TableCell>\r\n                 <IconButton aria-label=\"delete\" onClick={() => deleteBondRow(index)}>\r\n                   <Delete/>\r\n                 </IconButton>\r\n               </TableCell>\r\n           </TableRow>)\r\n        })\r\n      }\r\n      </TableBody>\r\n      <tfoot/>\r\n    </Table>\r\n    </TableContainer>\r\n    );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {classDetails} from 'data/classDetails';\r\nimport {Add,Delete} from '@material-ui/icons';\r\nimport {Chip,IconButton,FormControl,Paper,Select, MenuItem,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    listStyle: 'none',\r\n    padding: theme.spacing(0.5),\r\n    margin: 0,\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(0.5),\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2)\r\n  },\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n}));\r\n\r\nexport default function CharacterGear() {\r\n\r\n  const classes = useStyles();\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n\r\n  // Total Load\r\n  const totalLoad = () => {\r\n    if (character.items) {\r\n      return (character.items.reduce((totalLoad,data) => totalLoad + parseInt((data.weight || 0),10) ,0));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  // Max Load\r\n  const maxLoad = () => {\r\n\r\n    if (character.dwClass && character.abilities.find(x => x.category === 'STR').score && character.abilities.find(x => x.category === 'STR').affliction) {\r\n      let str = character.abilities.find(x => x.category === 'STR');\r\n      let baseModifier;\r\n      let abilityAffliction = str.affliction;\r\n      let abilityScore = parseInt(str.score,10);\r\n      let afflicted;\r\n\r\n      if ([1, 2, 3].indexOf(abilityScore) > -1) {\r\n        baseModifier = -3;\r\n      } else if ([4, 5].indexOf(abilityScore) > -1) {\r\n        baseModifier = -2;\r\n      } else if ([6, 7, 8].indexOf(abilityScore) > -1) {\r\n        baseModifier = -1;\r\n      } else if ([9, 10, 11, 12].indexOf(abilityScore) > -1) {\r\n        baseModifier = 0;\r\n      } else if ([13, 14, 15].indexOf(abilityScore) > -1) {\r\n        baseModifier = 1;\r\n      } else if ([16, 17].indexOf(abilityScore) > -1) {\r\n        baseModifier = 2;\r\n      } else if (abilityScore === 18) {\r\n        baseModifier = 3;\r\n      }\r\n\r\n      /*-1 if afflicted*/\r\n      if (abilityAffliction === \"Unafflicted\") {\r\n        afflicted = 0;\r\n      } else {\r\n        afflicted = 1;\r\n      }\r\n\r\n      let modifier = (baseModifier - afflicted);\r\n\r\n      return (\"/ \" + (classDetails.[dwc].baseLoad + modifier));\r\n    } else {\r\n      return ('');\r\n    }\r\n  };\r\n\r\n  // State manipulation\r\n  const handleCharacterChange = (event, index) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    let newItems = [...character.items]; // copying the old array\r\n    newItems[index] = {...character.items[index], [name]: value}; // replace value\r\n    setCharacter(character => ({...character, items: newItems})); // set array back\r\n  };\r\n\r\n  //Delete Item Tags\r\n  const deleteTag = (index, key) => () => {\r\n    let newItems = [...character.items]; // copying the old items array\r\n    let newItem = newItems[index]; // copying the specific item\r\n    let newItemTags = [...newItem.tags]; // copying the old item tags\r\n    newItemTags = newItemTags.filter(tags => tags.key !== key); // filtering the old item tags to remove tag\r\n    newItem = {...newItem, tags: newItemTags}; // re-setting Item Tags for Item\r\n    newItems[index] = newItem; // re-setting Item\r\n    setCharacter(character => ({...character, items: newItems})); // set array back\r\n  };\r\n\r\n  // Delete rows in the table\r\n  const deleteItemRow = index => {\r\n    const newItems = [...character.items]; // copying the old array\r\n    if (character.items.length !== 1) { //don't delete last row\r\n      newItems.splice(index, 1); // remove item from array\r\n      setCharacter(character => ({...character, items: newItems})); // set array back\r\n    } else {\r\n      alert('Cannot delete final row');\r\n    }\r\n  }\r\n\r\n  // Add rows in the table\r\n  const addItemRow = () => {\r\n    const newItems = [...character.items, {name: \"\", description: \"\", weight: \"\", type: \"\", range: \"\", cost: \"\", uses: \"\", tags: []}]; // copying the old array and adding blank item\r\n    setCharacter(character => ({...character, items: newItems})); // set array back\r\n  }\r\n  //,\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\">NAME</TableCell>\r\n            <TableCell align=\"center\">TYPE</TableCell>\r\n            <TableCell align=\"center\" colSpan=\"4\">DESCRIPTION</TableCell>\r\n            <TableCell align=\"center\">RANGE</TableCell>\r\n            <TableCell align=\"center\">COST</TableCell>\r\n            <TableCell align=\"center\">USES</TableCell>\r\n            <TableCell align=\"center\">TAGS</TableCell>\r\n            <TableCell align=\"center\" colSpan=\"2\">WEIGHT</TableCell>\r\n            <TableCell>\r\n              <IconButton aria-label=\"add\" onClick={() => addItemRow()}>\r\n                <Add/>\r\n              </IconButton>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {\r\n           character.items && character.items.map((items,index) => {\r\n           return (\r\n             <TableRow key={index}>\r\n                 <TableCell>\r\n                   <TextField\r\n                     fullWidth\r\n                     variant=\"outlined\"\r\n                     aria-label=\"empty textarea\"\r\n                     placeholder=\"Item name\"\r\n                     value={items.name}\r\n                     name=\"name\"\r\n                     onChange={ (event) => handleCharacterChange(event,index)}/>\r\n                 </TableCell>\r\n                 <TableCell align=\"center\">\r\n                   <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                   <Select tabIndex={-1} value={items.type} name=\"type\" onChange={ (event) => handleCharacterChange(event,index)}>\r\n                     <MenuItem disabled value=\"null\" hidden=\"hidden\"/>\r\n                     <MenuItem value=\"Item\">Item</MenuItem>\r\n                     <MenuItem value=\"Poison\">Poison</MenuItem>\r\n                     <MenuItem value=\"Weapon\">Weapon</MenuItem>\r\n                   </Select>\r\n                   </FormControl>\r\n                 </TableCell>\r\n                 <TableCell colSpan=\"4\">\r\n                   <TextField\r\n                     multiline\r\n                     fullWidth\r\n                     variant=\"outlined\"\r\n                     aria-label=\"empty textarea\"\r\n                     placeholder=\"Item description\"\r\n                     value={items.description}\r\n                     name=\"description\"\r\n                     onChange={(event) => handleCharacterChange(event,index)}/>\r\n                 </TableCell>\r\n                 <TableCell align=\"center\">\r\n                   <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                   <Select tabIndex={-1} value={items.range} name=\"range\" onChange={(event) => handleCharacterChange(event,index)}>\r\n                     <MenuItem value=\"null\" hidden=\"hidden\"/>\r\n                     <MenuItem value=\"Close\">Close</MenuItem>\r\n                     <MenuItem value=\"Hand\">Hand</MenuItem>\r\n                     <MenuItem value=\"Far\">Far</MenuItem>\r\n                     <MenuItem value=\"Near\">Near</MenuItem>\r\n                     <MenuItem value=\"Near & Far\">Near & Far</MenuItem>\r\n                     <MenuItem value=\"Reach\">Reach</MenuItem>\r\n                     <MenuItem value=\"Reach & Near\">Reach & Near</MenuItem>\r\n                   </Select>\r\n                   </FormControl>\r\n               </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <TextField\r\n                   type=\"number\"\r\n                   fullWidth\r\n                   variant=\"outlined\"\r\n                   min={0}\r\n                   name=\"cost\"\r\n                   value={items.cost}\r\n                   onChange={(event) => handleCharacterChange(event,index)}/>\r\n               </TableCell>\r\n                 <TableCell align=\"center\">\r\n                   <TextField\r\n                   type=\"number\"\r\n                   fullWidth\r\n                   variant=\"outlined\"\r\n                   min={0}\r\n                   name=\"uses\"\r\n                   value={items.uses}\r\n                   onChange={(event) => handleCharacterChange(event,index)}/>\r\n               </TableCell>\r\n                 <TableCell align=\"center\">\r\n                   <div className={classes.root}>\r\n                       {items.tags.map((data) => {\r\n                         return (\r\n                           <li key={data.key}>\r\n                             <Chip\r\n                               size=\"small\"\r\n                               color=\"primary\"\r\n                               label={data.tag}\r\n                               onDelete={deleteTag(index,data.key)}\r\n                               className={classes.chip}\r\n                             />\r\n                           </li>\r\n                         );\r\n                       })}\r\n                     </div>\r\n                   </TableCell>\r\n                 <TableCell colSpan=\"2\">\r\n                   <TextField\r\n                     type=\"number\"\r\n                     fullWidth\r\n                     variant=\"outlined\"\r\n                     min={0}\r\n                     value={items.weight}\r\n                     name=\"weight\"\r\n                     onChange={(event) => handleCharacterChange(event,index)}/>\r\n                 </TableCell>\r\n                 <TableCell>\r\n                   <IconButton aria-label=\"delete\" onClick={() => deleteItemRow(index)}>\r\n                       <Delete/>\r\n                    </IconButton>\r\n                 </TableCell>\r\n             </TableRow>)\r\n          })}\r\n          <TableRow>\r\n            <TableCell align=\"right\" colSpan=\"10\">LOAD</TableCell>\r\n            <TableCell>\r\n              <TextField\r\n                type=\"number\"\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"totalLoad\"\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n                value={totalLoad()} />\r\n            </TableCell>\r\n            <TableCell>\r\n              <TextField\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"maxLoad\"\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n                value={maxLoad()} />\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Add,Delete} from '@material-ui/icons';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {Checkbox,IconButton,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n}));\r\n\r\nexport default function CharacterClassFeatures() {\r\n\r\n  const classes = useStyles();\r\n  const {character, setCharacter}= useContext(CharacterState);\r\n\r\n  // State manipulation\r\n  const updateFeatureCheckbox = index => e => {\r\n    let newFeatures = [...character.classFeatures]; // copying the old array\r\n    newFeatures[index] = {...character.classFeatures[index], checkbox: e.target.checked}; // replace value\r\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n  }\r\n\r\n  const updateFeature = index => e => {\r\n    let newFeatures = [...character.classFeatures]; // copying the old array\r\n    newFeatures[index] = {...character.classFeatures[index], feature: e.target.value}; // replace value\r\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n  }\r\n\r\n  // Delete rows in the table\r\n  const deleteFeatureRow = index => {\r\n    const newFeatures = [...character.classFeatures]; // copying the old array\r\n    if (character.classFeatures.length !== 1) { //don't delete last row\r\n      newFeatures.splice(index, 1); // remove item from array\r\n      setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n    } else {\r\n      alert('Cannot delete final row');\r\n    }\r\n  }\r\n\r\n  // Add rows in the table\r\n  const addFeatureRow = () => {\r\n    const newFeatures = [...character.classFeatures, {feature: \"\", checkbox: false}]; // copying the old array and adding blank item\r\n    setCharacter(character => ({...character, classFeatures: newFeatures})); // set array back\r\n  }\r\n\r\n  return (\r\n        <TableContainer component={Paper}>\r\n          <Table className={classes.table} aria-label=\"simple table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell colSpan=\"2\" align=\"center\">Feature</TableCell>\r\n                <TableCell>\r\n                  <IconButton aria-label=\"add\" onClick={() => addFeatureRow()}>\r\n                    <Add/>\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n                {\r\n                 character.classFeatures && character.classFeatures.map((classFeatures,index) => {\r\n                 return (\r\n                   <TableRow key={index}>\r\n                     <TableCell>\r\n                       <Checkbox\r\n                         name={\"classFeatureCheckbox\" + index}\r\n                         checked={!!classFeatures.checkbox}\r\n                         onChange={updateFeatureCheckbox(index)}\r\n                         color=\"primary\"\r\n                         />\r\n                     </TableCell>\r\n                       <TableCell>\r\n                         <TextField\r\n                          multiline\r\n                          fullWidth\r\n                          variant=\"outlined\"\r\n                           aria-label=\"empty textarea\"\r\n                           placeholder=\"Add any Class Features here (e.g. Spell Lists, Poison Recipes, Druid Balance, Paladin Quests or anything else!)\"\r\n                           value={classFeatures.feature}\r\n                           name={\"classFeature\" + index}\r\n                           onChange={updateFeature(index)}/>\r\n                       </TableCell>\r\n                       <TableCell>\r\n                         <IconButton aria-label=\"delete\" onClick={() => deleteFeatureRow(index)}>\r\n                           <Delete/>\r\n                         </IconButton>\r\n                       </TableCell>\r\n                   </TableRow>)\r\n                })\r\n              }\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>);\r\n}\r\n","import React from 'react';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {standardMoves} from 'data/movesList';\r\n\r\nexport default function CharacterStandardMoves() {\r\n\r\n  return (<> {\r\n    standardMoves.map((data, index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>{data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{__html: data.description}}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } </>);\r\n}\r\n","import React from 'react';\r\nimport {Accordion,AccordionSummary,AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {advancedMoves} from 'data/movesList';\r\n\r\nexport default function CharacterAdvancedMoves() {\r\n  return (<>\r\n        {\r\n          advancedMoves.map((data,index) => {\r\n            return (\r\n              <Accordion key={index}>\r\n                <AccordionSummary expandIcon={<ExpandMore/>}>{data.name}</AccordionSummary>\r\n                <AccordionDetails>\r\n                      <p dangerouslySetInnerHTML={{__html: data.description }}></p>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              );\r\n        })\r\n      }\r\n    </>);\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {classMoves} from 'data/movesList';\r\n\r\nexport default function CharacterClassStartingMoves() {\r\n\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n\r\n  return (<> {\r\n    dwc && classMoves.[dwc].startingMoves.map((data,index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>\r\n          {data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{\r\n              __html: data.description\r\n            }}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } < />)\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {classMoves} from 'data/movesList';\r\n\r\nexport default function CharacterClassAdvancedMoves2to5() {\r\n\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n\r\n  return (<> {\r\n    dwc && classMoves.[dwc].advancedMoves2_5.map((data,index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>\r\n          {data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{\r\n              __html: data.description\r\n            }}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } < />)\r\n}\r\n","import React, {useContext} from 'react';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core';\r\nimport {ExpandMore} from '@material-ui/icons';\r\nimport {classMoves} from 'data/movesList';\r\n\r\nexport default function CharacterClassAdvancedMoves6to10() {\r\n\r\n  const {character} = useContext(CharacterState);\r\n  const dwc = character.dwClass;\r\n\r\n  return (<> {\r\n    dwc && classMoves.[dwc].advancedMoves6_10.map((data,index) => {\r\n      return (<Accordion key={index}>\r\n        <AccordionSummary expandIcon={<ExpandMore />}>\r\n          {data.name}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <p dangerouslySetInnerHTML={{\r\n              __html: data.description\r\n            }}></p>\r\n        </AccordionDetails>\r\n      </Accordion>);\r\n    })\r\n  } < />)\r\n}\r\n","import React, {useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {AppBar, Box, Tab, Tabs} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport CharacterClassStartingMoves from 'components/character/CharacterClassStartingMoves'\r\nimport CharacterClassAdvancedMoves2to5 from 'components/character/CharacterClassAdvancedMoves2to5'\r\nimport CharacterClassAdvancedMoves6to10 from 'components/character/CharacterClassAdvancedMoves6to10'\r\n\r\n// Tab functions\r\nfunction TabPanel(props) {\r\n  const {\r\n    children,\r\n    value,\r\n    index,\r\n    ...other\r\n  } = props;\r\n\r\n  return (<div role=\"tabpanel\" hidden={value !== index} id={`simple-tabpanel-${index}`} aria-labelledby={`simple-tab-${index}`} {...other}>\r\n    {\r\n      value === index && (<Box p={3}>\r\n        {children}\r\n      </Box>)\r\n    }\r\n  </div>);\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {id: `simple-tab-${index}`, 'aria-controls': `simple-tabpanel-${index}`};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper\r\n  }\r\n}));\r\n\r\nexport default function CharacterClassMoves() {\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const handleTabChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (<div className={classes.root}>\r\n    <AppBar position=\"static\">\r\n      <Tabs value={value} onChange={handleTabChange} aria-label=\"simple tabs example\">\r\n        <Tab label=\"Starting\" {...a11yProps(0)}/>\r\n        <Tab label=\"Levels 2-5\" {...a11yProps(1)}/>\r\n        <Tab label=\"Levels 6-10\" {...a11yProps(2)}/>\r\n      </Tabs>\r\n    </AppBar>\r\n    <TabPanel value={value} index={0}>\r\n      <CharacterClassStartingMoves/>\r\n    </TabPanel>\r\n    <TabPanel value={value} index={1}>\r\n      <CharacterClassAdvancedMoves2to5/>\r\n    </TabPanel>\r\n    <TabPanel value={value} index={2}>\r\n      <CharacterClassAdvancedMoves6to10/>\r\n    </TabPanel>\r\n  </div>);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {AppBar,Box,Tab,Tabs} from '@material-ui/core';\r\nimport CharacterStandardMoves from 'components/character/CharacterStandardMoves'\r\nimport CharacterAdvancedMoves from 'components/character/CharacterAdvancedMoves'\r\nimport CharacterClassMoves from 'components/character/CharacterClassMoves'\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nexport default function CharacterMoves() {\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n          <Tabs value={value} onChange={handleTabChange} aria-label=\"simple tabs example\">\r\n            <Tab label=\"Standard\" {...a11yProps(0)} />\r\n            <Tab label=\"Advanced\" {...a11yProps(1)} />\r\n            <Tab label=\"Class\" {...a11yProps(2)} />\r\n          </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <CharacterStandardMoves/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <CharacterAdvancedMoves/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <CharacterClassMoves/>\r\n      </TabPanel>\r\n    </div>);\r\n}\r\n","import React, {useState} from 'react';\r\nimport {Button, FormControl, InputLabel, MenuItem, Select, TextField} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    width: 126,\r\n    textAlign: 'center'\r\n  },\r\n  textField: {\r\n    width: 126,\r\n    '& input': {\r\n      textAlign: 'center'\r\n    }\r\n  },\r\n}));\r\n\r\nexport default function DiceRoller() {\r\n\r\n  const [dice, setDice] = useState();\r\n  const [diceNum, setDiceNum] = useState();\r\n  const [rollResult, setRollResult] = useState(0);\r\n  const classes = useStyles();\r\n\r\n  function singleRoll(sides) {\r\n    const roll = Math.floor(Math.random() * sides) + 1;\r\n    return roll;\r\n  }\r\n\r\n  function rollDice(sides, diceNum) {\r\n    sides = parseInt(sides, 10);\r\n    diceNum = parseInt(diceNum, 10);\r\n    let total = 0;\r\n    for (let i = 0; i < diceNum; i++) {\r\n      total = total + singleRoll(sides);\r\n    }\r\n    return setRollResult(total);\r\n  }\r\n\r\n  return (<>\r\n    <FormControl variant = \"outlined\" size = \"small\" className = {classes.formControl}>\r\n      <InputLabel>Dice</InputLabel>\r\n      <Select tabIndex={-1} defaultValue=\"null\" label=\"dice\" onChange={event => {setDice(event.target.value)}}>\r\n        <MenuItem disabled=\"disabled\" value=\"null\" hidden=\"hidden\"/>\r\n        <MenuItem value=\"6\">d6</MenuItem>\r\n        <MenuItem value=\"8\">d8</MenuItem>\r\n        <MenuItem value=\"10\">d10</MenuItem>\r\n      </Select>\r\n    </FormControl>\r\n    <br/>\r\n    <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\r\n      <InputLabel>Number</InputLabel>\r\n      <Select tabIndex={-1} defaultValue=\"null\" label=\"Number\" onChange={event => {setDiceNum(event.target.value)}}>\r\n        <MenuItem disabled=\"disabled\" value=\"null\" hidden=\"hidden\"/>\r\n        <MenuItem value=\"1\">1</MenuItem>\r\n        <MenuItem value=\"2\">2</MenuItem>\r\n        <MenuItem value=\"3\">3</MenuItem>\r\n      </Select>\r\n    </FormControl>\r\n    <Button onClick = {() => rollDice(dice, diceNum)}>Roll</Button>\r\n    <TextField variant=\"outlined\" size=\"small\" label=\"Result\" className={classes.textField} value = {rollResult}/>\r\n  </>);\r\n}\r\n","import React, {useState, useEffect, useCallback, useContext, useMemo} from 'react';\r\nimport {useParams} from 'react-router';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport PropTypes from 'prop-types';\r\nimport CharacterState from 'components/contexts/CharacterState';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {AppBar, Box, Tab, Tabs} from '@material-ui/core';\r\nimport CharacterSheetHeader from 'components/character/CharacterSheetHeader'\r\nimport CharacterBasicDetails from 'components/character/CharacterBasicDetails'\r\nimport CharacterType from 'components/character/CharacterType'\r\nimport CharacterBasicStats from 'components/character/CharacterBasicStats'\r\nimport CharacterAbilities from 'components/character/CharacterAbilities'\r\nimport CharacterBonds from 'components/character/CharacterBonds'\r\nimport CharacterGear from 'components/character/CharacterGear'\r\nimport CharacterClassFeatures from 'components/character/CharacterClassFeatures'\r\nimport CharacterMoves from 'components/character/CharacterMoves'\r\nimport DiceRoller from 'components/other/DiceRoller'\r\n\r\n// Tab functions\r\nfunction TabPanel(props) {\r\n  const {\r\n    children,\r\n    value,\r\n    index,\r\n    ...other\r\n  } = props;\r\n\r\n  return (<div role=\"tabpanel\" hidden={value !== index} id={`simple-tabpanel-${index}`} aria-labelledby={`simple-tab-${index}`} {...other}>\r\n    {\r\n      value === index && (<Box p={3}>\r\n        {children}\r\n      </Box>)\r\n    }\r\n  </div>);\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {id: `simple-tab-${index}`, 'aria-controls': `simple-tabpanel-${index}`};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper\r\n  }\r\n}));\r\n\r\n// Debounce function\r\nconst debounce = (callback, delay) => {\r\n  let timer;\r\n  return(...args) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => callback(...args), delay);\r\n  }\r\n}\r\n\r\nexport default function CharacterSheet() {\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [character, setCharacter] = useState({});\r\n  const {campaignURL, characterURL} = useParams();\r\n  const {currentUser} = useContext(AuthState);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  // Subscribe to Character Data\r\n  useEffect(() => {\r\n    if (campaignURL && characterURL) {\r\n      const unsubscribe = FirebaseService.streamCharacter(campaignURL, characterURL, {\r\n        next: documentSnapshot => {\r\n          setCharacter(documentSnapshot.data());\r\n        },\r\n        error: (error) => {\r\n          alert(\"Failed to load character data correctly, see console error\");\r\n          console.error(\"Error loading document:\", error);\r\n        }\r\n      });\r\n      return unsubscribe;\r\n    }\r\n  }, [campaignURL, characterURL, setCharacter]);\r\n\r\n  // Debounced Save\r\n  const debouncedSave = useCallback(debounce(character => FirebaseService.saveCharacter(campaignURL, characterURL, character).then(() => {\r\n    console.info('Saved Character:', character);\r\n  }).catch((error) => {\r\n    alert(\"Failed to save character data correctly, see console error\");\r\n    console.error(\"Error saving document:\", error);\r\n  }), 5000), []);\r\n\r\n  // Save changes to character\r\n  useEffect(() => {\r\n    if (character && Object.keys(character).length >= 1 && currentUser.email === character.owner) {\r\n      console.info(\"CharacterState:\", character);\r\n      debouncedSave(character);\r\n    }\r\n  }, [character]); //Only trigger effect on change of character\r\n\r\n  const ctx = useMemo(() => ({character, setCharacter}), [character]); //Memo-ised state for performance\r\n\r\n  return (<CharacterState.Provider value={ctx}>\r\n    <CharacterSheetHeader/>\r\n    <br/>\r\n    <div className={classes.root}>\r\n      <CharacterBasicStats/>\r\n      <br/>\r\n      <CharacterAbilities/>\r\n      <br/>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleTabChange} aria-label=\"simple tabs example\">\r\n          <Tab label=\"Basic Details\" {...a11yProps(0)}/>\r\n          <Tab label=\"Bonds\" {...a11yProps(1)}/>\r\n          <Tab label=\"Class Features\" {...a11yProps(2)}/>\r\n          <Tab label=\"Gear\" {...a11yProps(3)}/>\r\n          <Tab label=\"Moves\" {...a11yProps(4)}/>\r\n          <Tab label=\"Dice Roller\" {...a11yProps(5)}/>\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <CharacterBasicDetails/>\r\n        <br/>\r\n        <CharacterType/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <CharacterBonds/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <CharacterClassFeatures/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <CharacterGear/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        <CharacterMoves/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={5}>\r\n        <DiceRoller/>\r\n      </TabPanel>\r\n    </div>\r\n  </CharacterState.Provider>);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nconst CampaignState = createContext();\r\n\r\nexport default CampaignState;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useParams} from 'react-router';\r\nimport {Breadcrumbs} from '@material-ui/core';\r\n\r\nexport default function CampaignHeader() {\r\n\r\n  const {campaignURL} = useParams();\r\n\r\n  return (<div>\r\n    <Breadcrumbs aria-label=\"breadcrumb\">\r\n      <Link to=\"/dw-react\">Home</Link>\r\n      <p>{campaignURL}</p>\r\n    </Breadcrumbs>\r\n    <h1>Campaign: {campaignURL}</h1>\r\n  </div>);\r\n}\r\n","import React, {useContext, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useParams} from 'react-router';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport CampaignState from 'components/contexts/CampaignState';\r\nimport {Add, Delete} from '@material-ui/icons';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Grid,\r\n  IconButton,\r\n  Typography,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\n\r\nexport default function CampaignDetails() {\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const {campaign} = useContext(CampaignState);\r\n  const [charaName, setCharaName] = useState(\"\");\r\n  const {currentUser} = useContext(AuthState);\r\n  const {campaignURL} = useParams();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setOpen(false);\r\n    saveCharacter();\r\n  }\r\n\r\n  // Create New Character\r\n  const saveCharacter = () => {\r\n    if (campaignURL && charaName) { //don't save unless details present\r\n      FirebaseService.createCharacter(campaignURL, charaName, currentUser.email).then(() => {\r\n        console.info('Created Character:', charaName);\r\n      }).catch((error) => {\r\n        alert(\"Failed to create character, see console error\");\r\n        console.error(\"Error creating document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot save blank character');\r\n    }\r\n  }\r\n\r\n  // Delete Character\r\n  const deleteCharacter = (campaign, character) => {\r\n    if (campaign && character) { //don't save unless details present\r\n      FirebaseService.deleteCharacter(campaign, character).then(() => {\r\n        console.info('Deleted Character:', character);\r\n      }).catch((error) => {\r\n        alert(\"Failed to delete character, see console error\");\r\n        console.error(\"Error deleting document:\", error);\r\n      });\r\n    } else {\r\n      alert('Cannot delete blank character');\r\n    }\r\n  }\r\n\r\n  return (<>\r\n    <Grid container spacing={3}>\r\n        {\r\n            campaign.campaign && campaign.campaign.map((campaign, index) => {\r\n              return (\r\n                <Grid item xs={3} key={index}>\r\n                <Card className={classes.root} >\r\n                  <CardHeader\r\n                     action={\r\n                       <IconButton aria-label=\"delete\" onClick={() => deleteCharacter(campaignURL, campaign.character)}>\r\n                         <Delete />\r\n                       </IconButton>\r\n                     }\r\n                     title={<Link to={\"/dw-react/\" + campaignURL + \"/\" + campaign.character}>{campaign.character}</Link>}\r\n                     subheader={campaign.characterData.owner}/>\r\n                  <CardContent>\r\n                    <Typography variant=\"body1\" component=\"p\">{campaign.characterData.dwClass}</Typography>\r\n                    <Typography variant=\"body1\" component=\"p\">{campaign.characterData.race}</Typography>\r\n                    <Typography variant=\"body1\" component=\"p\">{campaign.characterData.alignment}</Typography>\r\n                    <br/>\r\n                    <Typography variant=\"body2\" component=\"p\">HP: {campaign.characterData.hp}</Typography>\r\n                    <Typography variant=\"body2\" component=\"p\">XP: {campaign.characterData.xp}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>)\r\n            })\r\n          }\r\n\r\n          <Grid item xs={3}>\r\n          <Card className={classes.root}>\r\n            <CardHeader title=\"Add Character\"/>\r\n            <CardContent>\r\n              <IconButton aria-label=\"add\" onClick={handleClickOpen}>\r\n                <Add />\r\n              </IconButton>\r\n            </CardContent>\r\n          </Card>\r\n          </Grid>\r\n\r\n        </Grid>\r\n    <Dialog open={open} onClose={handleCancel} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">Create new character</DialogTitle > <DialogContent>\r\n        <DialogContentText>\r\n          To create a character, please enter the new character name here. You will not be able to change this once saved.\r\n        </DialogContentText>\r\n        <TextField autoFocus={true} margin=\"dense\" id=\"name\" label=\"Short Character Name\" fullWidth onChange={event => setCharaName(event.target.value)}/>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Create Character\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  </>);\r\n}\r\n","import React, {useState, useEffect, useMemo} from 'react';\r\nimport {useParams} from 'react-router';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport CampaignState from 'components/contexts/CampaignState';\r\nimport CampaignHeader from 'components/campaign/CampaignHeader';\r\nimport CampaignDetails from 'components/campaign/CampaignDetails';\r\n\r\nexport default function CampaignSheet() {\r\n\r\n  const [campaign, setCampaign] = useState({});\r\n  const {campaignURL} = useParams();\r\n\r\n  // Use an effect hook to subscribe to the campaign stream and\r\n  // automatically unsubscribe when the component unmounts.\r\n  useEffect(() => {\r\n    if (campaignURL) {\r\n      const unsubscribe = FirebaseService.streamCharacters(campaignURL, {\r\n        next: querySnapshot => {\r\n          //const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => { return(docSnapshot.data())});\r\n          const updatedCharacterList = querySnapshot.docs.map((docSnapshot) => {\r\n            return ({character: docSnapshot.id, characterData: docSnapshot.data()})\r\n          });\r\n          setCampaign(campaign => ({campaign: updatedCharacterList}));\r\n        },\r\n        error: (error) => {\r\n          alert(\"Failed to load campaign data correctly, see console error\");\r\n          console.error(\"Error loading document:\", error);\r\n        }\r\n      });\r\n      return unsubscribe;\r\n    }\r\n  }, [campaignURL, setCampaign]);\r\n\r\n  useEffect(() => {\r\n    console.info(\"Campaign State:\", campaign);\r\n  }, [campaign]); //Only log to console if state actually changes\r\n\r\n  const ctx = useMemo(() => ({campaign, setCampaign}), [campaign]); //Memo-ised state for performance\r\n\r\n  return (<CampaignState.Provider value={ctx}>\r\n    <CampaignHeader/>\r\n    <br/>\r\n    <CampaignDetails/>\r\n  </CampaignState.Provider>);\r\n}\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport {Container, Typography} from '@material-ui/core';\r\nimport ErrorPage from 'components/ErrorPage'\r\nimport Homepage from 'components/homepage/Homepage';\r\nimport AppHeader from 'components/AppHeader';\r\nimport CharacterSheet from 'components/character/CharacterSheet';\r\nimport Campaign from 'components/campaign/Campaign';\r\nimport \"@fontsource/roboto\"\r\n\r\nexport default function App() {\r\n  return (<Typography component={'span'}>\r\n    <Container>\r\n      <Router>\r\n        <AppHeader/>\r\n        <Switch>\r\n          <Route exact={true} path=\"/dw-react/:campaignURL/:characterURL\" component={CharacterSheet}/>\r\n          <Route exact={true} path=\"/dw-react/:campaignURL\" component={Campaign}/>\r\n          <Route exact={true} path=\"/dw-react\" component={Homepage}/>\r\n          <Route component={ErrorPage}/>\r\n        </Switch>\r\n      </Router>\r\n    </Container>\r\n  </Typography>)\r\n}\r\n","import React, {useState, useEffect, useMemo} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from 'components/App';\r\nimport * as FirebaseService from 'services/firebase';\r\nimport AuthState from 'components/contexts/AuthState';\r\nimport {Button} from '@material-ui/core';\r\n\r\nfunction Index() {\r\n\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  const ctx = useMemo(() => ({currentUser}), [currentUser]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = FirebaseService.auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n    });\r\n    return unsubscribe;\r\n  }, [])\r\n\r\n  return (<AuthState.Provider value={ctx}>\r\n    {\r\n      currentUser\r\n        ? <App/>\r\n        : <Button variant=\"contained\" color=\"primary\" onClick={FirebaseService.SignInWithGoogle}>SIGN IN WITH GOOGLE</Button>\r\n    }\r\n  </AuthState.Provider>);\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<Index/>, rootElement);\r\n"],"sourceRoot":""}