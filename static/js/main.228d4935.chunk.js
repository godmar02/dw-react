(this["webpackJsonpdw-react"]=this["webpackJsonpdw-react"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"a":{"Barbarian":{"damage":"d10","baseHp":8,"baseLoad":8,"alignmentAttributes":{"Chaotic":"You eschew a convention of the civilized world.","Neutral":"Teach someone the ways of your people."},"raceAttributes":{"Dwarf":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Elf":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Goblin":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Halfling":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP","Human":"You and your people are not from around here. At the beginning of each session, the GM will ask you something about your homeland, why you left, or what you left behind. If you answer them, mark XP"}},"Bard":{"damage":"d6","baseHp":6,"baseLoad":9,"alignmentAttributes":{"Good":"Perform your art to aid someone else.","Neutral":"Avoid a conflict or defuse a tense situation.","Chaotic":"Spur others to significant and unplanned decisive action."},"raceAttributes":{"Dwarf":"Undefined","Elf":"When you enter an important location (your call) you can ask the GM for one fact from the history of that location.","Goblin":"Undefined","Halfling":"Undefined","Human":"When you first enter a civilized settlement someone who respects the custom of hospitality to minstrels will take you in as their guest."}},"Cleric":{"damage":"d6","baseHp":6,"baseLoad":10,"alignmentAttributes":{"Good":"Endanger yourself to heal another.","Lawful":"Endanger yourself following the precepts of your church or god.","Evil":"Harm another to prove the superiority of your church or god."},"raceAttributes":{"Dwarf":"You are one with stone. When you commune you are also granted a special version of Words of the Unspeaking as a rote which only works on stone.","Elf":"Undefined","Goblin":"Undefined","Halfling":"Undefined","Human":"Your faith is diverse. Choose one wizard spell. You can cast and be granted that spell as if it was a cleric spell."}},"Druid":{"damage":"d6","baseHp":6,"baseLoad":6,"alignmentAttributes":{"Chaotic":"Destroy a symbol of civilization.","Good":"Help something or someone grow.","Neutral":"Eliminate an unnatural menace."},"raceAttributes":{"Dwarf":"When you share a drink with someone, you may parley with them using CON instead of CHA.","Elf":"The sap of the elder trees flows within you. In addition to any other attunements, the Great Forest is always considered your land.","Goblin":"Undefined","Halfling":"You sing the healing songs of spring and brook. When you make camp, you and your allies heal +1d6.","Human":"As your people learned to bind animals to field and farm, so too are you bound to them. You may always take the shape of any domesticated animal, in addition to your normal options."}},"Fighter":{"damage":"d10","baseHp":10,"baseLoad":12,"alignmentAttributes":{"Good":"Defend those weaker than you.","Neutral":"Defeat a worthy opponent.","Evil":"Kill a defenseless or surrendered enemy."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Choose one weapon\u2014you can always treat weapons of that type as if they had the precise tag.","Goblin":"Undefined","Halfling":"When you defy danger and use your small size to your advantage, take +1.","Human":"Once per battle you may reroll a single damage roll (yours or someone else\'s)."}},"Paladin":{"damage":"d10","baseHp":10,"baseLoad":12,"alignmentAttributes":{"Lawful":"Deny mercy to a criminal or unbeliever.","Good":"Endanger yourself to protect someone weaker than you."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Undefined","Goblin":"Undefined","Halfling":"Undefined","Human":"When you pray for guidance, even for a moment, and ask, \'What here is evil?\'\' the GM will tell you, honestly."}},"Ranger":{"damage":"d8","baseHp":8,"baseLoad":11,"alignmentAttributes":{"Chaotic":"Free someone from literal or figurative bonds.","Good":"Endanger yourself to combat an unnatural threat.","Neutral":"Help an animal or spirit of the wild."},"raceAttributes":{"Dwarf":"Undefined","Elf":"When you undertake a perilous journey through wilderness whatever job you take you succeed as if you rolled a 10+.","Goblin":"Undefined","Halfling":"Undefined","Human":"When you make camp in a dungeon or city, you don\'t need to consume a ration."}},"Thief":{"damage":"d8","baseHp":6,"baseLoad":9,"alignmentAttributes":{"Chaotic":"Leap into danger without a plan.","Neutral":"Avoid detection or infiltrate a location.","Evil":"Shift danger or blame from yourself to someone else."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Undefined","Goblin":"Undefined","Halfling":"When you attack with a ranged weapon, deal +2 damage.","Human":"You are a professional. When you spout lore or discern realities about criminal activities, take +1."}},"Wizard":{"damage":"d4","baseHp":4,"baseLoad":7,"alignmentAttributes":{"Good":"Use magic to directly aid another.","Neutral":"Discover something about a magical mystery.","Evil":"Use magic to cause terror and fear."},"raceAttributes":{"Dwarf":"Undefined","Elf":"Magic is as natural as breath to you. Detect Magic is a cantrip for you.","Goblin":"Undefined","Halfling":"Undefined","Human":"Choose one cleric spell. You can cast it as if it was a wizard spell."}}}}')},20:function(e){e.exports=JSON.parse('{"a":[{"name":"Last Breath","description":"<p>When <strong>you&#8217;re dying</strong> you catch a glimpse of what lies beyond the Black Gates of Death&#8217;s Kingdom (the GM will describe it). Then roll (just roll, +nothing&#8212;yeah, Death doesn&#8217;t care how tough or cool you are). On a 10+ you&#8217;ve cheated death&#8212;you&#8217;re in a bad spot but you&#8217;re still alive. On a 7&#8211;9 Death will offer you a bargain. Take it and stabilize or refuse and pass beyond the Black Gates into whatever fate awaits you. On a miss, your fate is sealed. You&#8217;re marked as Death&#8217;s own and you&#8217;ll cross the threshold soon. The GM will tell you when.</p>"},{"name":"Encumbrance","description":"<p>When you <strong>make a move while carrying weight</strong> up to or equal to load, you&#8217;re fine. When you make a move while carrying weight equal to load+1 or load+2, you take -1. When you make a move while carrying weight greater than load+2, you have a choice: drop at least 1 weight and roll at -1, or automatically fail.</p>"},{"name":"Make Camp","description":"<p>When you <strong>settle in to rest</strong> consume a ration. If you&#8217;re somewhere dangerous decide the watch order as well. If you have enough XP you may Level Up. When you wake from at least a few uninterrupted hours of sleep heal damage equal to half your max HP.</p>"},{"name":"Take Watch","description":"<p>When <strong>you&#8217;re on watch and something approaches the camp</strong> roll+Wis. On a 10+ you&#8217;re able to wake the camp and prepare a response, the camp takes +1 forward. On a 7&#8211;9 you react just a moment too late; the camp is awake but hasn&#8217;t had time to prepare. You have weapons and armor but little else. On a miss whatever lurks outside the campfire&#8217;s light has the drop on you.</p>"},{"name":"Undertake a Perilous Journey","description":"<p>When you <strong>travel through hostile territory</strong>, choose one member of the party to act as trailblazer, one to scout ahead, and one to be quartermaster (the same character cannot have two jobs). If you don&#8217;t have enough party members or choose not to assign a job, treat that job as if it had rolled a 6. Each character with a job to do rolls+Wis. On a 10+ the quartermaster reduces the number of rations required by one. On a 10+ the trailblazer reduces the amount of time it takes to reach your destination (the GM will say by how much). On a 10+ the scout will spot any trouble quick enough to let you get the drop on it. On a 7&#8211;9 each roles performs their job as expected: the normal number of rations are consumed, the journey takes about as long as expected, no one gets the drop on you but you don&#8217;t get the drop on them either.</p>"},{"name":"Level Up","description":"<p>When you <strong>have downtime (hours or days) and XP equal to (or greater than) your current level + 7</strong>, subtract your current level +7 from your XP, increase your level by 1, and choose a new advanced move from your class. If you are the wizard, you also get to add a new spell to your spellbook.</p><p>Choose one of your stats and increase it by 1 (this may change your modifier). Changing your Constitution increases your maximum and current HP. Ability scores can&#8217;t go higher than 18.</p>"},{"name":"End of Session","description":"<p>When you <strong>reach the end of a session</strong>, choose one your bonds that you feel is resolved (completely explored, no longer relevant, or otherwise). Ask the player of the character you have the bond with if they agree. If they do, mark XP and write a new bond with whomever you wish.</p><p>Once bonds have been updated look at your alignment. If you fulfilled that alignment at least once this session, mark XP. Then answer these three questions as a group:</p><ul><li>Did we learn something new and important about the world?</li><li>Did we overcome a notable monster or enemy?</li><li>Did we loot a memorable treasure?</li></ul><p>For each &#8220;yes&#8221; answer everyone marks XP.</p>"}],"c":[{"name":"Hack and Slash","description":"<p>When you <strong>attack an enemy in melee</strong>, roll+Str. On a 10+ you deal your damage to the enemy and avoid their attack. At your option, you may choose to do +1d6 damage but expose yourself to the enemy&#8217;s attack. On a 7&#8211;9, you deal your damage to the enemy and the enemy makes an attack against you.</p>"},{"name":"Volley","description":"<p>When you <strong>take aim and shoot at an enemy at range</strong>, roll+Dex. On a 10+ you have a clear shot&#8212;deal your damage. On a 7&#8211;9, choose one (whichever you choose you deal your damage):</p><ul><li>You have to move to get the shot placing you in danger of the GM&#8217;s choice</li><li>You have to take what you can get: -1d6 damage</li><li>You have to take several shots, reducing your ammo by one.</li></ul>"},{"name":"Defy Danger","description":"<p>When you <strong>act despite an imminent threat</strong> or <strong>suffer a calamity</strong>, say how you deal with it and roll. If you do it&#8230;</p><ul><li>&#8230;by powering through, +Str</li><li>&#8230;by getting out of the way or acting fast, +Dex</li><li>&#8230;by enduring, +Con</li><li>&#8230;with quick thinking, +Int</li><li>&#8230;through mental fortitude, +Wis</li><li>&#8230;using charm and social grace, +Cha</li></ul><p>On a 10+, you do what you set out to, the threat doesn&#8217;t come to bear. On a 7&#8211;9, you stumble, hesitate, or flinch: the GM will offer you a worse outcome, hard bargain, or ugly choice.</p>"},{"name":"Defend","description":"<p>When you <strong>stand in defense of a person, item, or location</strong> under attack, roll+Con. On a 10+, hold 3. On a 7&#8211;9, hold 1. So long as you stand in defense, when you or the thing you defend is attacked you may spend hold, 1 for 1, to choose an option:</p><ul><li>Redirect an attack from the thing you defend to yourself</li><li>Halve the attack&#8217;s effect or damage</li><li>Open up the attacker to an ally giving that ally +1 forward against the attacker</li><li>Deal damage to the attacker equal to your level</li></ul>"},{"name":"Spout Lore","description":"<p>When you <strong>consult your accumulated knowledge about something</strong>, roll+Int. On a 10+ the GM will tell you something interesting and useful about the subject relevant to your situation. On a 7&#8211;9 the GM will only tell you something interesting&#8212;it&#8217;s on you to make it useful. The GM might ask you &#8220;How do you know this?&#8221; Tell them the truth, now.</p>"},{"name":"Discern Realities","description":"<p>When you <strong>closely study a situation or person</strong>, roll+Wis. On a 10+ ask the GM 3 questions from the list below. On a 7&#8211;9 ask 1. Take +1 forward when acting on the answers.</p><ul><li>What happened here recently?</li><li>What is about to happen?</li><li>What should I be on the lookout for?</li><li>What here is useful or valuable to me?</li><li>Who&#8217;s really in control here?</li><li>What here is not what it appears to be?</li></ul>"},{"name":"Parley","description":"<p>When you <strong>have leverage on a GM character and manipulate them</strong>, roll+Cha. Leverage is something they need or want. On a hit they ask you for something and do it if you make them a promise first. On a 7&#8211;9, they need some concrete assurance of your promise, right now.</p>"},{"name":"Aid or Interfere","description":"<p>When you <strong>help or hinder someone</strong>, roll+Bond with them. On a 10+ they take +1 or -2, your choice. On a 7&#8211;9 you also expose yourself to danger, retribution, or cost.</p>"},{"name":"Carouse","description":"<p>When you <strong>return triumphant and throw a big party</strong>, spend 100 coin and roll + extra 100s of coin spent. On a 10+ choose 3. On a 7&#8211;9 choose 1. On a miss, you still choose one, but things get really out of hand.</p><ul><li>You befriend a useful NPC</li><li>You hear rumors of an opportunity</li><li>You gain useful information</li><li>You are not entangled, ensorcelled, or tricked</li></ul>"},{"name":"Supply","description":"<p>When you <strong>go to buy something with gold on hand</strong>, if it&#8217;s something readily available in the settlement you&#8217;re in, you can buy it at market price. If it&#8217;s something special, beyond what&#8217;s usually available here, or non-mundane, roll+Cha. On a 10+ you find what you&#8217;re looking for at a fair price. On a 7&#8211;9 you&#8217;ll have to pay more or settle for something similar.</p>"},{"name":"Recover","description":"<p>When you <strong>do nothing but rest in comfort and safety</strong> after a day of rest you recover all your HP. After three days of rest you remove one debility of your choice. If you&#8217;re under the care of a healer (magical or otherwise) you heal a debility for every two days of rest instead.</p>"},{"name":"Recruit","description":"<p>When you <strong>put out word that you&#8217;re looking to hire help</strong>, roll. If you make it known&#8230;</p><ul><li>&#8230;that your pay is generous, take +1</li><li>&#8230;what you&#8217;re setting out to do, take +1</li><li>&#8230;that they&#8217;ll get a share of whatever you find, take +1</li></ul><p>If you have a useful reputation around these parts take an additional +1. On a 10+ you&#8217;ve got your pick of a number of skilled applicants, your choice who you hire, no penalty for not taking them along. On a 7&#8211;9 you&#8217;ll have to settle for someone close or turn them away. On a miss someone influential and ill-suited declares they&#8217;d like to come along (a foolhardy youth, a loose-cannon, or a veiled enemy, for example), bring them and take the consequences or turn them away. If you turn away applicants you take -1 forward to Recruit.</p>"},{"name":"Outstanding Warrants","description":"<p>When you <strong>return to a civilized place in which you&#8217;ve caused trouble before</strong>, roll+Cha. On a hit, word has spread of your deeds and everyone recognizes you. On a 7&#8211;9, that, and, the GM chooses a complication:</p><ul><li>The local constabulary has a warrant out for your arrest</li><li>Someone has put a price on your head</li><li>Someone important to you has been put in a bad spot as a result of your actions</li></ul>"},{"name":"Bolster","description":"<p>When you <strong>spend your leisure time in study, meditation, or hard practice,</strong> you gain preparation. If you prepare for a week or two, 1 preparation. If you prepare for a month or longer, 3 preparation. When your preparation pays off spend 1 preparation for +1 to any roll. You can only spend one preparation per roll.</p>"}],"b":{"Barbarian":{"startingMoves":[{"name":"","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Bard":{"startingMoves":[{"name":"Arcane Art","description":""},{"name":"Bardic Lore","description":""},{"name":"Charming and Open","description":""},{"name":"A Port in the Storm","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Cleric":{"startingMoves":[{"name":"Deity","description":""},{"name":"Divine Guidance","description":""},{"name":"Turn Undead","description":""},{"name":"Commune","description":""},{"name":"Cast a Spell","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Druid":{"startingMoves":[{"name":"Born of the Soil","description":""},{"name":"By Nature Sustained","description":""},{"name":"Spirit Tongue","description":""},{"name":"Shapeshifter","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Fighter":{"startingMoves":[{"name":"Bend Bars","description":""},{"name":"Lift Gates","description":""},{"name":"Armored","description":""},{"name":"Signature Weapon","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Paladin":{"startingMoves":[{"name":"Lay on Hands (Cha)","description":""},{"name":"Armored","description":""},{"name":"I Am the Law","description":""},{"name":"Quest","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Ranger":{"startingMoves":[{"name":"Animal Companion","description":""},{"name":"Command","description":""},{"name":"Hunt and Track (Wis)","description":""},{"name":"Called Shot","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Thief":{"startingMoves":[{"name":"Trap Expert","description":""},{"name":"Tricks of the Trade","description":""},{"name":"Backstab","description":""},{"name":"Flexible Morals","description":""},{"name":"Poisoner","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]},"Wizard":{"startingMoves":[{"name":"Spellbook","description":""},{"name":"Prepare Spells","description":""},{"name":"Cast a Spell (Int)","description":""},{"name":"Spell Defense","description":""},{"name":"Ritual","description":""}],"advancedMoves2-5":[{"name":"","description":""}],"advancedMoves6-10":[{"name":"","description":""}]}}}')},32:function(e){e.exports=JSON.parse('{"a":["Dwarf","Elf","Goblin","Halfling","Human"]}')},33:function(e){e.exports=JSON.parse('{"a":["Barbarian","Bard","Cleric","Druid","Fighter","Paladin","Ranger","Thief","Wizard"]}')},34:function(e){e.exports=JSON.parse('{"a":{"Barbarian":["Chaotic","Neutral"],"Bard":["Good","Neutral","Chaotic"],"Cleric":["Good","Lawful","Evil"],"Druid":["Chaotic","Good","Neutral"],"Fighter":["Good","Neutral","Evil"],"Paladin":["Lawful","Good"],"Ranger":["Chaotic","Good","Neutral"],"Thief":["Chaotic","Neutral","Evil"],"Wizard":["Good","Neutral","Evil"]}}')},35:function(e){e.exports=JSON.parse('{"a":{"STR":["Unafflicted","Weak"],"DEX":["Unafflicted","Shaky"],"CON":["Unafflicted","Sick"],"INT":["Unafflicted","Stunned"],"WIS":["Unafflicted","Confused"],"CHA":["Unafflicted","Scarred"]}}')},40:function(e,t,n){},41:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(2),o=n.n(r),c=n(30),i=n.n(c),s=(n(40),n(41),n(16)),l=n(6),d=n(0);var u=function(){return Object(d.jsx)("h1",{children:"Oops! Page not found!"})},h=n(21);n(54),n(44);h.a.initializeApp({apiKey:"AIzaSyAIKYE0kZAcB5AzAmuiNB37BFjoiO6AY6g",authDomain:"dungeon-world-45d46.firebaseapp.com",projectId:"dungeon-world-45d46",databaseURL:"https://dungeon-world-45d46-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"dungeon-world-45d46.appspot.com",messagingSenderId:"226498870916",appId:"1:226498870916:web:7cbaa58a3a178f1afeccd1",measurementId:"G-YTPKF0BTK9"});var b=h.a.auth(),j=h.a.firestore(),m=new h.a.auth.GoogleAuthProvider;function O(){b.signInWithPopup(m)}m.setCustomParameters({prompt:"select_account"});h.a;var f=o.a.createContext(),p=o.a.createContext(null);var y=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useContext)(f),i=Object(a.a)(c,2),s=i[0],l=i[1],u=Object(r.useContext)(p),h=Object(a.a)(u,1)[0],b=function(){var e,t;n?(e=n,t=h.email,j.collection("campaigns").doc(e).set({owner:t})).then((function(){console.info("Created Campaign:",n),l(!s)})).catch((function(e){alert("Failed to create campaign, see console error"),console.error("Error creating document:",e)})):alert("Cannot save blank campaign")};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("table",{style:{width:"100%"},id:"basicInfoTable",children:Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"25%"},children:Object(d.jsx)("label",{htmlFor:"campName",children:"CAMPAIGN NAME"})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Add your new Campaign Name, you wont be able to change this one saved",name:"campName",onChange:function(e){return o(e.target.value)}})})]})})}),Object(d.jsx)("button",{onClick:function(){return b()},children:"Save Campaign"})]})};var x=function(){var e=Object(r.useState)({}),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(a.a)(c,2),l=i[0],u=i[1];Object(r.useEffect)((function(){var e;return e={next:function(e){var t=e.docs.map((function(e){return{id:e.id,owner:e.data().owner}}));o((function(e){return{campaigns:t}}))},error:function(e){alert("Failed to load data correctly, see console error"),console.error("Error loading data:",e)}},j.collection("campaigns").onSnapshot(e)}),[o]);var h=function(e){var t;e?(t=e,j.collection("campaigns").doc(t).delete()).then((function(){console.info("Deleted Campaign:",e)})).catch((function(e){alert("Failed to delete campaign, see console error"),console.error("Error deleting document:",e)})):alert("Cannot delete blank campaign")};return console.log("Campaigns State:",n),Object(d.jsxs)(f.Provider,{value:[l,u],children:[Object(d.jsx)("br",{}),Object(d.jsx)("h1",{children:"WELCOME!"}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{colSpan:"2",children:"CAMPAIGNS"}),Object(d.jsx)("th",{children:Object(d.jsx)("button",{onClick:function(){return u(!l)},children:"+"})})]})}),Object(d.jsx)("tbody",{children:n.campaigns&&n.campaigns.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(s.b,{to:"/dw-react/"+e.id,children:e.id})}),Object(d.jsxs)("td",{children:["(",e.owner,")"]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return h(e.id)},children:"Delete"})})]},t)}))})]}),l?Object(d.jsx)(y,{}):null]})};var g=function(){return Object(d.jsx)("div",{})},v=o.a.createContext();var w=function(){var e=Object(r.useContext)(p),t=Object(a.a)(e,1)[0],n=Object(r.useContext)(v),o=Object(a.a)(n,2),c=o[0],i=o[1];return Object(d.jsx)("img",{className:"profPicture",id:"userPicture",src:t.photoURL,alt:"Google Profile",onClick:function(){return i(!c)}})};var C=function(){var e=Object(r.useContext)(p),t=Object(a.a)(e,1)[0],n=Object(r.useContext)(v),o=Object(a.a)(n,2);return o[0],o[1],Object(d.jsxs)("div",{className:"profDetails",children:[Object(d.jsx)("div",{children:"Google Account"}),Object(d.jsx)("div",{id:"userName",children:t.displayName}),Object(d.jsx)("div",{id:"userEmail",children:t.email}),Object(d.jsx)("button",{onClick:function(){return b.signOut()},children:"LOG OUT"})]})};var k=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(d.jsx)(v.Provider,{value:[n,o],children:Object(d.jsxs)("div",{children:[Object(d.jsx)(w,{}),n?Object(d.jsx)(C,{}):null]})})};var A=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Dungeon World Character Sheet"}),Object(d.jsx)("p",{children:Object(d.jsx)("i",{children:"v0.10.0 by Godmar02"})})]})},S=o.a.createContext([{},function(){}]);var E=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,1)[0],n=Object(l.f)(),o=n.campaignURL,c=n.characterURL;return Object(d.jsxs)("div",{children:[Object(d.jsx)(s.b,{to:"/dw-react",children:"Home"})," >",Object(d.jsxs)(s.b,{to:"/dw-react/"+o,children:[" ",o]})," >",Object(d.jsxs)("p",{children:[" ",c]}),Object(d.jsx)("h1",{children:c}),Object(d.jsx)("p",{children:t.fullName})]})},N=n(3);var I=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(d.jsx)("table",{style:{width:"100%"},id:"basicInfoTable",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"25%"},children:Object(d.jsx)("label",{htmlFor:"fullName",children:"FULL NAME"})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Add your characters full name here",value:n.fullName,name:"fullName",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{fullName:e.target.value})}))}})})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"25%"},children:Object(d.jsx)("label",{htmlFor:"backstory",children:"BACKSTORY"})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Describe your character's backstory and anything else about your characters identity here",value:n.backstory,name:"backstory",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{backstory:e.target.value})}))}})})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"25%"},children:Object(d.jsx)("label",{htmlFor:"look",children:"LOOK"})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Describe your character's appearance here",name:"look",value:n.look,onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{look:e.target.value})}))}})})]})]})})},M=n(32),T=n(33),F=n(34),D=n(17);var P=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1],c=n.dwClass,i=n.alignment,s=n.race;return Object(d.jsx)("table",{style:{width:"100%"},id:"additionalInfoTable",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)("label",{style:{width:"25%"},htmlFor:"dwClass",children:"CLASS"})}),Object(d.jsx)("td",{style:{width:"25%"},children:Object(d.jsxs)("select",{tabIndex:-1,value:n.dwClass||"null",name:"dwClass",onChange:function(e){o((function(t){return Object(N.a)(Object(N.a)({},t),{},{dwClass:e.target.value})})),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{alignment:"null"})}))},children:[Object(d.jsx)("option",{disabled:!0,value:"null",hidden:!0}),T.a.map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t)}))]})}),Object(d.jsx)("td",{style:{width:"50%"}})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:"race",children:"RACE"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{tabIndex:-1,value:n.race||"null",name:"race",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{race:e.target.value})}))},children:[Object(d.jsx)("option",{disabled:!0,value:"null",hidden:!0}),M.a.map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t)}))]})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{className:"grey",name:"raceAttributes",readOnly:"readOnly",value:n.dwClass&&n.race?D.a[c].raceAttributes[s]:""})})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:"alignment",children:"ALIGNMENT"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{tabIndex:-1,value:n.alignment||"null",name:"alignment",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{alignment:e.target.value})}))},children:[Object(d.jsx)("option",{disabled:!0,value:"null",hidden:!0}),n.dwClass&&c&&F.a[c].map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t)}))]})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{className:"grey",name:"alignmentAttribute",readOnly:"readOnly",value:n.dwClass&&n.alignment?D.a[c].alignmentAttributes[i]:""})})]})]})})};var R=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,1)[0],n=t.dwClass;return Object(d.jsxs)("table",{id:"damage",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:"damage",children:"DAMAGE"})})})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",className:"shortfield grey",name:"damage",readOnly:"readOnly",value:t.dwClass?D.a[n].damage:""})})})})]})};var U=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(d.jsxs)("table",{id:"armour",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:"armour",children:"ARMOUR"})})})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",min:0,className:"shortfield",name:"armour",value:n.armour||"",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{armour:e.target.value})}))}})})})})]})};var W=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(d.jsxs)("table",{id:"funds",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:"funds",children:"FUNDS"})})})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",className:"shortfield",name:"funds",min:0,id:"funds",value:n.funds||"",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{funds:e.target.value})}))}})})})})]})};var G=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1],c=n.dwClass;return Object(d.jsxs)("table",{id:"hp",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{colSpan:2,children:Object(d.jsx)("label",{htmlFor:"hp",children:"HP"})})})}),Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",min:0,className:"shortfield",name:"hp",value:n.hp||"",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{hp:e.target.value})}))}})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",className:"shortfield grey",name:"maxHp",readOnly:"readOnly",value:n.dwClass&&n.abilities?"/ "+(D.a[c].baseHp+parseInt(n.abilities.find((function(e){return"CON"===e.category})).score,10)):""})})]})})]})};var H=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{colSpan:2,children:Object(d.jsx)("label",{htmlFor:"level",children:"LEVEL"})})})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",min:1,className:"shortfield",name:"level",value:n.level||"",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{level:e.target.value})}))}})})})})]})};var L=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{colSpan:2,children:Object(d.jsx)("label",{htmlFor:"xp",children:"XP"})})})}),Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",min:0,className:"shortfield",name:"xp",value:n.xp||"",onChange:function(e){return o((function(t){return Object(N.a)(Object(N.a)({},t),{},{xp:e.target.value})}))}})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",className:"shortfield grey",name:"maxXp",readOnly:"readOnly",value:n.level?"/ "+(parseInt(n.level,10)+7):""})})]})})]})};var _=function(){return Object(d.jsxs)("div",{className:"myForm",children:[Object(d.jsx)("div",{children:Object(d.jsx)(H,{})}),Object(d.jsx)("div",{children:Object(d.jsx)(L,{})}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{})}),Object(d.jsx)("div",{children:Object(d.jsx)(U,{})}),Object(d.jsx)("div",{children:Object(d.jsx)(W,{})}),Object(d.jsx)("div",{children:Object(d.jsx)(G,{})})]})},B=n(10),Y=n(35);var z=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1],c=function(e){return function(t){var a=Object(B.a)(n.abilities);a[e]=Object(N.a)(Object(N.a)({},n.abilities[e]),{},{score:t.target.value}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{abilities:a})}))}},i=function(e){return function(t){var a=Object(B.a)(n.abilities);a[e]=Object(N.a)(Object(N.a)({},n.abilities[e]),{},{affliction:t.target.value}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{abilities:a})}))}},s=function(e,t){if(e&&t){var n;e=parseInt(e,10),[1,2,3].indexOf(e)>-1?n=-3:[4,5].indexOf(e)>-1?n=-2:[6,7,8].indexOf(e)>-1?n=-1:[9,10,11,12].indexOf(e)>-1?n=0:[13,14,15].indexOf(e)>-1?n=1:[16,17].indexOf(e)>-1?n=2:18===e&&(n=3);var a=n-("Unafflicted"===t?0:1);return a>0?"[+"+a+"]":"["+a+"]"}return""};return Object(d.jsxs)("table",{style:{width:"100%"},id:"abilitiesTable",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){return Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:e.category,value:e.category,name:e.category,children:e.category})},t)}))})}),Object(d.jsxs)("tbody",{children:[Object(d.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){return Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",min:1,max:18,className:"ability",name:e.category+"Score",value:e.score,onChange:c(t)})},t)}))}),Object(d.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){return Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",className:"grey tallfield",name:e.category+"Modifier",value:s(e.score,e.affliction),readOnly:!0})},t)}))}),Object(d.jsx)("tr",{children:n.abilities&&n.abilities.map((function(e,t){var n=e.category;return Object(d.jsx)("td",{children:Object(d.jsxs)("select",{tabIndex:-1,className:"abilityAffliction",value:e.affliction||"null",name:e.category+"Affliction",onChange:i(t),children:[Object(d.jsx)("option",{disabled:!0,value:"null",hidden:!0}),Y.a[n].map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t)}))]})},t)}))})]})]})};var K=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1],c=function(e){return function(t){var a=Object(B.a)(n.bonds);a[e]=Object(N.a)(Object(N.a)({},n.bonds[e]),{},{bond:t.target.value}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{bonds:a})}))}};return Object(d.jsxs)("table",{style:{width:"100%"},id:"bondsTable",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"100%"},children:Object(d.jsx)("label",{children:"BONDS"})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"addRow",onClick:function(){return function(){var e=[].concat(Object(B.a)(n.bonds),[{bond:""}]);o((function(t){return Object(N.a)(Object(N.a)({},t),{},{bonds:e})}))}()},children:"+"})})]})}),Object(d.jsx)("tbody",{children:n.bonds&&n.bonds.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Add 2-3 bonds here",value:e.bond,name:"bond"+t,onChange:c(t)})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"deleteRow",onClick:function(){return function(e){var t=Object(B.a)(n.bonds);1!==n.bonds.length?(t.splice(e,1),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{bonds:t})}))):alert("Cannot delete final row")}(t)}})})]},t)}))}),Object(d.jsx)("tfoot",{})]})};var X=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1],c=n.dwClass,i=function(e){return function(t){var a=Object(B.a)(n.items);a[e]=Object(N.a)(Object(N.a)({},n.items[e]),{},{item:t.target.value}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{items:a})}))}},s=function(e){return function(t){var a=Object(B.a)(n.items);a[e]=Object(N.a)(Object(N.a)({},n.items[e]),{},{weight:t.target.value}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{items:a})}))}};return Object(d.jsxs)("table",{style:{width:"100%"},id:"itemsTable",children:[Object(d.jsxs)("thead",{children:[Object(d.jsx)("tr",{children:Object(d.jsx)("th",{colSpan:4,children:Object(d.jsx)("label",{children:"GEAR"})})}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"100%"},children:Object(d.jsx)("label",{children:"ITEM"})}),Object(d.jsx)("th",{colSpan:2,children:Object(d.jsx)("label",{children:"WEIGHT"})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"addRow",onClick:function(){return function(){var e=[].concat(Object(B.a)(n.items),[{item:"",weight:""}]);o((function(t){return Object(N.a)(Object(N.a)({},t),{},{items:e})}))}()},children:"+"})})]})]}),Object(d.jsx)("tbody",{children:n.items&&n.items.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Add any items and descriptions here",value:e.item,name:"item"+t,onChange:i(t)})}),Object(d.jsx)("td",{colSpan:2,children:Object(d.jsx)("input",{type:"number",min:0,value:e.weight,name:"itemWeight"+t,onChange:s(t)})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"deleteRow",onClick:function(){return function(e){var t=Object(B.a)(n.items);1!==n.items.length?(t.splice(e,1),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{items:t})}))):alert("Cannot delete final row")}(t)}})})]},t)}))}),Object(d.jsx)("tfoot",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)("label",{htmlFor:"load",children:"LOAD"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"number",className:"shortfield grey",name:"totalLoad",readOnly:!0,value:n.items?n.items.reduce((function(e,t){return e+parseInt(t.weight||0,10)}),0):""})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",className:"shortfield grey",name:"maxLoad",readOnly:"readOnly",value:function(){if(n.dwClass&&n.abilities.find((function(e){return"STR"===e.category})).score&&n.abilities.find((function(e){return"STR"===e.category})).affliction){var e,t=n.abilities.find((function(e){return"STR"===e.category})),a=t.affliction,r=parseInt(t.score,10);[1,2,3].indexOf(r)>-1?e=-3:[4,5].indexOf(r)>-1?e=-2:[6,7,8].indexOf(r)>-1?e=-1:[9,10,11,12].indexOf(r)>-1?e=0:[13,14,15].indexOf(r)>-1?e=1:[16,17].indexOf(r)>-1?e=2:18===r&&(e=3);var o=e-("Unafflicted"===a?0:1);return"/ "+(D.a[c].baseLoad+o)}return""}()})}),Object(d.jsx)("td",{})]})})]})};var q=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,2),n=t[0],o=t[1],c=function(e){return function(t){var a=Object(B.a)(n.classFeatures);a[e]=Object(N.a)(Object(N.a)({},n.classFeatures[e]),{},{checkbox:t.target.checked}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{classFeatures:a})}))}},i=function(e){return function(t){var a=Object(B.a)(n.classFeatures);a[e]=Object(N.a)(Object(N.a)({},n.classFeatures[e]),{},{feature:t.target.value}),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{classFeatures:a})}))}};return Object(d.jsxs)("table",{style:{width:"100%"},id:"classFeaturesTable",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{colSpan:2,style:{width:"100%"},children:Object(d.jsx)("label",{children:"CLASS FEATURES"})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"addRow",onClick:function(){return function(){var e=[].concat(Object(B.a)(n.classFeatures),[{feature:"",checkbox:!1}]);o((function(t){return Object(N.a)(Object(N.a)({},t),{},{classFeatures:e})}))}()},children:"+"})})]})}),Object(d.jsx)("tbody",{children:n.classFeatures&&n.classFeatures.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"checkbox",className:"checkbox",name:"classFeatureCheckbox"+t,checked:!!e.checkbox,onChange:c(t)})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Add any Class Features here (e.g. Spell Lists, Poison Recipes, Druid Balance, Paladin Quests or anything else!)",value:e.feature,name:"classFeature"+t,onChange:i(t)})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"deleteRow",onClick:function(){return function(e){var t=Object(B.a)(n.classFeatures);1!==n.classFeatures.length?(t.splice(e,1),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{classFeatures:t})}))):alert("Cannot delete final row")}(t)}})})]},t)}))}),Object(d.jsx)("tfoot",{})]})},J=n(20);var V=function(){return Object(d.jsxs)("table",{style:{width:"100%"},name:"standardMoves",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:Object(d.jsx)("label",{style:{width:"25%"},htmlFor:"standardMoves",children:"STANDARD MOVES"})})})}),Object(d.jsx)("tbody",{children:J.c.map((function(e){return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:e.name})}),Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}})})})]},e.name)}))})]})};var Q=function(){return Object(d.jsxs)("table",{style:{width:"100%"},name:"standardMoves",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:Object(d.jsx)("label",{style:{width:"25%"},htmlFor:"standardMoves",children:"ADVANCED MOVES"})})})}),Object(d.jsx)("tbody",{children:J.a.map((function(e){return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:e.name})}),Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}})})})]},e.name)}))})]})};var Z=function(){var e=Object(r.useContext)(S),t=Object(a.a)(e,1)[0].dwClass;return Object(d.jsxs)("table",{style:{width:"100%"},name:"standardMoves",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:Object(d.jsx)("label",{style:{width:"25%"},htmlFor:"standardMoves",children:"CLASS STARTING MOVES"})})})}),Object(d.jsx)("tbody",{children:t&&J.b[t].startingMoves.map((function(e){return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:e.name})}),Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}})})})]},e.name)}))})]})};var $=function(){var e=Object(r.useState)({}),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(a.a)(c,2),s=i[0],u=i[1],h=Object(l.f)(),b=h.campaignURL,m=h.characterURL;Object(r.useEffect)((function(){if(b&&m)return function(e,t,n){return j.collection("campaigns").doc(e).collection("characters").doc(t).onSnapshot(n)}(b,m,{next:function(e){o(e.data())},error:function(e){alert("Failed to load character data correctly, see console error"),console.error("Error loading document:",e)}})}),[b,m,o]);var O=Object(r.useCallback)(function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,r)}),t)}}((function(e){return function(e,t,n){return j.collection("campaigns").doc(e).collection("characters").doc(t).set(n)}(b,m,e).then((function(){u(!1),console.info("Saved Character:",e)})).catch((function(e){alert("Failed to save character data correctly, see console error"),console.error("Error saving document:",e)}))}),Object({NODE_ENV:"production",PUBLIC_URL:"/dw-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAIKYE0kZAcB5AzAmuiNB37BFjoiO6AY6g",REACT_APP_FIREBASE_AUTH_DOMAIN:"dungeon-world-45d46.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"dungeon-world-45d46",REACT_APP_FIREBASE_DATABASE_URL:"https://dungeon-world-45d46-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_STORAGE_BUCKET:"dungeon-world-45d46.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"226498870916",REACT_APP_FIREBASE_APP_ID:"1:226498870916:web:7cbaa58a3a178f1afeccd1",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-YTPKF0BTK9"}).DEBOUNCE_SAVE_DELAY_MS),[]);return Object(r.useEffect)((function(){n&&Object.keys(n).length>=1&&(u(!0),O(n))}),[n]),console.info("CharacterState:",n),console.info("isSaving",s),Object(d.jsxs)(S.Provider,{value:[n,o],children:[Object(d.jsx)(E,{}),Object(d.jsx)("br",{}),Object(d.jsx)(I,{}),Object(d.jsx)("br",{}),Object(d.jsx)(P,{}),Object(d.jsx)("br",{}),Object(d.jsx)(_,{}),Object(d.jsx)("br",{}),Object(d.jsx)(z,{}),Object(d.jsx)("br",{}),Object(d.jsx)(K,{}),Object(d.jsx)("br",{}),Object(d.jsx)(X,{}),Object(d.jsx)("br",{}),Object(d.jsx)(q,{}),Object(d.jsx)("br",{}),Object(d.jsx)(V,{}),Object(d.jsx)("br",{}),Object(d.jsx)(Q,{}),Object(d.jsx)("br",{}),Object(d.jsx)(Z,{})]})},ee=o.a.createContext([{},function(){}]);var te=function(){var e=Object(l.f)().campaignURL;return Object(d.jsxs)("div",{children:[Object(d.jsx)(s.b,{to:"/dw-react",children:"Home"})," >",Object(d.jsx)("p",{children:e}),Object(d.jsx)("h1",{children:e})]})},ne=o.a.createContext();var ae=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useContext)(ne),i=Object(a.a)(c,2),s=i[0],u=i[1],h=Object(r.useContext)(p),b=Object(a.a)(h,1)[0],m=Object(l.f)().campaignURL,O=function(){m&&n?function(e,t,n){return j.collection("campaigns").doc(e).collection("characters").doc(t).set({abilities:[{category:"STR",score:"",affliction:"Unafflicted"},{category:"DEX",score:"",affliction:"Unafflicted"},{category:"CON",score:"",affliction:"Unafflicted"},{category:"INT",score:"",affliction:"Unafflicted"},{category:"WIS",score:"",affliction:"Unafflicted"},{category:"CHA",score:"",affliction:"Unafflicted"}],alignment:"",armour:"",backstory:"",bonds:[{bond:""}],classFeatures:[{feature:"",checkbox:!1}],dwClass:"",fullName:"",funds:"",hp:"",items:[{item:"",weight:""}],level:"",look:"",owner:n,race:"",xp:""})}(m,n,b.email).then((function(){console.info("Created Character:",n),u(!s)})).catch((function(e){alert("Failed to create character, see console error"),console.error("Error creating document:",e)})):alert("Cannot save blank character")};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("table",{style:{width:"100%"},id:"basicInfoTable",children:Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"25%"},children:Object(d.jsx)("label",{htmlFor:"shortName",children:"SHORT NAME"})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{placeholder:"Add your characters short name here, you wont be able to change this one saved",name:"shortName",onChange:function(e){return o(e.target.value)}})})]})})}),Object(d.jsx)("button",{onClick:function(){return O()},children:"Save Character"})]})};var re=function(){var e=Object(r.useContext)(ee),t=Object(a.a)(e,1)[0],n=Object(r.useState)(!1),o=Object(a.a)(n,2),c=o[0],i=o[1],u=Object(l.f)().campaignURL,h=function(e,t){e&&t?function(e,t){return j.collection("campaigns").doc(e).collection("characters").doc(t).delete()}(e,t).then((function(){console.info("Deleted Character:",t)})).catch((function(e){alert("Failed to delete character, see console error"),console.error("Error deleting document:",e)})):alert("Cannot delete blank character")};return Object(d.jsxs)(ne.Provider,{value:[c,i],children:[Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{colSpan:"4",children:"CHARACTERS"}),Object(d.jsx)("th",{children:Object(d.jsx)("button",{onClick:function(){return i(!c)},children:"+"})})]})}),Object(d.jsx)("tbody",{children:t.campaign&&t.campaign.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(s.b,{to:"/dw-react/"+u+"/"+e.character,children:e.character})}),Object(d.jsxs)("td",{children:["(",e.characterData.owner,")"]}),Object(d.jsxs)("td",{children:["HP: ",e.characterData.hp]}),Object(d.jsxs)("td",{children:["XP: ",e.characterData.xp]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return h(u,e.character)},children:"Delete"})})]},t)}))})]}),c?Object(d.jsx)(ae,{}):null]})};var oe=function(){var e=Object(r.useState)({}),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(l.f)().campaignURL;return Object(r.useEffect)((function(){if(c)return function(e,t){return j.collection("campaigns").doc(e).collection("characters").onSnapshot(t)}(c,{next:function(e){var t=e.docs.map((function(e){return{character:e.id,characterData:e.data()}}));o((function(e){return{campaign:t}}))},error:function(e){alert("Failed to load campaign data correctly, see console error"),console.error("Error loading document:",e)}})}),[c,o]),console.info("Campaign State:",n),Object(d.jsxs)(ee.Provider,{value:[n,o],children:[Object(d.jsx)(te,{}),Object(d.jsx)("br",{}),Object(d.jsx)(re,{})]})};var ce=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{}),Object(d.jsxs)(s.a,{children:[Object(d.jsx)(A,{}),Object(d.jsx)(g,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/dw-react/:campaignURL/:characterURL",component:$}),Object(d.jsx)(l.a,{exact:!0,path:"/dw-react/:campaignURL",component:oe}),Object(d.jsx)(l.a,{exact:!0,path:"/dw-react",component:x}),Object(d.jsx)(l.a,{component:u})]})]})]})};function ie(){var e=Object(r.useState)(null),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){return b.onAuthStateChanged((function(e){o(e)}))}),[]),Object(d.jsx)(p.Provider,{value:[n],children:n?Object(d.jsx)("div",{children:Object(d.jsx)(ce,{})}):Object(d.jsx)("button",{onClick:O,children:"SIGN IN WITH GOOGLE"})})}var se=document.getElementById("root");i.a.render(Object(d.jsx)(ie,{}),se)}},[[53,1,2]]]);
//# sourceMappingURL=main.228d4935.chunk.js.map